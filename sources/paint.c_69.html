
<html>
<head>
  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.2.1.min.js"></script>
</head>
<body>
<pre><code class = "cpp">
<a name="ln1">/*</a>
<a name="ln2">    This file is part of darktable,</a>
<a name="ln3">    copyright (c) 2010 Henrik Andersson.</a>
<a name="ln4"> </a>
<a name="ln5">    darktable is free software: you can redistribute it and/or modify</a>
<a name="ln6">    it under the terms of the GNU General Public License as published by</a>
<a name="ln7">    the Free Software Foundation, either version 3 of the License, or</a>
<a name="ln8">    (at your option) any later version.</a>
<a name="ln9"> </a>
<a name="ln10">    darktable is distributed in the hope that it will be useful,</a>
<a name="ln11">    but WITHOUT ANY WARRANTY; without even the implied warranty of</a>
<a name="ln12">    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</a>
<a name="ln13">    GNU General Public License for more details.</a>
<a name="ln14"> </a>
<a name="ln15">    You should have received a copy of the GNU General Public License</a>
<a name="ln16">    along with darktable.  If not, see &lt;http://www.gnu.org/licenses/&gt;.</a>
<a name="ln17">*/</a>
<a name="ln18"> </a>
<a name="ln19">#include &quot;paint.h&quot;</a>
<a name="ln20">#include &quot;gui/draw.h&quot;</a>
<a name="ln21">#include &lt;math.h&gt;</a>
<a name="ln22"> </a>
<a name="ln23">#ifndef M_PI</a>
<a name="ln24">#define M_PI 3.141592654</a>
<a name="ln25">#endif</a>
<a name="ln26"> </a>
<a name="ln27">void dtgtk_cairo_paint_empty(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln28">{</a>
<a name="ln29">  cairo_translate(cr, x, y);</a>
<a name="ln30">  cairo_scale(cr, w, h);</a>
<a name="ln31">  cairo_stroke(cr);</a>
<a name="ln32">  cairo_identity_matrix(cr);</a>
<a name="ln33">}</a>
<a name="ln34">void dtgtk_cairo_paint_color(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln35">{</a>
<a name="ln36">  cairo_translate(cr, x, y);</a>
<a name="ln37">  cairo_scale(cr, w, h);</a>
<a name="ln38">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln39">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln40">  cairo_rectangle(cr, 0.1, 0.1, 0.8, 0.8);</a>
<a name="ln41">  cairo_fill(cr);</a>
<a name="ln42">  cairo_set_source_rgba(cr, 0, 0, 0, 0.6);</a>
<a name="ln43">  cairo_stroke(cr);</a>
<a name="ln44">  cairo_identity_matrix(cr);</a>
<a name="ln45">}</a>
<a name="ln46"> </a>
<a name="ln47">void dtgtk_cairo_paint_presets(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln48">{</a>
<a name="ln49">  const gint s = w &lt; h ? w : h;</a>
<a name="ln50">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln51">  cairo_scale(cr, s, s);</a>
<a name="ln52">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln53">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln54">  cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln55">  cairo_line_to(cr, 0.9, 0.1);</a>
<a name="ln56">  cairo_move_to(cr, 0.1, 0.5);</a>
<a name="ln57">  cairo_line_to(cr, 0.9, 0.5);</a>
<a name="ln58">  cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln59">  cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln60">  cairo_stroke(cr);</a>
<a name="ln61"> </a>
<a name="ln62">  cairo_identity_matrix(cr);</a>
<a name="ln63">}</a>
<a name="ln64"> </a>
<a name="ln65"> </a>
<a name="ln66">void dtgtk_cairo_paint_triangle(cairo_t *cr, gint x, int y, gint w, gint h, gint flags, void *data)</a>
<a name="ln67">{</a>
<a name="ln68">  /* initialize rotation and flip matrices */</a>
<a name="ln69">  cairo_matrix_t hflip_matrix;</a>
<a name="ln70">  cairo_matrix_init(&amp;hflip_matrix, -1, 0, 0, 1, 1, 0);</a>
<a name="ln71"> </a>
<a name="ln72">  double C = cos(-(M_PI / 2.0)), S = sin(-(M_PI / 2.0)); // -90 degrees</a>
<a name="ln73">  C = flags &amp; CPF_DIRECTION_DOWN ? cos(-(M_PI * 1.5)) : C;</a>
<a name="ln74">  S = flags &amp; CPF_DIRECTION_DOWN ? sin(-(M_PI * 1.5)) : S;</a>
<a name="ln75">  cairo_matrix_t rotation_matrix;</a>
<a name="ln76">  cairo_matrix_init(&amp;rotation_matrix, C, S, -S, C, 0.5 - C * 0.5 + S * 0.5, 0.5 - S * 0.5 - C * 0.5);</a>
<a name="ln77"> </a>
<a name="ln78">  /* scale and transform*/</a>
<a name="ln79">  const gint s = w &lt; h ? w : h;</a>
<a name="ln80">  cairo_save(cr);</a>
<a name="ln81">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln82">  cairo_scale(cr, s, s);</a>
<a name="ln83">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln84">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln85"> </a>
<a name="ln86">  if(flags &amp; CPF_DIRECTION_UP || flags &amp; CPF_DIRECTION_DOWN)</a>
<a name="ln87">    cairo_transform(cr, &amp;rotation_matrix);</a>
<a name="ln88">  else if(flags &amp; CPF_DIRECTION_LEFT) // Flip x transformation</a>
<a name="ln89">    cairo_transform(cr, &amp;hflip_matrix);</a>
<a name="ln90"> </a>
<a name="ln91"> </a>
<a name="ln92">  cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln93">  cairo_line_to(cr, 0.5, 0.5);</a>
<a name="ln94">  cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln95">  cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln96">  cairo_stroke(cr);</a>
<a name="ln97">  cairo_identity_matrix(cr);</a>
<a name="ln98">  cairo_restore(cr);</a>
<a name="ln99">}</a>
<a name="ln100"> </a>
<a name="ln101"> </a>
<a name="ln102"> </a>
<a name="ln103">void dtgtk_cairo_paint_solid_triangle(cairo_t *cr, gint x, int y, gint w, gint h, gint flags, void *data)</a>
<a name="ln104">{</a>
<a name="ln105">  /* initialize rotation and flip matrices */</a>
<a name="ln106">  cairo_matrix_t hflip_matrix;</a>
<a name="ln107">  cairo_matrix_init(&amp;hflip_matrix, -1, 0, 0, 1, 1, 0);</a>
<a name="ln108"> </a>
<a name="ln109">  double C = cos(-(M_PI / 2.0)), S = sin(-(M_PI / 2.0)); // -90 degrees</a>
<a name="ln110">  C = flags &amp; CPF_DIRECTION_DOWN ? cos(-(M_PI * 1.5)) : C;</a>
<a name="ln111">  S = flags &amp; CPF_DIRECTION_DOWN ? sin(-(M_PI * 1.5)) : S;</a>
<a name="ln112">  cairo_matrix_t rotation_matrix;</a>
<a name="ln113">  cairo_matrix_init(&amp;rotation_matrix, C, S, -S, C, 0.5 - C * 0.5 + S * 0.5, 0.5 - S * 0.5 - C * 0.5);</a>
<a name="ln114"> </a>
<a name="ln115">  /* scale and transform*/</a>
<a name="ln116">  const gint s = w &lt; h ? w : h;</a>
<a name="ln117">  cairo_save(cr);</a>
<a name="ln118">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln119">  cairo_scale(cr, s, s);</a>
<a name="ln120">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln121">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln122"> </a>
<a name="ln123">  if(flags &amp; CPF_DIRECTION_UP || flags &amp; CPF_DIRECTION_DOWN)</a>
<a name="ln124">    cairo_transform(cr, &amp;rotation_matrix);</a>
<a name="ln125">  else if(flags &amp; CPF_DIRECTION_LEFT) // Flip x transformation</a>
<a name="ln126">    cairo_transform(cr, &amp;hflip_matrix);</a>
<a name="ln127"> </a>
<a name="ln128">  cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln129">  cairo_line_to(cr, 0.5, 0.5);</a>
<a name="ln130">  cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln131">  cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln132">  cairo_stroke_preserve(cr);</a>
<a name="ln133">  cairo_fill(cr);</a>
<a name="ln134">  cairo_identity_matrix(cr);</a>
<a name="ln135">  cairo_restore(cr);</a>
<a name="ln136">}</a>
<a name="ln137"> </a>
<a name="ln138"> </a>
<a name="ln139"> </a>
<a name="ln140">void dtgtk_cairo_paint_arrow(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln141">{</a>
<a name="ln142">  cairo_matrix_t hflip_matrix;</a>
<a name="ln143">  cairo_matrix_init(&amp;hflip_matrix, -1, 0, 0, 1, 1, 0);</a>
<a name="ln144"> </a>
<a name="ln145">  double C = cos(-(M_PI / 2.0)), S = sin(-(M_PI / 2.0)); // -90 degrees</a>
<a name="ln146">  C = flags &amp; CPF_DIRECTION_UP ? cos(-(M_PI * 1.5)) : C;</a>
<a name="ln147">  S = flags &amp; CPF_DIRECTION_UP ? sin(-(M_PI * 1.5)) : S;</a>
<a name="ln148">  cairo_matrix_t rotation_matrix;</a>
<a name="ln149">  cairo_matrix_init(&amp;rotation_matrix, C, S, -S, C, 0.5 - C * 0.5 + S * 0.5, 0.5 - S * 0.5 - C * 0.5);</a>
<a name="ln150"> </a>
<a name="ln151">  const gint s = w &lt; h ? w : h;</a>
<a name="ln152">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln153">  cairo_scale(cr, s, s);</a>
<a name="ln154">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln155">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln156"> </a>
<a name="ln157">  if(flags &amp; CPF_DIRECTION_UP || flags &amp; CPF_DIRECTION_DOWN)</a>
<a name="ln158">    cairo_transform(cr, &amp;rotation_matrix);</a>
<a name="ln159">  else if(flags &amp; CPF_DIRECTION_RIGHT) // Flip x transformation</a>
<a name="ln160">    cairo_transform(cr, &amp;hflip_matrix);</a>
<a name="ln161"> </a>
<a name="ln162">  cairo_move_to(cr, 0.2, 0.1);</a>
<a name="ln163">  cairo_line_to(cr, 0.9, 0.5);</a>
<a name="ln164">  cairo_line_to(cr, 0.2, 0.9);</a>
<a name="ln165">  cairo_stroke(cr);</a>
<a name="ln166">  cairo_identity_matrix(cr);</a>
<a name="ln167">}</a>
<a name="ln168"> </a>
<a name="ln169">void dtgtk_cairo_paint_solid_arrow(cairo_t *cr, gint x, int y, gint w, gint h, gint flags, void *data)</a>
<a name="ln170">{</a>
<a name="ln171">  /* initialize rotation and flip matrices */</a>
<a name="ln172">  cairo_matrix_t hflip_matrix;</a>
<a name="ln173">  cairo_matrix_init(&amp;hflip_matrix, -1, 0, 0, 1, 1, 0);</a>
<a name="ln174"> </a>
<a name="ln175">  double C = cos(-(M_PI / 2.0)), S = sin(-(M_PI / 2.0)); // -90 degrees</a>
<a name="ln176">  C = flags &amp; CPF_DIRECTION_DOWN ? cos(-(M_PI * 1.5)) : C;</a>
<a name="ln177">  S = flags &amp; CPF_DIRECTION_DOWN ? sin(-(M_PI * 1.5)) : S;</a>
<a name="ln178">  cairo_matrix_t rotation_matrix;</a>
<a name="ln179">  cairo_matrix_init(&amp;rotation_matrix, C, S, -S, C, 0.5 - C * 0.5 + S * 0.5, 0.5 - S * 0.5 - C * 0.5);</a>
<a name="ln180"> </a>
<a name="ln181">  /* scale and transform*/</a>
<a name="ln182">  gint s = w &lt; h ? w : h;</a>
<a name="ln183">  s *= 1.8; // for some reason, this one needs expansion</a>
<a name="ln184">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln185">  cairo_scale(cr, s, s);</a>
<a name="ln186">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln187"> </a>
<a name="ln188">  if(flags &amp; CPF_DIRECTION_UP || flags &amp; CPF_DIRECTION_DOWN)</a>
<a name="ln189">    cairo_transform(cr, &amp;rotation_matrix);</a>
<a name="ln190">  else if(flags &amp; CPF_DIRECTION_LEFT) // Flip x transformation</a>
<a name="ln191">    cairo_transform(cr, &amp;hflip_matrix);</a>
<a name="ln192"> </a>
<a name="ln193">  cairo_move_to(cr, 0.2, 0.1);</a>
<a name="ln194">  cairo_line_to(cr, 0.9, 0.5);</a>
<a name="ln195">  cairo_line_to(cr, 0.2, 0.9);</a>
<a name="ln196">  cairo_fill(cr);</a>
<a name="ln197">  cairo_identity_matrix(cr);</a>
<a name="ln198">}</a>
<a name="ln199"> </a>
<a name="ln200">void dtgtk_cairo_paint_flip(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln201">{</a>
<a name="ln202">  double C = cos(-1.570796327), S = sin(-1.570796327);</a>
<a name="ln203">  cairo_matrix_t rotation_matrix;</a>
<a name="ln204">  cairo_matrix_init(&amp;rotation_matrix, C, S, -S, C, 0.5 - C * 0.5 + S * 0.5, 0.5 - S * 0.5 - C * 0.5);</a>
<a name="ln205">  const gint s = w &lt; h ? w : h;</a>
<a name="ln206">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln207">  cairo_scale(cr, s, s);</a>
<a name="ln208"> </a>
<a name="ln209">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln210">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln211">  if((flags &amp; CPF_DIRECTION_UP)) // Rotate -90 degrees</a>
<a name="ln212">    cairo_transform(cr, &amp;rotation_matrix);</a>
<a name="ln213"> </a>
<a name="ln214">  cairo_move_to(cr, 0.05, 0.50);</a>
<a name="ln215">  cairo_line_to(cr, 0.05, 0);</a>
<a name="ln216">  cairo_line_to(cr, 0.95, 0.50);</a>
<a name="ln217">  cairo_line_to(cr, 0.2, 0.50);</a>
<a name="ln218">  cairo_stroke(cr);</a>
<a name="ln219">  cairo_set_line_width(cr, 0.04);</a>
<a name="ln220">  cairo_move_to(cr, 0.05, 0.62);</a>
<a name="ln221">  cairo_line_to(cr, 0.05, 1.0);</a>
<a name="ln222">  cairo_line_to(cr, 0.95, 0.62);</a>
<a name="ln223">  cairo_stroke(cr);</a>
<a name="ln224">  cairo_identity_matrix(cr);</a>
<a name="ln225">}</a>
<a name="ln226"> </a>
<a name="ln227">void dtgtk_cairo_paint_reset(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln228">{</a>
<a name="ln229">  const gint s = w &lt; h ? w : h;</a>
<a name="ln230">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln231">  cairo_scale(cr, s, s);</a>
<a name="ln232">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln233">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln234">  cairo_arc(cr, 0.5, 0.5, 0.46, 0, 6.2832);</a>
<a name="ln235">  cairo_move_to(cr, 0.5, 0.32);</a>
<a name="ln236">  cairo_line_to(cr, 0.5, 0.68);</a>
<a name="ln237">  cairo_stroke(cr);</a>
<a name="ln238">  cairo_identity_matrix(cr);</a>
<a name="ln239">}</a>
<a name="ln240"> </a>
<a name="ln241">void dtgtk_cairo_paint_store(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln242">{</a>
<a name="ln243">  const gint s = w &lt; h ? w : h;</a>
<a name="ln244">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln245">  cairo_scale(cr, s, s);</a>
<a name="ln246">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln247">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln248">  cairo_move_to(cr, 0.275, 0.1);</a>
<a name="ln249">  cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln250">  cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln251">  cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln252">  cairo_line_to(cr, 0.9, 0.175);</a>
<a name="ln253">  cairo_line_to(cr, 0.825, 0.1);</a>
<a name="ln254">  cairo_line_to(cr, 0.825, 0.5);</a>
<a name="ln255">  cairo_line_to(cr, 0.275, 0.5);</a>
<a name="ln256">  cairo_line_to(cr, 0.275, 0.1);</a>
<a name="ln257"> </a>
<a name="ln258">  cairo_stroke(cr);</a>
<a name="ln259">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln260">  cairo_rectangle(cr, 0.5, 0.025, 0.17, 0.275);</a>
<a name="ln261">  cairo_fill(cr);</a>
<a name="ln262"> </a>
<a name="ln263">  cairo_stroke(cr);</a>
<a name="ln264">  cairo_identity_matrix(cr);</a>
<a name="ln265">}</a>
<a name="ln266"> </a>
<a name="ln267">void dtgtk_cairo_paint_switch(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln268">{</a>
<a name="ln269">  const gint s = w &lt; h ? w : h;</a>
<a name="ln270">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln271">  cairo_scale(cr, s, s);</a>
<a name="ln272"> </a>
<a name="ln273">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln274">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln275">  cairo_arc(cr, 0.5, 0.5, 0.46, (-50 * 3.145 / 180), (230 * 3.145 / 180));</a>
<a name="ln276">  cairo_move_to(cr, 0.5, 0.0);</a>
<a name="ln277">  cairo_line_to(cr, 0.5, 0.5);</a>
<a name="ln278">  cairo_stroke(cr);</a>
<a name="ln279"> </a>
<a name="ln280">  if((flags &amp; CPF_ACTIVE)) // If active add some green diffuse light</a>
<a name="ln281">  {</a>
<a name="ln282">    cairo_arc(cr, 0.5, 0.5, 0.45, 0.0, 2*M_PI);</a>
<a name="ln283">    cairo_clip(cr);</a>
<a name="ln284">    cairo_paint_with_alpha(cr, 0.33);</a>
<a name="ln285">  }</a>
<a name="ln286"> </a>
<a name="ln287">  cairo_identity_matrix(cr);</a>
<a name="ln288">}</a>
<a name="ln289"> </a>
<a name="ln290">void dtgtk_cairo_paint_plus(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln291">{</a>
<a name="ln292">  dtgtk_cairo_paint_plusminus(cr, x, y, w, h, flags | CPF_ACTIVE, data);</a>
<a name="ln293">}</a>
<a name="ln294"> </a>
<a name="ln295">void dtgtk_cairo_paint_plusminus(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln296">{</a>
<a name="ln297">  cairo_save(cr);</a>
<a name="ln298">  const gint s = w &lt; h ? w : h;</a>
<a name="ln299">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln300">  cairo_scale(cr, s, s);</a>
<a name="ln301"> </a>
<a name="ln302">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln303">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln304">  cairo_arc(cr, 0.5, 0.5, 0.45, 0, 2 * M_PI);</a>
<a name="ln305">  cairo_stroke(cr);</a>
<a name="ln306"> </a>
<a name="ln307">  if((flags &amp; CPF_ACTIVE))</a>
<a name="ln308">  {</a>
<a name="ln309">    cairo_move_to(cr, 0.5, 0.2);</a>
<a name="ln310">    cairo_line_to(cr, 0.5, 0.8);</a>
<a name="ln311">    cairo_move_to(cr, 0.2, 0.5);</a>
<a name="ln312">    cairo_line_to(cr, 0.8, 0.5);</a>
<a name="ln313">    cairo_stroke(cr);</a>
<a name="ln314">  }</a>
<a name="ln315">  else</a>
<a name="ln316">  {</a>
<a name="ln317">    cairo_arc(cr, 0.5, 0.5, 0.45, 0, 2 * M_PI);</a>
<a name="ln318">    cairo_fill(cr);</a>
<a name="ln319">    cairo_set_source_rgba(cr, 0.1, 0.1, 0.1, 1.0);</a>
<a name="ln320">    cairo_move_to(cr, 0.2, 0.5);</a>
<a name="ln321">    cairo_line_to(cr, 0.8, 0.5);</a>
<a name="ln322">    cairo_stroke(cr);</a>
<a name="ln323">  }</a>
<a name="ln324"> </a>
<a name="ln325">  cairo_identity_matrix(cr);</a>
<a name="ln326">  cairo_restore(cr);</a>
<a name="ln327">}</a>
<a name="ln328"> </a>
<a name="ln329">void dtgtk_cairo_paint_sorting(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln330">{</a>
<a name="ln331">  cairo_save(cr);</a>
<a name="ln332">  const gint s = w &lt; h ? w : h;</a>
<a name="ln333">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln334">  cairo_scale(cr, s, s);</a>
<a name="ln335"> </a>
<a name="ln336">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln337"> </a>
<a name="ln338">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln339">  cairo_move_to(cr, 0.4, 0.1);</a>
<a name="ln340">  cairo_line_to(cr, 0.4, 0.9);</a>
<a name="ln341">  cairo_line_to(cr, 0.2, 0.7);</a>
<a name="ln342">  cairo_move_to(cr, 0.6, 0.9);</a>
<a name="ln343">  cairo_line_to(cr, 0.6, 0.1);</a>
<a name="ln344">  cairo_line_to(cr, 0.8, 0.3);</a>
<a name="ln345">  cairo_stroke(cr);</a>
<a name="ln346"> </a>
<a name="ln347">  cairo_identity_matrix(cr);</a>
<a name="ln348">  cairo_restore(cr);</a>
<a name="ln349">}</a>
<a name="ln350"> </a>
<a name="ln351">void dtgtk_cairo_paint_plus_simple(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln352">{</a>
<a name="ln353">  cairo_save(cr);</a>
<a name="ln354">  const gint s = w &lt; h ? w : h;</a>
<a name="ln355">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln356">  cairo_scale(cr, s, s);</a>
<a name="ln357"> </a>
<a name="ln358">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln359"> </a>
<a name="ln360">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln361">  cairo_move_to(cr, 0.5, 0.1);</a>
<a name="ln362">  cairo_line_to(cr, 0.5, 0.9);</a>
<a name="ln363">  cairo_move_to(cr, 0.1, 0.5);</a>
<a name="ln364">  cairo_line_to(cr, 0.9, 0.5);</a>
<a name="ln365">  cairo_stroke(cr);</a>
<a name="ln366"> </a>
<a name="ln367">  cairo_identity_matrix(cr);</a>
<a name="ln368">  cairo_restore(cr);</a>
<a name="ln369">}</a>
<a name="ln370"> </a>
<a name="ln371">void dtgtk_cairo_paint_minus_simple(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln372">{</a>
<a name="ln373">  cairo_save(cr);</a>
<a name="ln374">  const gint s = w &lt; h ? w : h;</a>
<a name="ln375">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln376">  cairo_scale(cr, s, s);</a>
<a name="ln377"> </a>
<a name="ln378">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln379"> </a>
<a name="ln380">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln381">  cairo_move_to(cr, 0.1, 0.5);</a>
<a name="ln382">  cairo_line_to(cr, 0.9, 0.5);</a>
<a name="ln383">  cairo_stroke(cr);</a>
<a name="ln384"> </a>
<a name="ln385">  cairo_identity_matrix(cr);</a>
<a name="ln386">  cairo_restore(cr);</a>
<a name="ln387">}</a>
<a name="ln388"> </a>
<a name="ln389">void dtgtk_cairo_paint_multiply_small(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln390">{</a>
<a name="ln391">  cairo_save(cr);</a>
<a name="ln392">  const gint s = w &lt; h ? w : h;</a>
<a name="ln393">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln394">  cairo_scale(cr, s, s);</a>
<a name="ln395"> </a>
<a name="ln396">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln397"> </a>
<a name="ln398">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln399">  cairo_move_to(cr, 0.3, 0.3);</a>
<a name="ln400">  cairo_line_to(cr, 0.7, 0.7);</a>
<a name="ln401">  cairo_move_to(cr, 0.7, 0.3);</a>
<a name="ln402">  cairo_line_to(cr, 0.3, 0.7);</a>
<a name="ln403">  cairo_stroke(cr);</a>
<a name="ln404"> </a>
<a name="ln405">  cairo_identity_matrix(cr);</a>
<a name="ln406">  cairo_restore(cr);</a>
<a name="ln407">}</a>
<a name="ln408"> </a>
<a name="ln409">void dtgtk_cairo_paint_treelist(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln410">{</a>
<a name="ln411">  cairo_save(cr);</a>
<a name="ln412">  const gint s = w &lt; h ? w : h;</a>
<a name="ln413">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln414">  cairo_scale(cr, s, s);</a>
<a name="ln415"> </a>
<a name="ln416">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln417"> </a>
<a name="ln418">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln419">  cairo_move_to(cr, 0.05, 0.05);</a>
<a name="ln420">  cairo_line_to(cr, 0.125, 0.05);</a>
<a name="ln421">  cairo_move_to(cr, 0.25, 0.35);</a>
<a name="ln422">  cairo_line_to(cr, 0.325, 0.35);</a>
<a name="ln423">  cairo_move_to(cr, 0.45, 0.65);</a>
<a name="ln424">  cairo_line_to(cr, 0.525, 0.65);</a>
<a name="ln425">  cairo_move_to(cr, 0.25, 0.95);</a>
<a name="ln426">  cairo_line_to(cr, 0.325, 0.95);</a>
<a name="ln427">  cairo_stroke(cr);</a>
<a name="ln428"> </a>
<a name="ln429">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln430">  cairo_move_to(cr, 0.35, 0.05);</a>
<a name="ln431">  cairo_line_to(cr, 0.95, 0.05);</a>
<a name="ln432">  cairo_move_to(cr, 0.55, 0.35);</a>
<a name="ln433">  cairo_line_to(cr, 0.95, 0.35);</a>
<a name="ln434">  cairo_move_to(cr, 0.75, 0.65);</a>
<a name="ln435">  cairo_line_to(cr, 0.95, 0.65);</a>
<a name="ln436">  cairo_move_to(cr, 0.55, 0.95);</a>
<a name="ln437">  cairo_line_to(cr, 0.95, 0.95);</a>
<a name="ln438">  cairo_stroke(cr);</a>
<a name="ln439"> </a>
<a name="ln440">  cairo_identity_matrix(cr);</a>
<a name="ln441">  cairo_restore(cr);</a>
<a name="ln442">}</a>
<a name="ln443"> </a>
<a name="ln444">void dtgtk_cairo_paint_invert(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln445">{</a>
<a name="ln446">  const gint s = w &lt; h ? w : h;</a>
<a name="ln447">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln448">  cairo_scale(cr, s, s);</a>
<a name="ln449">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln450">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln451">  cairo_arc(cr, 0.5, 0.5, 0.46, 0, 2.0 * M_PI);</a>
<a name="ln452">  cairo_stroke(cr);</a>
<a name="ln453">  cairo_arc(cr, 0.5, 0.5, 0.46, 3.0 * M_PI / 2.0, M_PI / 2.0);</a>
<a name="ln454">  cairo_fill(cr);</a>
<a name="ln455">  cairo_identity_matrix(cr);</a>
<a name="ln456">}</a>
<a name="ln457"> </a>
<a name="ln458">void dtgtk_cairo_paint_eye(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln459">{</a>
<a name="ln460">  const gint s = w &lt; h ? w : h;</a>
<a name="ln461">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln462">  cairo_scale(cr, s, s);</a>
<a name="ln463">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln464">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln465"> </a>
<a name="ln466">  cairo_arc(cr, 0.5, 0.5, 0.1, 0, 6.2832);</a>
<a name="ln467">  cairo_stroke(cr);</a>
<a name="ln468"> </a>
<a name="ln469">  cairo_translate(cr, 0, 0.20);</a>
<a name="ln470">  cairo_save(cr);</a>
<a name="ln471">  cairo_scale(cr, 1.0, 0.60);</a>
<a name="ln472">  cairo_arc(cr, 0.5, 0.5, 0.45, 0, 6.2832);</a>
<a name="ln473">  cairo_restore(cr);</a>
<a name="ln474">  cairo_stroke(cr);</a>
<a name="ln475">  cairo_identity_matrix(cr);</a>
<a name="ln476">}</a>
<a name="ln477"> </a>
<a name="ln478">void dtgtk_cairo_paint_masks_eye(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln479">{</a>
<a name="ln480">  const gint s = w &lt; h ? w : h;</a>
<a name="ln481">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln482">  cairo_scale(cr, s, s);</a>
<a name="ln483">  cairo_set_line_width(cr, 0.08);</a>
<a name="ln484">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln485"> </a>
<a name="ln486">  double dashed[] = { 0.2, 0.2 };</a>
<a name="ln487">  int len = sizeof(dashed) / sizeof(dashed[0]);</a>
<a name="ln488">  cairo_set_dash(cr, dashed, len, 0);</a>
<a name="ln489"> </a>
<a name="ln490">  cairo_arc(cr, 0.75, 0.75, 0.75, 2.8, 4.7124);</a>
<a name="ln491">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln492">  cairo_stroke(cr);</a>
<a name="ln493"> </a>
<a name="ln494">  cairo_move_to(cr, 0.4, 0.1);</a>
<a name="ln495">  cairo_line_to(cr, 0.3, 0.8);</a>
<a name="ln496">  cairo_line_to(cr, 0.55, 0.716667);</a>
<a name="ln497">  cairo_line_to(cr, 0.65, 1.016667);</a>
<a name="ln498">  cairo_line_to(cr, 0.75, 0.983333);</a>
<a name="ln499">  cairo_line_to(cr, 0.65, 0.683333);</a>
<a name="ln500">  cairo_line_to(cr, 0.9, 0.6);</a>
<a name="ln501">  cairo_line_to(cr, 0.4, 0.1);</a>
<a name="ln502">  cairo_fill(cr);</a>
<a name="ln503"> </a>
<a name="ln504">  cairo_identity_matrix(cr);</a>
<a name="ln505">}</a>
<a name="ln506"> </a>
<a name="ln507">void dtgtk_cairo_paint_masks_circle(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln508">{</a>
<a name="ln509">  const gint s = w &lt; h ? w : h;</a>
<a name="ln510">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln511">  cairo_scale(cr, s, s);</a>
<a name="ln512"> </a>
<a name="ln513">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln514">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln515">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln516">  else</a>
<a name="ln517">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln518">  cairo_arc(cr, 0.5, 0.5, 0.4, 0, 6.2832);</a>
<a name="ln519">  cairo_stroke(cr);</a>
<a name="ln520">  cairo_identity_matrix(cr);</a>
<a name="ln521">}</a>
<a name="ln522"> </a>
<a name="ln523">void dtgtk_cairo_paint_masks_ellipse(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln524">{</a>
<a name="ln525">  const gint s = w &lt; h ? w : h;</a>
<a name="ln526">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln527">  cairo_scale(cr, s, s);</a>
<a name="ln528">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln529">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln530">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln531">  else</a>
<a name="ln532">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln533">  cairo_save(cr);</a>
<a name="ln534">  cairo_scale(cr, 0.707, 1);</a>
<a name="ln535">  cairo_translate(cr, 0.15, 0);</a>
<a name="ln536">  cairo_arc(cr, 0.5, 0.5, 0.4, 0, 6.2832);</a>
<a name="ln537">  cairo_restore(cr);</a>
<a name="ln538">  cairo_stroke(cr);</a>
<a name="ln539">  cairo_identity_matrix(cr);</a>
<a name="ln540">}</a>
<a name="ln541"> </a>
<a name="ln542">void dtgtk_cairo_paint_masks_gradient(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln543">{</a>
<a name="ln544">  const gint s = w &lt; h ? w : h;</a>
<a name="ln545">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln546">  cairo_scale(cr, s, s);</a>
<a name="ln547">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln548">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln549">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln550">  else</a>
<a name="ln551">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln552">  cairo_rectangle(cr, 0.1, 0.1, 0.8, 0.8);</a>
<a name="ln553">  cairo_stroke_preserve(cr);</a>
<a name="ln554">  cairo_pattern_t *pat = NULL;</a>
<a name="ln555">  pat = cairo_pattern_create_linear(0.5, 0.1, 0.5, 0.9);</a>
<a name="ln556">  cairo_pattern_add_color_stop_rgba(pat, 0.1, 0.6, 0.6, 0.6, 0.9);</a>
<a name="ln557">  cairo_pattern_add_color_stop_rgba(pat, 0.9, 0.2, 0.2, 0.2, 0.9);</a>
<a name="ln558">  cairo_set_source(cr, pat);</a>
<a name="ln559">  cairo_fill(cr);</a>
<a name="ln560">  cairo_pattern_destroy(pat);</a>
<a name="ln561">  cairo_identity_matrix(cr);</a>
<a name="ln562">}</a>
<a name="ln563"> </a>
<a name="ln564">void dtgtk_cairo_paint_masks_path(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln565">{</a>
<a name="ln566">  const gint s = w &lt; h ? w : h;</a>
<a name="ln567">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln568">  cairo_scale(cr, s, s);</a>
<a name="ln569">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln570">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln571">  else</a>
<a name="ln572">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln573">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln574">  cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln575">  cairo_curve_to(cr, 0.1, 0.5, 0.9, 0.6, 0.9, 0.1);</a>
<a name="ln576">  cairo_stroke(cr);</a>
<a name="ln577">  cairo_move_to(cr, 0.5, 0.5);</a>
<a name="ln578">  cairo_line_to(cr, 0.3, 0.1);</a>
<a name="ln579">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln580">  cairo_stroke(cr);</a>
<a name="ln581">  cairo_identity_matrix(cr);</a>
<a name="ln582">}</a>
<a name="ln583"> </a>
<a name="ln584">void dtgtk_cairo_paint_masks_vertgradient(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln585">{</a>
<a name="ln586">  const gint s = w &lt; h ? w : h;</a>
<a name="ln587">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln588">  cairo_scale(cr, s, s);</a>
<a name="ln589">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln590">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln591">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln592">  else</a>
<a name="ln593">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln594">  cairo_rectangle(cr, 0.1, 0.1, 0.9, 0.9);</a>
<a name="ln595">  cairo_stroke_preserve(cr);</a>
<a name="ln596">  cairo_pattern_t *pat = NULL;</a>
<a name="ln597">  pat = cairo_pattern_create_linear(0.1, 0.5, 0.9, 0.5);</a>
<a name="ln598">  cairo_pattern_add_color_stop_rgba(pat, 0.1, 0.6, 0.6, 0.6, 0.9);</a>
<a name="ln599">  cairo_pattern_add_color_stop_rgba(pat, 1.0, 0.2, 0.2, 0.2, 0.9);</a>
<a name="ln600">  cairo_rectangle(cr, 0.1, 0.1, 0.8, 0.8);</a>
<a name="ln601">  cairo_set_source(cr, pat);</a>
<a name="ln602">  cairo_fill(cr);</a>
<a name="ln603">  cairo_pattern_destroy(pat);</a>
<a name="ln604">  cairo_identity_matrix(cr);</a>
<a name="ln605">}</a>
<a name="ln606"> </a>
<a name="ln607"> </a>
<a name="ln608">void dtgtk_cairo_paint_masks_brush_and_inverse(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln609">{</a>
<a name="ln610">  const gint s = w &lt; h ? w : h;</a>
<a name="ln611">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln612">  cairo_scale(cr, s, s);</a>
<a name="ln613"> </a>
<a name="ln614">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln615">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln616">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln617">  else</a>
<a name="ln618">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln619">  cairo_translate(cr, 0.1, 0.1);</a>
<a name="ln620">  cairo_scale(cr, 0.8, 0.8);</a>
<a name="ln621">  cairo_move_to(cr, 0.0, 1.0);</a>
<a name="ln622">  cairo_line_to(cr, 0.1, 0.7);</a>
<a name="ln623">  cairo_line_to(cr, 0.8, 0.0);</a>
<a name="ln624">  cairo_line_to(cr, 1.0, 0.2);</a>
<a name="ln625">  cairo_line_to(cr, 0.3, 0.9);</a>
<a name="ln626">  cairo_line_to(cr, 0.0, 1.0);</a>
<a name="ln627">  //  cairo_fill_preserve(cr);</a>
<a name="ln628">  cairo_stroke(cr);</a>
<a name="ln629"> </a>
<a name="ln630">  //cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln631">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln632">  cairo_arc(cr, 0.5, 0.5, 0.4, 0, 2.0 * M_PI);</a>
<a name="ln633">  cairo_stroke(cr);</a>
<a name="ln634">  cairo_arc(cr, 0.5, 0.5, 0.4, 3.0 * M_PI / 2.0, M_PI / 2.0);</a>
<a name="ln635">  cairo_fill(cr);</a>
<a name="ln636"> </a>
<a name="ln637">  cairo_stroke(cr);</a>
<a name="ln638">  cairo_identity_matrix(cr);</a>
<a name="ln639">}</a>
<a name="ln640"> </a>
<a name="ln641">void dtgtk_cairo_paint_masks_brush(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln642">{</a>
<a name="ln643">  const gint s = w &lt; h ? w : h;</a>
<a name="ln644">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln645">  cairo_scale(cr, s, s);</a>
<a name="ln646"> </a>
<a name="ln647">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln648">  if(flags &amp; CPF_ACTIVE)</a>
<a name="ln649">    cairo_set_line_width(cr, 0.25);</a>
<a name="ln650">  else</a>
<a name="ln651">    cairo_set_line_width(cr, 0.08);</a>
<a name="ln652">  cairo_translate(cr, 0.1, 0.1);</a>
<a name="ln653">  cairo_scale(cr, 0.8, 0.8);</a>
<a name="ln654">  cairo_move_to(cr, 0.0, 1.0);</a>
<a name="ln655">  cairo_line_to(cr, 0.1, 0.7);</a>
<a name="ln656">  cairo_line_to(cr, 0.8, 0.0);</a>
<a name="ln657">  cairo_line_to(cr, 1.0, 0.2);</a>
<a name="ln658">  cairo_line_to(cr, 0.3, 0.9);</a>
<a name="ln659">  cairo_line_to(cr, 0.0, 1.0);</a>
<a name="ln660">  //  cairo_fill_preserve(cr);</a>
<a name="ln661">  cairo_stroke(cr);</a>
<a name="ln662">  cairo_identity_matrix(cr);</a>
<a name="ln663">}</a>
<a name="ln664"> </a>
<a name="ln665">void dtgtk_cairo_paint_masks_uniform(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln666">{</a>
<a name="ln667">  const gint s = w &lt; h ? w : h;</a>
<a name="ln668">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln669">  cairo_scale(cr, s, s);</a>
<a name="ln670">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln671">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln672"> </a>
<a name="ln673">  cairo_arc(cr, 0.5, 0.5, 0.5, -M_PI, M_PI);</a>
<a name="ln674">  cairo_stroke(cr);</a>
<a name="ln675">}</a>
<a name="ln676"> </a>
<a name="ln677">void dtgtk_cairo_paint_masks_drawn(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln678">{</a>
<a name="ln679">  const gint s = w &lt; h ? w : h;</a>
<a name="ln680">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln681">  cairo_scale(cr, s, s);</a>
<a name="ln682"> </a>
<a name="ln683">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_BUTT);</a>
<a name="ln684">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln685"> </a>
<a name="ln686">  // draw the body of the pencil (filled)</a>
<a name="ln687">  cairo_move_to(cr, 0.9, 0.6);</a>
<a name="ln688">  cairo_line_to(cr, 0.3, 0.0);</a>
<a name="ln689">  cairo_line_to(cr, 0.0, 0.3);</a>
<a name="ln690">  cairo_line_to(cr, 0.6, 0.9);</a>
<a name="ln691">  // cairo_stroke_preserve(cr);</a>
<a name="ln692">  cairo_fill(cr);</a>
<a name="ln693">  cairo_stroke(cr);</a>
<a name="ln694">  // draw the tip of the pencil</a>
<a name="ln695">  cairo_move_to(cr, 1.0, 1.0);</a>
<a name="ln696">  cairo_line_to(cr, 0.9, 0.6);</a>
<a name="ln697">  cairo_line_to(cr, 0.6, 0.9);</a>
<a name="ln698">  cairo_line_to(cr, 1.0, 1.0);</a>
<a name="ln699">  cairo_stroke(cr);</a>
<a name="ln700">  cairo_identity_matrix(cr);</a>
<a name="ln701">}</a>
<a name="ln702"> </a>
<a name="ln703">/** draws an arc with a B&amp;W gradient following the arc path.</a>
<a name="ln704"> *  nb_steps must be adjusted depending on the displayed size of the element, 16 is fine for small buttons*/</a>
<a name="ln705">void _gradient_arc(cairo_t *cr, double lw, int nb_steps, double x_center, double y_center, double radius,</a>
<a name="ln706">                   double angle_from, double angle_to, double color_from, double color_to)</a>
<a name="ln707">{</a>
<a name="ln708">  cairo_set_line_width(cr, lw);</a>
<a name="ln709"> </a>
<a name="ln710">  double *portions = malloc((1 + nb_steps) * sizeof(double));</a>
<a name="ln711"> </a>
<a name="ln712">  // note: cairo angles seems to be shifted by M_PI relatively to the unit circle</a>
<a name="ln713">  angle_from = angle_from + M_PI;</a>
<a name="ln714">  angle_to = angle_to + M_PI;</a>
<a name="ln715">  double step = (angle_to - angle_from) / nb_steps;</a>
<a name="ln716">  for(int i = 0; i &lt; nb_steps; i++) portions[i] = angle_from + i * step;</a>
<a name="ln717">  portions[nb_steps] = angle_to;</a>
<a name="ln718"> </a>
<a name="ln719">  for(int i = 0; i &lt; nb_steps; i++)</a>
<a name="ln720">  {</a>
<a name="ln721">    double color = color_from + i * (color_to - color_from) / nb_steps;</a>
<a name="ln722">    cairo_set_source_rgb(cr, color, color, color);</a>
<a name="ln723">    cairo_arc(cr, x_center, y_center, radius, portions[i], portions[i + 1]);</a>
<a name="ln724">    cairo_stroke(cr);</a>
<a name="ln725">  }</a>
<a name="ln726">  free(portions);</a>
<a name="ln727">}</a>
<a name="ln728"> </a>
<a name="ln729">void dtgtk_cairo_paint_masks_parametric(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln730">{</a>
<a name="ln731">  const gint s = w &lt; h ? w : h;</a>
<a name="ln732">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln733">  cairo_scale(cr, s, s);</a>
<a name="ln734"> </a>
<a name="ln735">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln736">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_BUTT);</a>
<a name="ln737">  _gradient_arc(cr, 0.125, 16, 0.5, 0.5, 0.5, -M_PI / 3.0, M_PI + M_PI / 3.0, 0.3, 0.9);</a>
<a name="ln738"> </a>
<a name="ln739">  cairo_set_source_rgb(cr, 0.8, 0.8, 0.8);</a>
<a name="ln740">  cairo_set_line_width(cr, 0.05);</a>
<a name="ln741">  // draw one tick up right</a>
<a name="ln742">  cairo_move_to(cr, 1, 0.2);</a>
<a name="ln743">  cairo_line_to(cr, 1.2, 0.2);</a>
<a name="ln744">  cairo_line_to(cr, 1.1, 0.0);</a>
<a name="ln745">  cairo_fill(cr);</a>
<a name="ln746">  // draw another tick center right</a>
<a name="ln747">  cairo_move_to(cr, 1.1, 0.6);</a>
<a name="ln748">  cairo_line_to(cr, 1.325, 0.55);</a>
<a name="ln749">  cairo_line_to(cr, 1.275, 0.75);</a>
<a name="ln750">  cairo_fill(cr);</a>
<a name="ln751"> </a>
<a name="ln752">  cairo_identity_matrix(cr);</a>
<a name="ln753">}</a>
<a name="ln754"> </a>
<a name="ln755">void dtgtk_cairo_paint_masks_drawn_and_parametric(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags,</a>
<a name="ln756">                                                  void *data)</a>
<a name="ln757">{</a>
<a name="ln758">  const gint s = w &lt; h ? w : h;</a>
<a name="ln759">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln760">  cairo_scale(cr, s, s);</a>
<a name="ln761"> </a>
<a name="ln762">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln763">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_BUTT);</a>
<a name="ln764">  _gradient_arc(cr, 0.125, 16, 0.75, 0.6, 0.4, -M_PI / 3.0, M_PI + M_PI / 3.0, 0.3, 0.9);</a>
<a name="ln765"> </a>
<a name="ln766">  cairo_set_line_width(cr, 0.05);</a>
<a name="ln767">  cairo_set_source_rgb(cr, 0.8, 0.8, 0.8);</a>
<a name="ln768">  // draw one tick up right</a>
<a name="ln769">  cairo_move_to(cr, 1.2, 0.35);</a>
<a name="ln770">  cairo_line_to(cr, 1.35, 0.35);</a>
<a name="ln771">  cairo_line_to(cr, 1.275, 0.15);</a>
<a name="ln772">  cairo_fill(cr);</a>
<a name="ln773">  // draw another tick center right</a>
<a name="ln774">  cairo_move_to(cr, 1.25, 0.7);</a>
<a name="ln775">  cairo_line_to(cr, 1.4, 0.6);</a>
<a name="ln776">  cairo_line_to(cr, 1.4, 0.8);</a>
<a name="ln777">  cairo_fill(cr);</a>
<a name="ln778"> </a>
<a name="ln779">  cairo_set_source_rgb(cr, 0.6, 0.6, 0.6);</a>
<a name="ln780">  double szf = 0.8;     // size factor to reduce the size of the pencil</a>
<a name="ln781">  double shift = -0.10; // shift factor on x axis</a>
<a name="ln782">  // draw the body of the pencil (filled)</a>
<a name="ln783">  cairo_move_to(cr, 0.9 * szf + shift, 0.6 * szf);</a>
<a name="ln784">  cairo_line_to(cr, 0.3 * szf + shift, 0.0 * szf);</a>
<a name="ln785">  cairo_line_to(cr, 0.0 * szf + shift, 0.3 * szf);</a>
<a name="ln786">  cairo_line_to(cr, 0.6 * szf + shift, 0.9 * szf);</a>
<a name="ln787">  cairo_fill(cr);</a>
<a name="ln788">  cairo_stroke(cr);</a>
<a name="ln789">  // draw the tip of the pencil</a>
<a name="ln790">  cairo_move_to(cr, 1.0 * szf + shift, 1.0 * szf);</a>
<a name="ln791">  cairo_line_to(cr, 0.9 * szf + shift, 0.6 * szf);</a>
<a name="ln792">  cairo_line_to(cr, 0.6 * szf + shift, 0.9 * szf);</a>
<a name="ln793">  cairo_line_to(cr, 1.0 * szf + shift, 1.0 * szf);</a>
<a name="ln794">  cairo_stroke(cr);</a>
<a name="ln795"> </a>
<a name="ln796">  cairo_identity_matrix(cr);</a>
<a name="ln797">}</a>
<a name="ln798"> </a>
<a name="ln799">void dtgtk_cairo_paint_masks_raster(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln800">{</a>
<a name="ln801">  const gint s = w &lt; h ? w : h;</a>
<a name="ln802">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln803">  cairo_scale(cr, s, s);</a>
<a name="ln804"> </a>
<a name="ln805">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln806">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_BUTT);</a>
<a name="ln807">  cairo_arc(cr, 0.5, 0.5, 0.5, 0, 2 * M_PI);</a>
<a name="ln808">  cairo_clip(cr);</a>
<a name="ln809">  cairo_new_path(cr);</a>
<a name="ln810"> </a>
<a name="ln811">  for(int i = 0; i &lt; 4; i++)</a>
<a name="ln812">    for(int j = 0; j &lt; 4; j++)</a>
<a name="ln813">    {</a>
<a name="ln814">      double color = (i + j) % 2 ? 0.2 : 0.9;</a>
<a name="ln815">      cairo_set_source_rgb(cr, color, color, color);</a>
<a name="ln816">      cairo_rectangle(cr, i / 4.0, j / 4.0, 1.0 / 4.0, 1.0 / 4.0);</a>
<a name="ln817">      cairo_fill(cr);</a>
<a name="ln818">    }</a>
<a name="ln819">}</a>
<a name="ln820"> </a>
<a name="ln821"> </a>
<a name="ln822">void dtgtk_cairo_paint_masks_multi(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln823">{</a>
<a name="ln824">  const gint s = w &lt; h ? w : h;</a>
<a name="ln825">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln826">  cairo_scale(cr, s, s);</a>
<a name="ln827">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln828">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln829">  cairo_arc(cr, 0.3, 0.3, 0.3, 0, 6.2832);</a>
<a name="ln830">  cairo_stroke(cr);</a>
<a name="ln831">  cairo_move_to(cr, 0.0, 1.0);</a>
<a name="ln832">  cairo_curve_to(cr, 0.0, 0.5, 1.0, 0.6, 1.0, 0.0);</a>
<a name="ln833">  cairo_stroke(cr);</a>
<a name="ln834">  cairo_identity_matrix(cr);</a>
<a name="ln835">}</a>
<a name="ln836">void dtgtk_cairo_paint_masks_inverse(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln837">{</a>
<a name="ln838">  const gint s = w &lt; h ? w : h;</a>
<a name="ln839">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln840">  cairo_scale(cr, s, s);</a>
<a name="ln841">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln842">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln843">  cairo_arc(cr, 0.5, 0.5, 0.46, 0, 2.0 * M_PI);</a>
<a name="ln844">  cairo_stroke(cr);</a>
<a name="ln845">  cairo_arc(cr, 0.5, 0.5, 0.46, 3.0 * M_PI / 2.0, M_PI / 2.0);</a>
<a name="ln846">  cairo_fill(cr);</a>
<a name="ln847">  cairo_identity_matrix(cr);</a>
<a name="ln848">}</a>
<a name="ln849">void dtgtk_cairo_paint_masks_union(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln850">{</a>
<a name="ln851">  const gint s = w &lt; h ? w : h;</a>
<a name="ln852">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln853">  cairo_scale(cr, s * 1.4, s);</a>
<a name="ln854"> </a>
<a name="ln855">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln856">  cairo_set_source_rgb(cr, 0.6, 0.6, 0.6);</a>
<a name="ln857">  cairo_arc(cr, -0.05, 0.5, 0.45, 0, 6.2832);</a>
<a name="ln858">  cairo_arc(cr, 0.764, 0.5, 0.45, 0, 6.2832);</a>
<a name="ln859">  cairo_fill(cr);</a>
<a name="ln860">  cairo_identity_matrix(cr);</a>
<a name="ln861">}</a>
<a name="ln862">void dtgtk_cairo_paint_masks_intersection(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln863">{</a>
<a name="ln864">  const gint s = w &lt; h ? w : h;</a>
<a name="ln865">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln866">  cairo_scale(cr, s * 1.4, s);</a>
<a name="ln867"> </a>
<a name="ln868">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln869">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln870">  cairo_set_source_rgb(cr, 0.4, 0.4, 0.4);</a>
<a name="ln871">  cairo_arc(cr, 0.05, 0.5, 0.45, 0, 6.3);</a>
<a name="ln872">  cairo_new_sub_path(cr);</a>
<a name="ln873">  cairo_arc(cr, 0.65, 0.5, 0.45, 0, 6.3);</a>
<a name="ln874">  cairo_stroke(cr);</a>
<a name="ln875">  cairo_set_source_rgb(cr, 0.7, 0.7, 0.7);</a>
<a name="ln876">  cairo_new_sub_path(cr);</a>
<a name="ln877">  cairo_arc(cr, 0.05, 0.5, 0.45, -1.0416, 1.0416);</a>
<a name="ln878">  cairo_arc(cr, 0.65, 0.5, 0.45, 2.1, 4.1832);</a>
<a name="ln879">  cairo_close_path(cr);</a>
<a name="ln880">  cairo_fill(cr);</a>
<a name="ln881">  cairo_identity_matrix(cr);</a>
<a name="ln882">}</a>
<a name="ln883">void dtgtk_cairo_paint_masks_difference(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln884">{</a>
<a name="ln885">  const gint s = w &lt; h ? w : h;</a>
<a name="ln886">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln887">  cairo_scale(cr, s * 1.4, s);</a>
<a name="ln888"> </a>
<a name="ln889">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln890">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln891">  cairo_set_source_rgb(cr, 0.4, 0.4, 0.4);</a>
<a name="ln892">  cairo_arc(cr, 0.65, 0.5, 0.45, 0, 6.3);</a>
<a name="ln893">  cairo_stroke(cr);</a>
<a name="ln894">  cairo_set_source_rgb(cr, 0.7, 0.7, 0.7);</a>
<a name="ln895">  cairo_new_sub_path(cr);</a>
<a name="ln896">  cairo_arc(cr, 0.05, 0.5, 0.45, 1.0416, 5.2416);</a>
<a name="ln897">  cairo_arc_negative(cr, 0.65, 0.5, 0.45, 4.1832, 2.1);</a>
<a name="ln898">  cairo_close_path(cr);</a>
<a name="ln899">  cairo_fill(cr);</a>
<a name="ln900">  cairo_identity_matrix(cr);</a>
<a name="ln901">}</a>
<a name="ln902">void dtgtk_cairo_paint_masks_exclusion(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln903">{</a>
<a name="ln904">  const gint s = w &lt; h ? w : h;</a>
<a name="ln905">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln906">  cairo_scale(cr, s * 1.4, s);</a>
<a name="ln907"> </a>
<a name="ln908">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln909">  cairo_set_source_rgb(cr, 0.6, 0.6, 0.6);</a>
<a name="ln910">  cairo_arc(cr, 0.0, 0.5, 0.45, 0, 6.2832);</a>
<a name="ln911">  cairo_arc_negative(cr, 0.714, 0.5, 0.45, 0, 6.2832);</a>
<a name="ln912">  cairo_fill(cr);</a>
<a name="ln913">  cairo_identity_matrix(cr);</a>
<a name="ln914">}</a>
<a name="ln915">void dtgtk_cairo_paint_masks_used(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln916">{</a>
<a name="ln917">  const gint s = w &lt; h ? w : h;</a>
<a name="ln918">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln919">  cairo_scale(cr, s, s);</a>
<a name="ln920"> </a>
<a name="ln921">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln922">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln923">  cairo_arc(cr, 0.5, 0.5, 0.35, 0, 6.2832);</a>
<a name="ln924">  cairo_move_to(cr, 0.5, 0.15);</a>
<a name="ln925">  cairo_line_to(cr, 0.5, 0.5);</a>
<a name="ln926">  cairo_stroke(cr);</a>
<a name="ln927">  cairo_identity_matrix(cr);</a>
<a name="ln928">}</a>
<a name="ln929"> </a>
<a name="ln930">void dtgtk_cairo_paint_eye_toggle(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln931">{</a>
<a name="ln932">  const gint s = w &lt; h ? w : h;</a>
<a name="ln933">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln934">  cairo_scale(cr, s, s);</a>
<a name="ln935">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln936">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln937"> </a>
<a name="ln938">  cairo_arc(cr, 0.5, 0.5, 0.1, 0, 6.2832);</a>
<a name="ln939">  cairo_stroke(cr);</a>
<a name="ln940"> </a>
<a name="ln941">  cairo_translate(cr, 0, 0.20);</a>
<a name="ln942">  cairo_save(cr);</a>
<a name="ln943">  cairo_scale(cr, 1.0, 0.60);</a>
<a name="ln944">  cairo_arc(cr, 0.5, 0.5, 0.45, 0, 6.2832);</a>
<a name="ln945">  cairo_restore(cr);</a>
<a name="ln946">  cairo_stroke(cr);</a>
<a name="ln947"> </a>
<a name="ln948">  cairo_translate(cr, 0, -0.20);</a>
<a name="ln949">  if((flags &amp; CPF_ACTIVE))</a>
<a name="ln950">  {</a>
<a name="ln951">    cairo_set_source_rgba(cr, 0.6, 0.1, 0.1, 1.0);</a>
<a name="ln952">    cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln953">    cairo_line_to(cr, 0.9, 0.1);</a>
<a name="ln954">    cairo_stroke(cr);</a>
<a name="ln955">  }</a>
<a name="ln956"> </a>
<a name="ln957">  cairo_identity_matrix(cr);</a>
<a name="ln958">}</a>
<a name="ln959"> </a>
<a name="ln960"> </a>
<a name="ln961"> </a>
<a name="ln962">void dtgtk_cairo_paint_timer(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln963">{</a>
<a name="ln964">  const gint s = w &lt; h ? w : h;</a>
<a name="ln965">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln966">  cairo_scale(cr, s, s);</a>
<a name="ln967"> </a>
<a name="ln968">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln969">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln970"> </a>
<a name="ln971">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln972">  cairo_arc(cr, 0.5, 0.5, 0.5, (-80 * 3.145 / 180), (150 * 3.145 / 180));</a>
<a name="ln973">  cairo_line_to(cr, 0.5, 0.5);</a>
<a name="ln974"> </a>
<a name="ln975">  cairo_stroke(cr);</a>
<a name="ln976"> </a>
<a name="ln977">  cairo_identity_matrix(cr);</a>
<a name="ln978">}</a>
<a name="ln979"> </a>
<a name="ln980">void dtgtk_cairo_paint_filmstrip(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln981">{</a>
<a name="ln982">  gdouble sw = 0.6;</a>
<a name="ln983">  gdouble bend = 0.3;</a>
<a name="ln984"> </a>
<a name="ln985">  const gint s = w &lt; h ? w : h;</a>
<a name="ln986">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln987">  cairo_scale(cr, s, s);</a>
<a name="ln988">  cairo_scale(cr, 0.7, 0.7);</a>
<a name="ln989">  cairo_translate(cr, 0.15, 0.15);</a>
<a name="ln990"> </a>
<a name="ln991">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln992"> </a>
<a name="ln993">  /* s curve left */</a>
<a name="ln994">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln995">  cairo_move_to(cr, 0.0, 1.0);</a>
<a name="ln996">  cairo_curve_to(cr, 0.0, 0.0 + bend, (1.0 - sw), 1.0 - bend, (1.0 - sw), 0.0);</a>
<a name="ln997">  cairo_stroke(cr);</a>
<a name="ln998"> </a>
<a name="ln999">  /* s curve down */</a>
<a name="ln1000">  cairo_move_to(cr, 1.0, 0.0);</a>
<a name="ln1001">  cairo_curve_to(cr, 1.0, 1.0 - bend, sw, 0.0 + bend, sw, 1.0);</a>
<a name="ln1002">  cairo_stroke(cr);</a>
<a name="ln1003"> </a>
<a name="ln1004">  /* filmstrip start,stop and divider */</a>
<a name="ln1005">  cairo_set_line_width(cr, 0.05);</a>
<a name="ln1006">  cairo_move_to(cr, 0, 1.0);</a>
<a name="ln1007">  cairo_line_to(cr, sw, 1.0);</a>
<a name="ln1008">  cairo_stroke(cr);</a>
<a name="ln1009">  cairo_move_to(cr, 1 - sw, 0.0);</a>
<a name="ln1010">  cairo_line_to(cr, 1.0, 0.0);</a>
<a name="ln1011">  cairo_stroke(cr);</a>
<a name="ln1012"> </a>
<a name="ln1013">  cairo_set_line_width(cr, 0.07);</a>
<a name="ln1014">  cairo_move_to(cr, 1 - sw, 0.5);</a>
<a name="ln1015">  cairo_line_to(cr, sw, 0.5);</a>
<a name="ln1016">  cairo_stroke(cr);</a>
<a name="ln1017"> </a>
<a name="ln1018"> </a>
<a name="ln1019">  cairo_identity_matrix(cr);</a>
<a name="ln1020">}</a>
<a name="ln1021"> </a>
<a name="ln1022">void dtgtk_cairo_paint_directory(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1023">{</a>
<a name="ln1024">  cairo_save(cr);</a>
<a name="ln1025">  cairo_set_source_rgb(cr, .8, .8, .8);</a>
<a name="ln1026">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1027">  cairo_translate(cr, x + .05 * w, y + .05 * h);</a>
<a name="ln1028">  cairo_scale(cr, .9 * w, .9 * h);</a>
<a name="ln1029">  cairo_set_line_width(cr, 1. / w);</a>
<a name="ln1030">  cairo_rectangle(cr, 0., 0., 1., 1.);</a>
<a name="ln1031">  cairo_stroke(cr);</a>
<a name="ln1032">  cairo_move_to(cr, 0., .2);</a>
<a name="ln1033">  cairo_line_to(cr, .5, .2);</a>
<a name="ln1034">  cairo_line_to(cr, .6, 0.);</a>
<a name="ln1035">  cairo_stroke(cr);</a>
<a name="ln1036">  cairo_restore(cr);</a>
<a name="ln1037">}</a>
<a name="ln1038"> </a>
<a name="ln1039">void dtgtk_cairo_paint_refresh(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1040">{</a>
<a name="ln1041">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1042">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1043">  cairo_scale(cr, s, s);</a>
<a name="ln1044">  if(flags &amp; 1)</a>
<a name="ln1045">  {</a>
<a name="ln1046">    cairo_translate(cr, 1, 0);</a>
<a name="ln1047">    cairo_scale(cr, -1, 1);</a>
<a name="ln1048">  }</a>
<a name="ln1049"> </a>
<a name="ln1050">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1051">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1052">  cairo_move_to(cr, 0.65, 0.1);</a>
<a name="ln1053">  cairo_line_to(cr, 0.5, 0.2);</a>
<a name="ln1054">  cairo_line_to(cr, 0.65, 0.3);</a>
<a name="ln1055">  cairo_stroke(cr);</a>
<a name="ln1056"> </a>
<a name="ln1057">  cairo_set_line_width(cr, 0.10);</a>
<a name="ln1058">  cairo_arc(cr, 0.5, 0.5, 0.35, (-80 * 3.145 / 180), (220 * 3.145 / 180));</a>
<a name="ln1059">  cairo_stroke(cr);</a>
<a name="ln1060"> </a>
<a name="ln1061">  cairo_identity_matrix(cr);</a>
<a name="ln1062">}</a>
<a name="ln1063"> </a>
<a name="ln1064">void dtgtk_cairo_paint_perspective(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1065">{</a>
<a name="ln1066">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1067">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1068">  cairo_scale(cr, s, s);</a>
<a name="ln1069"> </a>
<a name="ln1070">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1071">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1072"> </a>
<a name="ln1073">  if((flags &amp; 3) == 1)</a>
<a name="ln1074">  {</a>
<a name="ln1075">    cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln1076">    cairo_line_to(cr, 0.3, 0.1);</a>
<a name="ln1077">    cairo_line_to(cr, 0.7, 0.1);</a>
<a name="ln1078">    cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln1079">    cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1080">    cairo_stroke(cr);</a>
<a name="ln1081">  }</a>
<a name="ln1082">  else if((flags &amp; 3) == 2)</a>
<a name="ln1083">  {</a>
<a name="ln1084">    cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln1085">    cairo_line_to(cr, 0.9, 0.7);</a>
<a name="ln1086">    cairo_line_to(cr, 0.9, 0.3);</a>
<a name="ln1087">    cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln1088">    cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1089">    cairo_stroke(cr);</a>
<a name="ln1090">  }</a>
<a name="ln1091">  else if((flags &amp; 3) == 3)</a>
<a name="ln1092">  {</a>
<a name="ln1093">    cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln1094">    cairo_line_to(cr, 0.9, 0.7);</a>
<a name="ln1095">    cairo_line_to(cr, 0.8, 0.2);</a>
<a name="ln1096">    cairo_line_to(cr, 0.3, 0.1);</a>
<a name="ln1097">    cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1098">    cairo_stroke(cr);</a>
<a name="ln1099">  }</a>
<a name="ln1100">}</a>
<a name="ln1101"> </a>
<a name="ln1102">void dtgtk_cairo_paint_structure(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1103">{</a>
<a name="ln1104">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1105">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1106">  cairo_scale(cr, s, s);</a>
<a name="ln1107"> </a>
<a name="ln1108">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1109">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1110"> </a>
<a name="ln1111">  cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln1112">  cairo_line_to(cr, 0.0, 0.9);</a>
<a name="ln1113">  cairo_stroke(cr);</a>
<a name="ln1114">  cairo_move_to(cr, 0.366, 0.1);</a>
<a name="ln1115">  cairo_line_to(cr, 0.33, 0.9);</a>
<a name="ln1116">  cairo_stroke(cr);</a>
<a name="ln1117">  cairo_move_to(cr, 0.633, 0.1);</a>
<a name="ln1118">  cairo_line_to(cr, 0.66, 0.9);</a>
<a name="ln1119">  cairo_stroke(cr);</a>
<a name="ln1120">  cairo_move_to(cr, 0.9, 0.1);</a>
<a name="ln1121">  cairo_line_to(cr, 1.0, 0.9);</a>
<a name="ln1122">  cairo_stroke(cr);</a>
<a name="ln1123">}</a>
<a name="ln1124"> </a>
<a name="ln1125">void dtgtk_cairo_paint_cancel(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1126">{</a>
<a name="ln1127">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1128">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1129">  cairo_scale(cr, s, s);</a>
<a name="ln1130"> </a>
<a name="ln1131">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1132">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1133">  cairo_move_to(cr, 0.9, 0.1);</a>
<a name="ln1134">  cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1135">  cairo_stroke(cr);</a>
<a name="ln1136">  cairo_move_to(cr, 0.9, 0.9);</a>
<a name="ln1137">  cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln1138">  cairo_stroke(cr);</a>
<a name="ln1139">}</a>
<a name="ln1140"> </a>
<a name="ln1141">void dtgtk_cairo_paint_aspectflip(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1142">{</a>
<a name="ln1143">  cairo_save(cr);</a>
<a name="ln1144">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1145">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1146">  cairo_scale(cr, s, s);</a>
<a name="ln1147">  if(flags &amp; 1)</a>
<a name="ln1148">  {</a>
<a name="ln1149">    cairo_translate(cr, 0, 1);</a>
<a name="ln1150">    cairo_scale(cr, 1, -1);</a>
<a name="ln1151">  }</a>
<a name="ln1152"> </a>
<a name="ln1153">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1154">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1155">  cairo_move_to(cr, 0.65, 0.0);</a>
<a name="ln1156">  cairo_line_to(cr, 0.5, 0.05);</a>
<a name="ln1157">  cairo_line_to(cr, 0.6, 0.25);</a>
<a name="ln1158">  cairo_stroke(cr);</a>
<a name="ln1159"> </a>
<a name="ln1160">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1161">  cairo_arc(cr, 0.5, 0.5, 0.45, (-80 * 3.145 / 180), (220 * 3.145 / 180));</a>
<a name="ln1162">  cairo_stroke(cr);</a>
<a name="ln1163">  cairo_restore(cr);</a>
<a name="ln1164">}</a>
<a name="ln1165"> </a>
<a name="ln1166">void dtgtk_cairo_paint_styles(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1167">{</a>
<a name="ln1168">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1169">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1170">  cairo_scale(cr, s, s);</a>
<a name="ln1171"> </a>
<a name="ln1172">  cairo_set_line_width(cr, 0.07);</a>
<a name="ln1173">  cairo_arc(cr, 0.2, 0.8, 0.2, 0.0, 2.0 * M_PI);</a>
<a name="ln1174">  cairo_stroke(cr);</a>
<a name="ln1175">  cairo_arc(cr, 0.7, 0.7, 0.3, 0.0, 2.0 * M_PI);</a>
<a name="ln1176">  cairo_stroke(cr);</a>
<a name="ln1177">  cairo_arc(cr, 0.4, 0.2, 0.25, 0.0, 2.0 * M_PI);</a>
<a name="ln1178">  cairo_stroke(cr);</a>
<a name="ln1179"> </a>
<a name="ln1180">  /* if its a popup menu */</a>
<a name="ln1181">  if(flags)</a>
<a name="ln1182">  {</a>
<a name="ln1183">    cairo_move_to(cr, 0.9, -0.2);</a>
<a name="ln1184">    cairo_line_to(cr, 0.7, 0.3);</a>
<a name="ln1185">    cairo_line_to(cr, 1.1, 0.3);</a>
<a name="ln1186">    cairo_fill(cr);</a>
<a name="ln1187">  }</a>
<a name="ln1188">}</a>
<a name="ln1189"> </a>
<a name="ln1190">void dtgtk_cairo_paint_label(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1191">{</a>
<a name="ln1192">  gboolean def = FALSE;</a>
<a name="ln1193">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1194">  double r = 0.4;</a>
<a name="ln1195">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1196">  cairo_scale(cr, s, s);</a>
<a name="ln1197"> </a>
<a name="ln1198">  /* fill base color */</a>
<a name="ln1199">  cairo_arc(cr, 0.5, 0.5, r, 0.0, 2.0 * M_PI);</a>
<a name="ln1200">  float alpha = 1.0;</a>
<a name="ln1201"> </a>
<a name="ln1202">  if((flags &amp; 8) &amp;&amp; !(flags &amp; CPF_PRELIGHT)) alpha = 0.6;</a>
<a name="ln1203"> </a>
<a name="ln1204">  switch((flags &amp; 7))</a>
<a name="ln1205">  {</a>
<a name="ln1206">    case 0:</a>
<a name="ln1207">      cairo_set_source_rgba(cr, 0.9, 0.0, 0.0, alpha);</a>
<a name="ln1208">      break; // red</a>
<a name="ln1209">    case 1:</a>
<a name="ln1210">      cairo_set_source_rgba(cr, 0.9, 0.9, 0.0, alpha);</a>
<a name="ln1211">      break; // yellow</a>
<a name="ln1212">    case 2:</a>
<a name="ln1213">      cairo_set_source_rgba(cr, 0.0, 0.9, 0.0, alpha);</a>
<a name="ln1214">      break; // green</a>
<a name="ln1215">    case 3:</a>
<a name="ln1216">      cairo_set_source_rgba(cr, 0.0, 0.0, 0.9, alpha);</a>
<a name="ln1217">      break; // blue</a>
<a name="ln1218">    case 4:</a>
<a name="ln1219">      cairo_set_source_rgba(cr, 0.9, 0.0, 0.9, alpha);</a>
<a name="ln1220">      break; // magenta</a>
<a name="ln1221">    case 7:</a>
<a name="ln1222">      // don't fill</a>
<a name="ln1223">      cairo_set_source_rgba(cr, 0, 0, 0, 0);</a>
<a name="ln1224">      break;</a>
<a name="ln1225">    default:</a>
<a name="ln1226">      cairo_set_source_rgba(cr, 0.75, 0.75, 0.75, alpha);</a>
<a name="ln1227">      def = TRUE;</a>
<a name="ln1228">      break; // gray</a>
<a name="ln1229">  }</a>
<a name="ln1230">  cairo_fill(cr);</a>
<a name="ln1231"> </a>
<a name="ln1232">  /* draw cross overlay if highlighted */</a>
<a name="ln1233">  if(def == TRUE &amp;&amp; (flags &amp; CPF_PRELIGHT))</a>
<a name="ln1234">  {</a>
<a name="ln1235">    cairo_set_line_width(cr, 0.15);</a>
<a name="ln1236">    cairo_set_source_rgba(cr, 0.5, 0.0, 0.0, 0.8);</a>
<a name="ln1237">    cairo_move_to(cr, 0.0, 0.0);</a>
<a name="ln1238">    cairo_line_to(cr, 1.0, 1.0);</a>
<a name="ln1239">    cairo_move_to(cr, 0.9, 0.1);</a>
<a name="ln1240">    cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1241">    cairo_stroke(cr);</a>
<a name="ln1242">  }</a>
<a name="ln1243">}</a>
<a name="ln1244"> </a>
<a name="ln1245">void dtgtk_cairo_paint_local_copy(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1246">{</a>
<a name="ln1247">  if(!flags) return;</a>
<a name="ln1248"> </a>
<a name="ln1249">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1250">  double r = 0.4;</a>
<a name="ln1251">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1252">  cairo_scale(cr, s, s);</a>
<a name="ln1253"> </a>
<a name="ln1254">  /* fill base color */</a>
<a name="ln1255">  cairo_arc(cr, 0.5, 0.5, r, 0.0, 2.0 * M_PI);</a>
<a name="ln1256"> </a>
<a name="ln1257">  cairo_set_source_rgba(cr, 1, 1, 1, 1);</a>
<a name="ln1258">  cairo_fill(cr);</a>
<a name="ln1259"> </a>
<a name="ln1260">  /* draw outline */</a>
<a name="ln1261">  cairo_set_source_rgba(cr, 0.5, 0.5, 0.5, 0.5);</a>
<a name="ln1262">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1263">  cairo_arc(cr, 0.5, 0.5, r, 0.0, 2.0 * M_PI);</a>
<a name="ln1264">  cairo_stroke(cr);</a>
<a name="ln1265">}</a>
<a name="ln1266"> </a>
<a name="ln1267">void dtgtk_cairo_paint_colorpicker(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1268">{</a>
<a name="ln1269">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1270">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1271">  cairo_scale(cr, s, s);</a>
<a name="ln1272"> </a>
<a name="ln1273">  /* draw pipette */</a>
<a name="ln1274"> </a>
<a name="ln1275">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1276"> </a>
<a name="ln1277">  // drop</a>
<a name="ln1278">  cairo_set_line_width(cr, 0.15);</a>
<a name="ln1279">  cairo_move_to(cr, 0.08, 1. - 0.01);</a>
<a name="ln1280">  cairo_line_to(cr, 0.08, 1. - 0.09);</a>
<a name="ln1281">  cairo_stroke(cr);</a>
<a name="ln1282"> </a>
<a name="ln1283">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1284">  // cross line</a>
<a name="ln1285">  cairo_move_to(cr, 0.48, 1. - 0.831);</a>
<a name="ln1286">  cairo_line_to(cr, 0.739, 1. - 0.482);</a>
<a name="ln1287">  // shaft</a>
<a name="ln1288">  cairo_move_to(cr, 0.124, 1. - 0.297);</a>
<a name="ln1289">  cairo_line_to(cr, 0.823, 1. - 0.814);</a>
<a name="ln1290">  cairo_stroke(cr);</a>
<a name="ln1291"> </a>
<a name="ln1292">  // end</a>
<a name="ln1293">  cairo_set_line_width(cr, 0.35);</a>
<a name="ln1294">  cairo_move_to(cr, 0.823, 1. - 0.814);</a>
<a name="ln1295">  cairo_line_to(cr, 0.648, 1. - 0.685);</a>
<a name="ln1296">  cairo_stroke(cr);</a>
<a name="ln1297">}</a>
<a name="ln1298"> </a>
<a name="ln1299">void dtgtk_cairo_paint_colorpicker_set_values(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1300">{</a>
<a name="ln1301">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1302">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1303">  cairo_scale(cr, s, s);</a>
<a name="ln1304"> </a>
<a name="ln1305">  /* draw pipette */</a>
<a name="ln1306"> </a>
<a name="ln1307">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1308"> </a>
<a name="ln1309">  // drop</a>
<a name="ln1310">  cairo_set_line_width(cr, 0.15);</a>
<a name="ln1311">  cairo_move_to(cr, 0.08, 1. - 0.01 + 0.05);</a>
<a name="ln1312">  cairo_line_to(cr, 0.08, 1. - 0.09 + 0.05);</a>
<a name="ln1313">  cairo_stroke(cr);</a>
<a name="ln1314"> </a>
<a name="ln1315">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1316">  // cross line</a>
<a name="ln1317">  cairo_move_to(cr, 0.48, 1. - 0.831 + 0.05);</a>
<a name="ln1318">  cairo_line_to(cr, 0.739, 1. - 0.482 + 0.05);</a>
<a name="ln1319">  // shaft</a>
<a name="ln1320">  cairo_move_to(cr, 0.124, 1. - 0.297 + 0.05);</a>
<a name="ln1321">  cairo_line_to(cr, 0.823, 1. - 0.814 + 0.05);</a>
<a name="ln1322">  cairo_stroke(cr);</a>
<a name="ln1323"> </a>
<a name="ln1324">  // end</a>
<a name="ln1325">  cairo_set_line_width(cr, 0.35);</a>
<a name="ln1326">  cairo_move_to(cr, 0.823, 1. - 0.814 + 0.05);</a>
<a name="ln1327">  cairo_line_to(cr, 0.648, 1. - 0.685 + 0.05);</a>
<a name="ln1328">  cairo_stroke(cr);</a>
<a name="ln1329"> </a>
<a name="ln1330">  // plus sign</a>
<a name="ln1331">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1332">  cairo_move_to(cr, 0.20, 0.01);</a>
<a name="ln1333">  cairo_line_to(cr, 0.20, 0.41);</a>
<a name="ln1334">  cairo_stroke(cr);</a>
<a name="ln1335">  cairo_move_to(cr, 0.01, 0.20);</a>
<a name="ln1336">  cairo_line_to(cr, 0.41, 0.20);</a>
<a name="ln1337">  cairo_stroke(cr);</a>
<a name="ln1338">}</a>
<a name="ln1339"> </a>
<a name="ln1340">void dtgtk_cairo_paint_showmask(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1341">{</a>
<a name="ln1342">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1343">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1344">  cairo_scale(cr, s, s);</a>
<a name="ln1345"> </a>
<a name="ln1346">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1347">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1348"> </a>
<a name="ln1349">  /* draw rectangle */</a>
<a name="ln1350">  cairo_rectangle(cr, 0.0, 0.0, 1.0, 1.0);</a>
<a name="ln1351">  cairo_fill(cr);</a>
<a name="ln1352">  cairo_stroke(cr);</a>
<a name="ln1353"> </a>
<a name="ln1354"> </a>
<a name="ln1355">  /* draw circle */</a>
<a name="ln1356">  cairo_set_source_rgba(cr, 0.2, 0.2, 0.2, 1.0);</a>
<a name="ln1357">  cairo_arc(cr, 0.5, 0.5, 0.30, -M_PI, M_PI);</a>
<a name="ln1358">  cairo_fill(cr);</a>
<a name="ln1359">}</a>
<a name="ln1360"> </a>
<a name="ln1361"> </a>
<a name="ln1362"> </a>
<a name="ln1363">void dtgtk_cairo_paint_preferences(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1364">{</a>
<a name="ln1365">  const gint s = (w &lt; h ? w / 1.75 : h / 1.75);</a>
<a name="ln1366">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1367">  cairo_scale(cr, s, s);</a>
<a name="ln1368"> </a>
<a name="ln1369">  cairo_set_line_width(cr, .25);</a>
<a name="ln1370">  cairo_arc(cr, 0.5, 0.5, 0.6, 0., 2.0f * M_PI);</a>
<a name="ln1371">  cairo_stroke(cr);</a>
<a name="ln1372"> </a>
<a name="ln1373">  double dashes = .35;</a>
<a name="ln1374">  cairo_set_dash(cr, &amp;dashes, 1, 0);</a>
<a name="ln1375">  cairo_arc(cr, 0.5, 0.5, 0.8, 0., 2.0f * M_PI);</a>
<a name="ln1376">  cairo_stroke(cr);</a>
<a name="ln1377">}</a>
<a name="ln1378"> </a>
<a name="ln1379">void dtgtk_cairo_paint_overlays(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1380">{</a>
<a name="ln1381">  const gint s = (w &lt; h ? w / 1.75 : h / 1.75);</a>
<a name="ln1382">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1383">  cairo_scale(cr, s, s);</a>
<a name="ln1384">  cairo_set_line_width(cr, .1);</a>
<a name="ln1385"> </a>
<a name="ln1386">  dt_draw_star(cr, 0.5, 0.5, 1.0, 1.0/2.5);</a>
<a name="ln1387"> </a>
<a name="ln1388">  cairo_stroke(cr);</a>
<a name="ln1389">}</a>
<a name="ln1390"> </a>
<a name="ln1391">void dtgtk_cairo_paint_help(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1392">{</a>
<a name="ln1393">  PangoLayout *layout;</a>
<a name="ln1394">  PangoRectangle ink;</a>
<a name="ln1395">  // grow is needed because ink.* are int and everything gets rounded to 1 or so otherwise,</a>
<a name="ln1396">  // leading to imprecise positioning</a>
<a name="ln1397">  static const float grow = 12.0;</a>
<a name="ln1398">  layout = pango_cairo_create_layout(cr);</a>
<a name="ln1399">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1400">  cairo_translate(cr, x + (w / 2.0), y + (h / 2.0));</a>
<a name="ln1401">  cairo_scale(cr, s / grow, s / grow);</a>
<a name="ln1402"> </a>
<a name="ln1403">  pango_layout_set_text(layout, &quot;?&quot;, -1);</a>
<a name="ln1404">  pango_layout_get_pixel_extents(layout, &amp;ink, NULL);</a>
<a name="ln1405">  cairo_move_to(cr, 0 - ink.x - ink.width / 2.0, 0 - ink.y - ink.height / 2.0);</a>
<a name="ln1406">  pango_cairo_show_layout(cr, layout);</a>
<a name="ln1407">  g_object_unref(layout);</a>
<a name="ln1408">}</a>
<a name="ln1409"> </a>
<a name="ln1410">// TODO: Find better icon</a>
<a name="ln1411">void dtgtk_cairo_paint_grouping(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1412">{</a>
<a name="ln1413">  PangoLayout *layout;</a>
<a name="ln1414">  PangoRectangle ink;</a>
<a name="ln1415">  // grow is needed because ink.* are int and everything gets rounded to 1 or so otherwise,</a>
<a name="ln1416">  // leading to imprecise positioning</a>
<a name="ln1417">  static const float grow = 12.0;</a>
<a name="ln1418">  layout = pango_cairo_create_layout(cr);</a>
<a name="ln1419">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1420">  cairo_translate(cr, x + (w / 2.0), y + (h / 2.0));</a>
<a name="ln1421">  cairo_scale(cr, s / grow, s / grow);</a>
<a name="ln1422"> </a>
<a name="ln1423">  pango_layout_set_text(layout, &quot;G&quot;, -1);</a>
<a name="ln1424">  pango_layout_get_pixel_extents(layout, &amp;ink, NULL);</a>
<a name="ln1425">  cairo_move_to(cr, 0 - ink.x - ink.width / 2.0, 0 - ink.y - ink.height / 2.0);</a>
<a name="ln1426">  pango_cairo_show_layout(cr, layout);</a>
<a name="ln1427">  g_object_unref(layout);</a>
<a name="ln1428">}</a>
<a name="ln1429"> </a>
<a name="ln1430">void dtgtk_cairo_paint_alignment(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1431">{</a>
<a name="ln1432">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1433">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1434">  cairo_scale(cr, s, s);</a>
<a name="ln1435"> </a>
<a name="ln1436">  cairo_set_line_width(cr, 0.3);</a>
<a name="ln1437">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1438">  switch(flags &gt;&gt; 13)</a>
<a name="ln1439">  {</a>
<a name="ln1440">    case 1: // Top left</a>
<a name="ln1441">      cairo_move_to(cr, 0.9, 0.1);</a>
<a name="ln1442">      cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln1443">      cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1444">      break;</a>
<a name="ln1445"> </a>
<a name="ln1446">    case 2: // Top center</a>
<a name="ln1447">      cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln1448">      cairo_line_to(cr, 0.9, 0.1);</a>
<a name="ln1449">      break;</a>
<a name="ln1450"> </a>
<a name="ln1451">    case 4: // Top right</a>
<a name="ln1452">      cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln1453">      cairo_line_to(cr, 0.9, 0.1);</a>
<a name="ln1454">      cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln1455">      break;</a>
<a name="ln1456"> </a>
<a name="ln1457">    case 8: // left</a>
<a name="ln1458">      cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln1459">      cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1460">      break;</a>
<a name="ln1461">    case 16: // center</a>
<a name="ln1462">      cairo_move_to(cr, 0.1, 0.5);</a>
<a name="ln1463">      cairo_line_to(cr, 0.9, 0.5);</a>
<a name="ln1464">      cairo_move_to(cr, 0.5, 0.1);</a>
<a name="ln1465">      cairo_line_to(cr, 0.5, 0.9);</a>
<a name="ln1466">      break;</a>
<a name="ln1467">    case 32: // right</a>
<a name="ln1468">      cairo_move_to(cr, 0.9, 0.1);</a>
<a name="ln1469">      cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln1470">      break;</a>
<a name="ln1471"> </a>
<a name="ln1472">    case 64: // bottom left</a>
<a name="ln1473">      cairo_move_to(cr, 0.9, 0.9);</a>
<a name="ln1474">      cairo_line_to(cr, 0.1, 0.9);</a>
<a name="ln1475">      cairo_line_to(cr, 0.1, 0.1);</a>
<a name="ln1476">      break;</a>
<a name="ln1477"> </a>
<a name="ln1478">    case 128: // bottom center</a>
<a name="ln1479">      cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln1480">      cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln1481">      break;</a>
<a name="ln1482"> </a>
<a name="ln1483">    case 256: // bottom right</a>
<a name="ln1484">      cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln1485">      cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln1486">      cairo_line_to(cr, 0.9, 0.1);</a>
<a name="ln1487">      break;</a>
<a name="ln1488">  }</a>
<a name="ln1489">  cairo_stroke(cr);</a>
<a name="ln1490">}</a>
<a name="ln1491"> </a>
<a name="ln1492">void dtgtk_cairo_paint_or(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1493">{</a>
<a name="ln1494">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1495">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1496">  cairo_scale(cr, s, s);</a>
<a name="ln1497"> </a>
<a name="ln1498">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1499">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1500"> </a>
<a name="ln1501">  cairo_move_to(cr, 0.1, 0.3);</a>
<a name="ln1502">  cairo_curve_to(cr, 0.1, 1.1, 0.9, 1.1, 0.9, 0.3);</a>
<a name="ln1503">  cairo_stroke(cr);</a>
<a name="ln1504">}</a>
<a name="ln1505"> </a>
<a name="ln1506">void dtgtk_cairo_paint_and(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1507">{</a>
<a name="ln1508">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1509">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1510">  cairo_scale(cr, s, s);</a>
<a name="ln1511"> </a>
<a name="ln1512">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1513">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1514"> </a>
<a name="ln1515">  cairo_move_to(cr, 0.1, 0.9);</a>
<a name="ln1516">  cairo_curve_to(cr, 0.1, 0.1, 0.9, 0.1, 0.9, 0.9);</a>
<a name="ln1517">  cairo_stroke(cr);</a>
<a name="ln1518">}</a>
<a name="ln1519"> </a>
<a name="ln1520">void dtgtk_cairo_paint_andnot(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1521">{</a>
<a name="ln1522">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1523">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1524">  cairo_scale(cr, s, s);</a>
<a name="ln1525"> </a>
<a name="ln1526">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1527">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1528"> </a>
<a name="ln1529">  cairo_move_to(cr, 0.1, 0.1);</a>
<a name="ln1530">  cairo_line_to(cr, 0.9, 0.9);</a>
<a name="ln1531">  cairo_stroke(cr);</a>
<a name="ln1532">}</a>
<a name="ln1533"> </a>
<a name="ln1534">void dtgtk_cairo_paint_dropdown(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1535">{</a>
<a name="ln1536">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1537">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1538">  cairo_scale(cr, s, s);</a>
<a name="ln1539"> </a>
<a name="ln1540">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1541">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1542"> </a>
<a name="ln1543">  cairo_move_to(cr, 0.1, 0.3);</a>
<a name="ln1544">  cairo_line_to(cr, 0.5, 0.7);</a>
<a name="ln1545">  cairo_line_to(cr, 0.9, 0.3);</a>
<a name="ln1546">  cairo_stroke(cr);</a>
<a name="ln1547">}</a>
<a name="ln1548"> </a>
<a name="ln1549">void dtgtk_cairo_paint_bracket(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1550">{</a>
<a name="ln1551">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1552">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1553">  cairo_scale(cr, s, s);</a>
<a name="ln1554"> </a>
<a name="ln1555">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1556">  cairo_set_line_width(cr, 0.012);</a>
<a name="ln1557">  cairo_rectangle(cr, 0.05, 0.05, 0.45, 0.45);</a>
<a name="ln1558">  cairo_stroke(cr);</a>
<a name="ln1559">  cairo_set_line_width(cr, 0.025);</a>
<a name="ln1560">  cairo_rectangle(cr, 0.55, 0.05, 0.45, 0.45);</a>
<a name="ln1561">  cairo_stroke(cr);</a>
<a name="ln1562">  cairo_set_line_width(cr, 0.05);</a>
<a name="ln1563">  cairo_rectangle(cr, 0.05, 0.55, 0.45, 0.45);</a>
<a name="ln1564">  cairo_stroke(cr);</a>
<a name="ln1565">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1566">  cairo_rectangle(cr, 0.55, 0.55, 0.45, 0.45);</a>
<a name="ln1567">  cairo_stroke(cr);</a>
<a name="ln1568">}</a>
<a name="ln1569"> </a>
<a name="ln1570">void dtgtk_cairo_paint_lock(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1571">{</a>
<a name="ln1572">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1573">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1574">  cairo_scale(cr, s, s);</a>
<a name="ln1575"> </a>
<a name="ln1576">  // Adding the lock body</a>
<a name="ln1577">  cairo_rectangle(cr, 0.25, 0.5, .5, .45);</a>
<a name="ln1578">  cairo_fill(cr);</a>
<a name="ln1579"> </a>
<a name="ln1580">  // Adding the lock shank</a>
<a name="ln1581">  cairo_set_line_width(cr, 0.2);</a>
<a name="ln1582">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_BUTT);</a>
<a name="ln1583">  cairo_translate(cr, .5, .5);</a>
<a name="ln1584">  cairo_scale(cr, .2, .4);</a>
<a name="ln1585">  cairo_arc(cr, 0, 0, 1, M_PI, 0);</a>
<a name="ln1586">  cairo_stroke(cr);</a>
<a name="ln1587">}</a>
<a name="ln1588"> </a>
<a name="ln1589">void dtgtk_cairo_paint_check_mark(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1590">{</a>
<a name="ln1591">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1592">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1593">  cairo_scale(cr, s, s);</a>
<a name="ln1594"> </a>
<a name="ln1595">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1596">  cairo_move_to(cr, 0.20, 0.45);</a>
<a name="ln1597">  cairo_line_to(cr, 0.45, 0.90);</a>
<a name="ln1598">  cairo_line_to(cr, 0.90, 0.20);</a>
<a name="ln1599">  cairo_stroke(cr);</a>
<a name="ln1600">}</a>
<a name="ln1601"> </a>
<a name="ln1602">void dtgtk_cairo_paint_overexposed(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1603">{</a>
<a name="ln1604">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1605">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1606">  cairo_scale(cr, s, s);</a>
<a name="ln1607"> </a>
<a name="ln1608">  float line_width = 0.1;</a>
<a name="ln1609"> </a>
<a name="ln1610">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1611">  cairo_set_line_width(cr, line_width);</a>
<a name="ln1612"> </a>
<a name="ln1613">  /* the triangle */</a>
<a name="ln1614">  cairo_move_to(cr, 1.0 - (line_width / 2.0), (line_width / 2.0));</a>
<a name="ln1615">  cairo_line_to(cr, (line_width / 2.0), 1.0 - (line_width / 2.0));</a>
<a name="ln1616">  cairo_line_to(cr, 1.0 - (line_width / 2.0), 1.0 - (line_width / 2.0));</a>
<a name="ln1617">  cairo_fill(cr);</a>
<a name="ln1618"> </a>
<a name="ln1619">  /* outer rect */</a>
<a name="ln1620">  cairo_rectangle(cr, (line_width / 2.0), (line_width / 2.0), 1.0 - line_width, 1.0 - line_width);</a>
<a name="ln1621">  cairo_stroke(cr);</a>
<a name="ln1622">}</a>
<a name="ln1623"> </a>
<a name="ln1624">void dtgtk_cairo_paint_rawoverexposed(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1625">{</a>
<a name="ln1626">  const float alpha = (flags &amp; CPF_ACTIVE ? 1.0 : 0.4);</a>
<a name="ln1627">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1628">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1629">  cairo_scale(cr, s, s);</a>
<a name="ln1630"> </a>
<a name="ln1631">  float line_width = 0.1;</a>
<a name="ln1632"> </a>
<a name="ln1633">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1634">  cairo_set_line_width(cr, line_width);</a>
<a name="ln1635"> </a>
<a name="ln1636">  cairo_save(cr);</a>
<a name="ln1637"> </a>
<a name="ln1638">  const double step = ((line_width / 2.0) + (1.0 - line_width) / 2.0);</a>
<a name="ln1639"> </a>
<a name="ln1640">  // draw 4 CFA-like colored squares</a>
<a name="ln1641"> </a>
<a name="ln1642">  cairo_set_source_rgba(cr, 1.0, 0.0, 0.0, alpha); // red</a>
<a name="ln1643">  cairo_rectangle(cr, (line_width / 2.0), (line_width / 2.0), step, step);</a>
<a name="ln1644">  cairo_fill(cr);</a>
<a name="ln1645"> </a>
<a name="ln1646">  cairo_set_source_rgba(cr, 0.0, 1.0, 0.0, alpha); // green</a>
<a name="ln1647">  cairo_rectangle(cr, step, (line_width / 2.0), step, step);</a>
<a name="ln1648">  cairo_fill(cr);</a>
<a name="ln1649"> </a>
<a name="ln1650">  cairo_set_source_rgba(cr, 0.0, 1.0, 0.0, alpha); // green</a>
<a name="ln1651">  cairo_rectangle(cr, (line_width / 2.0), step, step, step);</a>
<a name="ln1652">  cairo_fill(cr);</a>
<a name="ln1653"> </a>
<a name="ln1654">  cairo_set_source_rgba(cr, 0.0, 0.0, 1.0, alpha); // blue</a>
<a name="ln1655">  cairo_rectangle(cr, step, step, step, step);</a>
<a name="ln1656">  cairo_fill(cr);</a>
<a name="ln1657"> </a>
<a name="ln1658">  cairo_restore(cr);</a>
<a name="ln1659"> </a>
<a name="ln1660">  /* outer rect */</a>
<a name="ln1661">  cairo_rectangle(cr, (line_width / 2.0), (line_width / 2.0), 1.0 - line_width, 1.0 - line_width);</a>
<a name="ln1662">  cairo_stroke(cr);</a>
<a name="ln1663">}</a>
<a name="ln1664"> </a>
<a name="ln1665">void dtgtk_cairo_paint_gamut_check(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1666">{</a>
<a name="ln1667">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1668">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1669">  cairo_scale(cr, s, s);</a>
<a name="ln1670"> </a>
<a name="ln1671">  cairo_save(cr);</a>
<a name="ln1672">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1673"> </a>
<a name="ln1674">  // the triangle</a>
<a name="ln1675">  cairo_move_to(cr, 0.0, 1 - 0.067);</a>
<a name="ln1676">  cairo_line_to(cr, 0.5, 1 - 0.933);</a>
<a name="ln1677">  cairo_line_to(cr, 1.0, 1 - 0.067);</a>
<a name="ln1678">  cairo_close_path(cr);</a>
<a name="ln1679"> </a>
<a name="ln1680">  // exclamation mark</a>
<a name="ln1681">  // the dot</a>
<a name="ln1682">  cairo_new_sub_path(cr);</a>
<a name="ln1683">  cairo_move_to(cr, 0.42, 1 - 0.11);</a>
<a name="ln1684">  cairo_line_to(cr, 0.42, 1 - 0.25);</a>
<a name="ln1685">  cairo_line_to(cr, 0.58, 1 - 0.25);</a>
<a name="ln1686">  cairo_line_to(cr, 0.58, 1 - 0.11);</a>
<a name="ln1687">  cairo_close_path(cr);</a>
<a name="ln1688"> </a>
<a name="ln1689">  // the line</a>
<a name="ln1690">  cairo_new_sub_path(cr);</a>
<a name="ln1691">  cairo_move_to(cr, 0.447, 1 - 0.29);</a>
<a name="ln1692">  cairo_line_to(cr, 0.415, 1 - 0.552);</a>
<a name="ln1693">  cairo_line_to(cr, 0.415, 1 - 0.683);</a>
<a name="ln1694">  cairo_line_to(cr, 0.585, 1 - 0.683);</a>
<a name="ln1695">  cairo_line_to(cr, 0.585, 1 - 0.552);</a>
<a name="ln1696">  cairo_line_to(cr, 0.552, 1 - 0.29);</a>
<a name="ln1697">  cairo_close_path(cr);</a>
<a name="ln1698"> </a>
<a name="ln1699">  cairo_set_fill_rule(cr, CAIRO_FILL_RULE_EVEN_ODD);</a>
<a name="ln1700">  cairo_fill(cr);</a>
<a name="ln1701"> </a>
<a name="ln1702">  cairo_restore(cr);</a>
<a name="ln1703">}</a>
<a name="ln1704"> </a>
<a name="ln1705">void dtgtk_cairo_paint_softproof(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1706">{</a>
<a name="ln1707">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1708">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1709">  cairo_scale(cr, s, s);</a>
<a name="ln1710"> </a>
<a name="ln1711">  cairo_save(cr);</a>
<a name="ln1712">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1713"> </a>
<a name="ln1714">  // the horse shoe</a>
<a name="ln1715">  cairo_move_to(cr, 0.30, 1 - 0.0);</a>
<a name="ln1716">  cairo_curve_to(cr, 0.14, 1 - 0.09, 0.03, 1 - 0.88, 0.18, 1 - 1);</a>
<a name="ln1717">  cairo_curve_to(cr, 0.32, 1 - 1.08, 0.69, 1 - 0.63, 0.97, 1 - 0.32);</a>
<a name="ln1718">  cairo_close_path(cr);</a>
<a name="ln1719"> </a>
<a name="ln1720">  // triangle</a>
<a name="ln1721">  cairo_new_sub_path(cr);</a>
<a name="ln1722">  cairo_move_to(cr, 0.28, 1 - 0.07);</a>
<a name="ln1723">  cairo_line_to(cr, 0.37, 1 - 0.75);</a>
<a name="ln1724">  cairo_line_to(cr, 0.82, 1 - 0.42);</a>
<a name="ln1725">  cairo_close_path(cr);</a>
<a name="ln1726"> </a>
<a name="ln1727">  cairo_set_fill_rule(cr, CAIRO_FILL_RULE_EVEN_ODD);</a>
<a name="ln1728">  cairo_fill(cr);</a>
<a name="ln1729"> </a>
<a name="ln1730">  cairo_restore(cr);</a>
<a name="ln1731">}</a>
<a name="ln1732"> </a>
<a name="ln1733">void dtgtk_cairo_paint_display(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1734">{</a>
<a name="ln1735">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1736">  cairo_save(cr);</a>
<a name="ln1737"> </a>
<a name="ln1738">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1739">  cairo_scale(cr, s, s);</a>
<a name="ln1740">  cairo_scale(cr, 1, -1);</a>
<a name="ln1741">  cairo_translate(cr, 0, -1);</a>
<a name="ln1742"> </a>
<a name="ln1743">  cairo_move_to(cr, 0.0, 0.98);</a>
<a name="ln1744">  cairo_line_to(cr, 1.0, 0.98);</a>
<a name="ln1745">  cairo_line_to(cr, 1.0, 0.28);</a>
<a name="ln1746">  cairo_line_to(cr, 0.58, 0.28);</a>
<a name="ln1747">  cairo_line_to(cr, 0.58, 0.13);</a>
<a name="ln1748">  cairo_line_to(cr, 0.85, 0.13);</a>
<a name="ln1749">  cairo_line_to(cr, 0.85, 0.03);</a>
<a name="ln1750">  cairo_line_to(cr, 0.15, 0.03);</a>
<a name="ln1751">  cairo_line_to(cr, 0.15, 0.13);</a>
<a name="ln1752">  cairo_line_to(cr, 0.42, 0.13);</a>
<a name="ln1753">  cairo_line_to(cr, 0.42, 0.28);</a>
<a name="ln1754">  cairo_line_to(cr, 0.0, 0.28);</a>
<a name="ln1755">  cairo_close_path(cr);</a>
<a name="ln1756"> </a>
<a name="ln1757">  cairo_move_to(cr, 0.1, 0.88);</a>
<a name="ln1758">  cairo_line_to(cr, 0.9, 0.88);</a>
<a name="ln1759">  cairo_line_to(cr, 0.9, 0.38);</a>
<a name="ln1760">  cairo_line_to(cr, 0.1, 0.38);</a>
<a name="ln1761">  cairo_close_path(cr);</a>
<a name="ln1762"> </a>
<a name="ln1763">  cairo_set_fill_rule(cr, CAIRO_FILL_RULE_EVEN_ODD);</a>
<a name="ln1764">  cairo_fill(cr);</a>
<a name="ln1765"> </a>
<a name="ln1766">  cairo_restore(cr);</a>
<a name="ln1767">}</a>
<a name="ln1768"> </a>
<a name="ln1769">void dtgtk_cairo_paint_display2(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1770">{</a>
<a name="ln1771">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1772">  cairo_save(cr);</a>
<a name="ln1773"> </a>
<a name="ln1774">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1775">  cairo_scale(cr, s, s);</a>
<a name="ln1776">  cairo_scale(cr, 1, -1);</a>
<a name="ln1777">  cairo_translate(cr, 0, -1);</a>
<a name="ln1778"> </a>
<a name="ln1779">  double offset = 0.1;</a>
<a name="ln1780"> </a>
<a name="ln1781">  for(int i = 0; i &lt; 2; i++)</a>
<a name="ln1782">  {</a>
<a name="ln1783">    cairo_move_to(cr, 0.0 + offset, 0.98 + offset);</a>
<a name="ln1784">    cairo_line_to(cr, 1.0 + offset, 0.98 + offset);</a>
<a name="ln1785">    cairo_line_to(cr, 1.0 + offset, 0.28 + offset);</a>
<a name="ln1786">    cairo_line_to(cr, 0.58 + offset, 0.28 + offset);</a>
<a name="ln1787">    cairo_line_to(cr, 0.58 + offset, 0.13 + offset);</a>
<a name="ln1788">    cairo_line_to(cr, 0.85 + offset, 0.13 + offset);</a>
<a name="ln1789">    cairo_line_to(cr, 0.85 + offset, 0.03 + offset);</a>
<a name="ln1790">    cairo_line_to(cr, 0.15 + offset, 0.03 + offset);</a>
<a name="ln1791">    cairo_line_to(cr, 0.15 + offset, 0.13 + offset);</a>
<a name="ln1792">    cairo_line_to(cr, 0.42 + offset, 0.13 + offset);</a>
<a name="ln1793">    cairo_line_to(cr, 0.42 + offset, 0.28 + offset);</a>
<a name="ln1794">    cairo_line_to(cr, 0.0 + offset, 0.28 + offset);</a>
<a name="ln1795">    cairo_close_path(cr);</a>
<a name="ln1796"> </a>
<a name="ln1797">    cairo_move_to(cr, 0.1 + offset, 0.88 + offset);</a>
<a name="ln1798">    cairo_line_to(cr, 0.9 + offset, 0.88 + offset);</a>
<a name="ln1799">    cairo_line_to(cr, 0.9 + offset, 0.38 + offset);</a>
<a name="ln1800">    cairo_line_to(cr, 0.1 + offset, 0.38 + offset);</a>
<a name="ln1801">    cairo_close_path(cr);</a>
<a name="ln1802"> </a>
<a name="ln1803">    cairo_set_fill_rule(cr, CAIRO_FILL_RULE_EVEN_ODD);</a>
<a name="ln1804">    cairo_fill(cr);</a>
<a name="ln1805"> </a>
<a name="ln1806">    offset = -0.1;</a>
<a name="ln1807">  }</a>
<a name="ln1808"> </a>
<a name="ln1809">  cairo_restore(cr);</a>
<a name="ln1810">}</a>
<a name="ln1811"> </a>
<a name="ln1812">void dtgtk_cairo_paint_rect_landscape(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1813">{</a>
<a name="ln1814">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1815">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1816">  cairo_scale(cr, s, s);</a>
<a name="ln1817">  cairo_set_line_width(cr, 0.10);</a>
<a name="ln1818">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1819">  cairo_move_to(cr, 0.0, 0.3);</a>
<a name="ln1820">  cairo_line_to(cr, 1.0, 0.3);</a>
<a name="ln1821">  cairo_line_to(cr, 1.0, 0.7);</a>
<a name="ln1822">  cairo_line_to(cr, 0.0, 0.7);</a>
<a name="ln1823">  cairo_line_to(cr, 0.0, 0.3);</a>
<a name="ln1824">  cairo_stroke(cr);</a>
<a name="ln1825"> </a>
<a name="ln1826">  cairo_identity_matrix(cr);</a>
<a name="ln1827">}</a>
<a name="ln1828"> </a>
<a name="ln1829">void dtgtk_cairo_paint_rect_portrait(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1830">{</a>
<a name="ln1831">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1832">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1833">  cairo_scale(cr, s, s);</a>
<a name="ln1834">  cairo_set_line_width(cr, 0.10);</a>
<a name="ln1835">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1836">  cairo_move_to(cr, 0.3, 0.0);</a>
<a name="ln1837">  cairo_line_to(cr, 0.7, 0.0);</a>
<a name="ln1838">  cairo_line_to(cr, 0.7, 1.0);</a>
<a name="ln1839">  cairo_line_to(cr, 0.3, 1.0);</a>
<a name="ln1840">  cairo_line_to(cr, 0.3, 0.0);</a>
<a name="ln1841">  cairo_stroke(cr);</a>
<a name="ln1842"> </a>
<a name="ln1843">  cairo_identity_matrix(cr);</a>
<a name="ln1844">}</a>
<a name="ln1845"> </a>
<a name="ln1846">void dtgtk_cairo_paint_zoom(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1847">{</a>
<a name="ln1848">  const gint s = (w &lt; h ? w : h);</a>
<a name="ln1849">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1850">  cairo_scale(cr, s, s);</a>
<a name="ln1851"> </a>
<a name="ln1852">  /* draw magnifying glass */</a>
<a name="ln1853"> </a>
<a name="ln1854">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1855"> </a>
<a name="ln1856">  // handle</a>
<a name="ln1857">  cairo_set_line_width(cr, 0.15);</a>
<a name="ln1858">  cairo_move_to(cr, 0.9, 1.0 - 0.1);</a>
<a name="ln1859">  cairo_line_to(cr, 0.65, 1.0 - 0.35);</a>
<a name="ln1860">  cairo_stroke(cr);</a>
<a name="ln1861"> </a>
<a name="ln1862">  // lens</a>
<a name="ln1863">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1864">  cairo_arc(cr, 0.35, 1.0 - 0.65, 0.3, -M_PI, M_PI);</a>
<a name="ln1865">  cairo_stroke(cr);</a>
<a name="ln1866">}</a>
<a name="ln1867"> </a>
<a name="ln1868">void dtgtk_cairo_paint_multiinstance(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1869">{</a>
<a name="ln1870">  cairo_save(cr);</a>
<a name="ln1871">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1872">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1873">  cairo_scale(cr, s, s);</a>
<a name="ln1874">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1875">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1876">  cairo_rectangle(cr, 0.35, 0.35, 0.6, 0.6);</a>
<a name="ln1877">  cairo_stroke(cr);</a>
<a name="ln1878">  cairo_rectangle(cr, 0.05, 0.05, 0.9, 0.9);</a>
<a name="ln1879">  cairo_rectangle(cr, 0.85, 0.25, -0.65, 0.65);</a>
<a name="ln1880">  cairo_clip(cr);</a>
<a name="ln1881">  cairo_rectangle(cr, 0.05, 0.05, 0.6, 0.6);</a>
<a name="ln1882">  cairo_stroke_preserve(cr);</a>
<a name="ln1883">  cairo_fill(cr);</a>
<a name="ln1884">  cairo_restore(cr);</a>
<a name="ln1885">}</a>
<a name="ln1886"> </a>
<a name="ln1887">void dtgtk_cairo_paint_modulegroup_active(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1888">{</a>
<a name="ln1889">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1890">  cairo_translate(cr, x + (w / 2.0) - (s / 2.0), y + (h / 2.0) - (s / 2.0));</a>
<a name="ln1891">  cairo_scale(cr, s, s);</a>
<a name="ln1892"> </a>
<a name="ln1893">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1894">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1895"> </a>
<a name="ln1896">  cairo_arc(cr, 0.5, 0.5, 0.40, (-50 * 3.145 / 180), (230 * 3.145 / 180));</a>
<a name="ln1897">  cairo_move_to(cr, 0.5, 0.05);</a>
<a name="ln1898">  cairo_line_to(cr, 0.5, 0.40);</a>
<a name="ln1899">  cairo_stroke(cr);</a>
<a name="ln1900">}</a>
<a name="ln1901"> </a>
<a name="ln1902">void dtgtk_cairo_paint_modulegroup_favorites(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1903">{</a>
<a name="ln1904">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1905">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1906">  cairo_scale(cr, s, s);</a>
<a name="ln1907">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1908">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1909">  const float r1 = 0.2;</a>
<a name="ln1910">  const float r2 = 0.4;</a>
<a name="ln1911">  const float d = 2.0 * M_PI * 0.1f;</a>
<a name="ln1912">  const float dx[10] = { sinf(0.0),   sinf(d),     sinf(2 * d), sinf(3 * d), sinf(4 * d),</a>
<a name="ln1913">                         sinf(5 * d), sinf(6 * d), sinf(7 * d), sinf(8 * d), sinf(9 * d) };</a>
<a name="ln1914">  const float dy[10] = { cosf(0.0),   cosf(d),     cosf(2 * d), cosf(3 * d), cosf(4 * d),</a>
<a name="ln1915">                         cosf(5 * d), cosf(6 * d), cosf(7 * d), cosf(8 * d), cosf(9 * d) };</a>
<a name="ln1916">  cairo_move_to(cr, 0.5 + r1 * dx[0], 0.5 - r1 * dy[0]);</a>
<a name="ln1917">  for(int k = 1; k &lt; 10; k++)</a>
<a name="ln1918">    if(k &amp; 1)</a>
<a name="ln1919">      cairo_line_to(cr, 0.5 + r2 * dx[k], 0.5 - r2 * dy[k]);</a>
<a name="ln1920">    else</a>
<a name="ln1921">      cairo_line_to(cr, 0.5 + r1 * dx[k], 0.5 - r1 * dy[k]);</a>
<a name="ln1922">  cairo_close_path(cr);</a>
<a name="ln1923">  cairo_stroke(cr);</a>
<a name="ln1924">}</a>
<a name="ln1925"> </a>
<a name="ln1926">void dtgtk_cairo_paint_modulegroup_basic(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1927">{</a>
<a name="ln1928">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1929">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1930">  cairo_scale(cr, s, s);</a>
<a name="ln1931">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1932">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1933"> </a>
<a name="ln1934">  /* draw circle */</a>
<a name="ln1935">  cairo_arc(cr, 0.5, 0.5, 0.40, -M_PI, M_PI);</a>
<a name="ln1936">  cairo_stroke(cr);</a>
<a name="ln1937">}</a>
<a name="ln1938"> </a>
<a name="ln1939">void dtgtk_cairo_paint_modulegroup_tone(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1940">{</a>
<a name="ln1941">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1942">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1943">  cairo_scale(cr, s, s);</a>
<a name="ln1944">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1945">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1946"> </a>
<a name="ln1947">  /* draw circle */</a>
<a name="ln1948">  cairo_arc(cr, 0.5, 0.5, 0.40, -M_PI, M_PI);</a>
<a name="ln1949">  cairo_stroke(cr);</a>
<a name="ln1950"> </a>
<a name="ln1951">  /* fill circle */</a>
<a name="ln1952">  cairo_pattern_t *pat = NULL;</a>
<a name="ln1953">  pat = cairo_pattern_create_linear(0, 0, 1, 0);</a>
<a name="ln1954">  cairo_pattern_add_color_stop_rgba(pat, 0, 1, 1, 1, 1);</a>
<a name="ln1955">  cairo_pattern_add_color_stop_rgba(pat, 1, 1, 1, 1, 0);</a>
<a name="ln1956">  cairo_set_source(cr, pat);</a>
<a name="ln1957">  cairo_arc(cr, 0.5, 0.5, 0.40, -M_PI, M_PI);</a>
<a name="ln1958">  cairo_fill(cr);</a>
<a name="ln1959">  cairo_pattern_destroy(pat);</a>
<a name="ln1960">}</a>
<a name="ln1961"> </a>
<a name="ln1962">void dtgtk_cairo_paint_modulegroup_color(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1963">{</a>
<a name="ln1964">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1965">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1966">  cairo_scale(cr, s, s);</a>
<a name="ln1967">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1968">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1969"> </a>
<a name="ln1970">  /* draw circle */</a>
<a name="ln1971">  cairo_arc(cr, 0.5, 0.5, 0.40, -M_PI, M_PI);</a>
<a name="ln1972">  cairo_stroke(cr);</a>
<a name="ln1973"> </a>
<a name="ln1974">  /* fill circle */</a>
<a name="ln1975">  float a = 0.6;</a>
<a name="ln1976">  cairo_pattern_t *pat = NULL;</a>
<a name="ln1977">  pat = cairo_pattern_create_linear(0, 0, 1, 0);</a>
<a name="ln1978">  cairo_pattern_add_color_stop_rgba(pat, 0.0, 1, 0, 0, a);</a>
<a name="ln1979">  cairo_pattern_add_color_stop_rgba(pat, 0.1, 1, 0, 0, a);</a>
<a name="ln1980">  cairo_pattern_add_color_stop_rgba(pat, 0.5, 0, 1, 0, a);</a>
<a name="ln1981">  cairo_pattern_add_color_stop_rgba(pat, 0.9, 0, 0, 1, a);</a>
<a name="ln1982">  cairo_pattern_add_color_stop_rgba(pat, 1.0, 0, 0, 1, a);</a>
<a name="ln1983">  cairo_set_source(cr, pat);</a>
<a name="ln1984">  cairo_arc(cr, 0.5, 0.5, 0.40, -M_PI, M_PI);</a>
<a name="ln1985">  cairo_fill(cr);</a>
<a name="ln1986">  cairo_pattern_destroy(pat);</a>
<a name="ln1987">}</a>
<a name="ln1988"> </a>
<a name="ln1989">void dtgtk_cairo_paint_modulegroup_correct(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln1990">{</a>
<a name="ln1991">  const gint s = w &lt; h ? w : h;</a>
<a name="ln1992">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln1993">  cairo_scale(cr, s, s);</a>
<a name="ln1994">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln1995">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln1996"> </a>
<a name="ln1997">  /* draw circle */</a>
<a name="ln1998">  cairo_arc(cr, 0.42, 0.5, 0.40, 0, M_PI);</a>
<a name="ln1999">  cairo_stroke(cr);</a>
<a name="ln2000">  cairo_arc(cr, 0.58, 0.5, 0.40, M_PI, 0);</a>
<a name="ln2001">  cairo_stroke(cr);</a>
<a name="ln2002">}</a>
<a name="ln2003"> </a>
<a name="ln2004">void dtgtk_cairo_paint_modulegroup_effect(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln2005">{</a>
<a name="ln2006">  const gint s = w &lt; h ? w : h;</a>
<a name="ln2007">  cairo_translate(cr, x + (w / 2.) - (s / 2.), y + (h / 2.) - (s / 2.));</a>
<a name="ln2008">  cairo_scale(cr, s, s);</a>
<a name="ln2009">  cairo_set_line_cap(cr, CAIRO_LINE_CAP_ROUND);</a>
<a name="ln2010">  cairo_set_line_width(cr, 0.1);</a>
<a name="ln2011"> </a>
<a name="ln2012">  /* draw circle */</a>
<a name="ln2013">  cairo_arc(cr, 0.5, 0.5, 0.40, -M_PI, M_PI);</a>
<a name="ln2014">  cairo_stroke(cr);</a>
<a name="ln2015"> </a>
<a name="ln2016">  /* sparkles */</a>
<a name="ln2017">  cairo_set_line_width(cr, 0.06);</a>
<a name="ln2018"> </a>
<a name="ln2019">  cairo_move_to(cr, 0.378, 0.502);</a>
<a name="ln2020">  cairo_line_to(cr, 0.522, 0.549);</a>
<a name="ln2021">  cairo_line_to(cr, 0.564, 0.693);</a>
<a name="ln2022">  cairo_line_to(cr, 0.653, 0.569);</a>
<a name="ln2023">  cairo_line_to(cr, 0.802, 0.573);</a>
<a name="ln2024">  cairo_line_to(cr, 0.712, 0.449);</a>
<a name="ln2025">  cairo_line_to(cr, 0.762, 0.308);</a>
<a name="ln2026">  cairo_line_to(cr, 0.618, 0.356);</a>
<a name="ln2027">  cairo_line_to(cr, 0.500, 0.264);</a>
<a name="ln2028">  cairo_line_to(cr, 0.500, 0.417);</a>
<a name="ln2029">  cairo_close_path(cr);</a>
<a name="ln2030"> </a>
<a name="ln2031">  cairo_move_to(cr, 0.269, 0.717);</a>
<a name="ln2032">  cairo_line_to(cr, 0.322, 0.735);</a>
<a name="ln2033">  cairo_line_to(cr, 0.337, 0.787);</a>
<a name="ln2034">  cairo_line_to(cr, 0.370, 0.742);</a>
<a name="ln2035">  cairo_line_to(cr, 0.424, 0.743);</a>
<a name="ln2036">  cairo_line_to(cr, 0.391, 0.698);</a>
<a name="ln2037">  cairo_line_to(cr, 0.409, 0.646);</a>
<a name="ln2038">  cairo_line_to(cr, 0.357, 0.664);</a>
<a name="ln2039">  cairo_line_to(cr, 0.314, 0.630);</a>
<a name="ln2040">  cairo_line_to(cr, 0.314, 0.686);</a>
<a name="ln2041"> </a>
<a name="ln2042">  cairo_move_to(cr, 0.217, 0.366);</a>
<a name="ln2043">  cairo_line_to(cr, 0.271, 0.384);</a>
<a name="ln2044">  cairo_line_to(cr, 0.286, 0.437);</a>
<a name="ln2045">  cairo_line_to(cr, 0.319, 0.391);</a>
<a name="ln2046">  cairo_line_to(cr, 0.374, 0.393);</a>
<a name="ln2047">  cairo_line_to(cr, 0.341, 0.347);</a>
<a name="ln2048">  cairo_line_to(cr, 0.360, 0.295);</a>
<a name="ln2049">  cairo_line_to(cr, 0.306, 0.312);</a>
<a name="ln2050">  cairo_line_to(cr, 0.263, 0.279);</a>
<a name="ln2051">  cairo_line_to(cr, 0.263, 0.335);</a>
<a name="ln2052"> </a>
<a name="ln2053">  cairo_close_path(cr);</a>
<a name="ln2054"> </a>
<a name="ln2055">  cairo_stroke(cr);</a>
<a name="ln2056">}</a>
<a name="ln2057"> </a>
<a name="ln2058">void dtgtk_cairo_paint_map_pin(cairo_t *cr, gint x, gint y, gint w, gint h, gint flags, void *data)</a>
<a name="ln2059">{</a>
<a name="ln2060">  const gint s = w &lt; h ? w : h;</a>
<a name="ln2061">  cairo_scale(cr, s, s);</a>
<a name="ln2062">  cairo_move_to(cr, 0.2, 0.0);</a>
<a name="ln2063">  cairo_line_to(cr, 0.0, 1.0);</a>
<a name="ln2064">  cairo_line_to(cr, 0.7, 0.0);</a>
<a name="ln2065">  cairo_close_path(cr);</a>
<a name="ln2066">  cairo_fill(cr);</a>
<a name="ln2067">}</a>
<a name="ln2068"> </a>
<a name="ln2069">// modelines: These editor modelines have been set for all relevant files by tools/update_modelines.sh</a>
<a name="ln2070">// vim: shiftwidth=2 expandtab tabstop=2 cindent</a>
<a name="ln2071">// kate: tab-indents: off; indent-width 2; replace-tabs on; indent-mode cstyle; remove-trailing-spaces modified;</a>

</code></pre>
<div class="balloon" rel="716"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v522/" target="_blank">V522</a> There might be dereferencing of a potential null pointer 'portions'. Check lines: 716, 710.</p></div>

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>
