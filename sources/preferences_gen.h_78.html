
<html>
<head>
  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.2.1.min.js"></script>
</head>
<body>
<pre><code class = "cpp">
<a name="ln1">/** generated file, do not edit! */</a>
<a name="ln2">#ifndef DT_PREFERENCES_H</a>
<a name="ln3">#define DT_PREFERENCES_H</a>
<a name="ln4"> </a>
<a name="ln5">#include &lt;gtk/gtk.h&gt;</a>
<a name="ln6">#include &quot;control/conf.h&quot;</a>
<a name="ln7"> </a>
<a name="ln8">static gboolean</a>
<a name="ln9">reset_widget_idm14 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln10">{</a>
<a name="ln11">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln12">  {</a>
<a name="ln13">    float factor = 1.0f;</a>
<a name="ln14">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 350 * factor);</a>
<a name="ln15">    return TRUE;</a>
<a name="ln16">  }</a>
<a name="ln17">  return FALSE;</a>
<a name="ln18">}</a>
<a name="ln19"> </a>
<a name="ln20">static gboolean</a>
<a name="ln21">reset_widget_idm20 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln22">{</a>
<a name="ln23">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln24">  {</a>
<a name="ln25">    float factor = 1.0f;</a>
<a name="ln26">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 5 * factor);</a>
<a name="ln27">    return TRUE;</a>
<a name="ln28">  }</a>
<a name="ln29">  return FALSE;</a>
<a name="ln30">}</a>
<a name="ln31"> </a>
<a name="ln32">static gboolean</a>
<a name="ln33">reset_widget_idm25 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln34">{</a>
<a name="ln35">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln36">  {</a>
<a name="ln37">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln38">    return TRUE;</a>
<a name="ln39">  }</a>
<a name="ln40">  return FALSE;</a>
<a name="ln41">}</a>
<a name="ln42"> </a>
<a name="ln43">static gboolean</a>
<a name="ln44">reset_widget_idm30 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln45">{</a>
<a name="ln46">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln47">  {</a>
<a name="ln48">    float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln49">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), (1024 * 1024 * 512) * factor);</a>
<a name="ln50">    return TRUE;</a>
<a name="ln51">  }</a>
<a name="ln52">  return FALSE;</a>
<a name="ln53">}</a>
<a name="ln54"> </a>
<a name="ln55">static gboolean</a>
<a name="ln56">reset_widget_idm36 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln57">{</a>
<a name="ln58">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln59">  {</a>
<a name="ln60">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln61">    return TRUE;</a>
<a name="ln62">  }</a>
<a name="ln63">  return FALSE;</a>
<a name="ln64">}</a>
<a name="ln65"> </a>
<a name="ln66">static gboolean</a>
<a name="ln67">reset_widget_idm42 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln68">{</a>
<a name="ln69">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln70">  {</a>
<a name="ln71">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln72">    return TRUE;</a>
<a name="ln73">  }</a>
<a name="ln74">  return FALSE;</a>
<a name="ln75">}</a>
<a name="ln76"> </a>
<a name="ln77">static gboolean</a>
<a name="ln78">reset_widget_idm48 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln79">{</a>
<a name="ln80">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln81">  {</a>
<a name="ln82">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln83">    return TRUE;</a>
<a name="ln84">  }</a>
<a name="ln85">  return FALSE;</a>
<a name="ln86">}</a>
<a name="ln87"> </a>
<a name="ln88">static gboolean</a>
<a name="ln89">reset_widget_idm54 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln90">{</a>
<a name="ln91">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln92">  {</a>
<a name="ln93">    float factor = 1.0f;</a>
<a name="ln94">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 2 * factor);</a>
<a name="ln95">    return TRUE;</a>
<a name="ln96">  }</a>
<a name="ln97">  return FALSE;</a>
<a name="ln98">}</a>
<a name="ln99"> </a>
<a name="ln100">static gboolean</a>
<a name="ln101">reset_widget_idm60 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln102">{</a>
<a name="ln103">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln104">  {</a>
<a name="ln105">    float factor = 1.0f;</a>
<a name="ln106">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 1500 * factor);</a>
<a name="ln107">    return TRUE;</a>
<a name="ln108">  }</a>
<a name="ln109">  return FALSE;</a>
<a name="ln110">}</a>
<a name="ln111"> </a>
<a name="ln112">static gboolean</a>
<a name="ln113">reset_widget_idm66 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln114">{</a>
<a name="ln115">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln116">  {</a>
<a name="ln117">    float factor = 1.0f;</a>
<a name="ln118">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 16 * factor);</a>
<a name="ln119">    return TRUE;</a>
<a name="ln120">  }</a>
<a name="ln121">  return FALSE;</a>
<a name="ln122">}</a>
<a name="ln123"> </a>
<a name="ln124">static gboolean</a>
<a name="ln125">reset_widget_idm144 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln126">{</a>
<a name="ln127">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln128">  {</a>
<a name="ln129">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln130">    return TRUE;</a>
<a name="ln131">  }</a>
<a name="ln132">  return FALSE;</a>
<a name="ln133">}</a>
<a name="ln134"> </a>
<a name="ln135">static gboolean</a>
<a name="ln136">reset_widget_idm150 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln137">{</a>
<a name="ln138">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln139">  {</a>
<a name="ln140">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln141">    return TRUE;</a>
<a name="ln142">  }</a>
<a name="ln143">  return FALSE;</a>
<a name="ln144">}</a>
<a name="ln145"> </a>
<a name="ln146">static gboolean</a>
<a name="ln147">reset_widget_idm156 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln148">{</a>
<a name="ln149">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln150">  {</a>
<a name="ln151">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 2);</a>
<a name="ln152">    return TRUE;</a>
<a name="ln153">  }</a>
<a name="ln154">  return FALSE;</a>
<a name="ln155">}</a>
<a name="ln156"> </a>
<a name="ln157">static gboolean</a>
<a name="ln158">reset_widget_idm166 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln159">{</a>
<a name="ln160">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln161">  {</a>
<a name="ln162">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln163">    return TRUE;</a>
<a name="ln164">  }</a>
<a name="ln165">  return FALSE;</a>
<a name="ln166">}</a>
<a name="ln167"> </a>
<a name="ln168">static gboolean</a>
<a name="ln169">reset_widget_idm172 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln170">{</a>
<a name="ln171">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln172">  {</a>
<a name="ln173">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln174">    return TRUE;</a>
<a name="ln175">  }</a>
<a name="ln176">  return FALSE;</a>
<a name="ln177">}</a>
<a name="ln178"> </a>
<a name="ln179">static gboolean</a>
<a name="ln180">reset_widget_idm178 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln181">{</a>
<a name="ln182">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln183">  {</a>
<a name="ln184">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln185">    return TRUE;</a>
<a name="ln186">  }</a>
<a name="ln187">  return FALSE;</a>
<a name="ln188">}</a>
<a name="ln189"> </a>
<a name="ln190">static gboolean</a>
<a name="ln191">reset_widget_idm184 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln192">{</a>
<a name="ln193">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln194">  {</a>
<a name="ln195">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln196">    return TRUE;</a>
<a name="ln197">  }</a>
<a name="ln198">  return FALSE;</a>
<a name="ln199">}</a>
<a name="ln200"> </a>
<a name="ln201">static gboolean</a>
<a name="ln202">reset_widget_idm228 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln203">{</a>
<a name="ln204">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln205">  {</a>
<a name="ln206">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln207">    return TRUE;</a>
<a name="ln208">  }</a>
<a name="ln209">  return FALSE;</a>
<a name="ln210">}</a>
<a name="ln211"> </a>
<a name="ln212">static gboolean</a>
<a name="ln213">reset_widget_idm234 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln214">{</a>
<a name="ln215">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln216">  {</a>
<a name="ln217">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln218">    return TRUE;</a>
<a name="ln219">  }</a>
<a name="ln220">  return FALSE;</a>
<a name="ln221">}</a>
<a name="ln222"> </a>
<a name="ln223">static gboolean</a>
<a name="ln224">reset_widget_idm240 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln225">{</a>
<a name="ln226">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln227">  {</a>
<a name="ln228">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln229">    return TRUE;</a>
<a name="ln230">  }</a>
<a name="ln231">  return FALSE;</a>
<a name="ln232">}</a>
<a name="ln233"> </a>
<a name="ln234">static gboolean</a>
<a name="ln235">reset_widget_idm246 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln236">{</a>
<a name="ln237">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln238">  {</a>
<a name="ln239">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln240">    return TRUE;</a>
<a name="ln241">  }</a>
<a name="ln242">  return FALSE;</a>
<a name="ln243">}</a>
<a name="ln244"> </a>
<a name="ln245">static gboolean</a>
<a name="ln246">reset_widget_idm252 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln247">{</a>
<a name="ln248">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln249">  {</a>
<a name="ln250">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln251">    return TRUE;</a>
<a name="ln252">  }</a>
<a name="ln253">  return FALSE;</a>
<a name="ln254">}</a>
<a name="ln255"> </a>
<a name="ln256">static gboolean</a>
<a name="ln257">reset_widget_idm258 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln258">{</a>
<a name="ln259">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln260">  {</a>
<a name="ln261">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln262">    return TRUE;</a>
<a name="ln263">  }</a>
<a name="ln264">  return FALSE;</a>
<a name="ln265">}</a>
<a name="ln266"> </a>
<a name="ln267">static gboolean</a>
<a name="ln268">reset_widget_idm264 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln269">{</a>
<a name="ln270">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln271">  {</a>
<a name="ln272">    float factor = 1.0f;</a>
<a name="ln273">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 1 * factor);</a>
<a name="ln274">    return TRUE;</a>
<a name="ln275">  }</a>
<a name="ln276">  return FALSE;</a>
<a name="ln277">}</a>
<a name="ln278"> </a>
<a name="ln279">static gboolean</a>
<a name="ln280">reset_widget_idm426 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln281">{</a>
<a name="ln282">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln283">  {</a>
<a name="ln284">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln285">    return TRUE;</a>
<a name="ln286">  }</a>
<a name="ln287">  return FALSE;</a>
<a name="ln288">}</a>
<a name="ln289"> </a>
<a name="ln290">static gboolean</a>
<a name="ln291">reset_widget_idm432 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln292">{</a>
<a name="ln293">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln294">  {</a>
<a name="ln295">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln296">    return TRUE;</a>
<a name="ln297">  }</a>
<a name="ln298">  return FALSE;</a>
<a name="ln299">}</a>
<a name="ln300"> </a>
<a name="ln301">static gboolean</a>
<a name="ln302">reset_widget_idm438 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln303">{</a>
<a name="ln304">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln305">  {</a>
<a name="ln306">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln307">    return TRUE;</a>
<a name="ln308">  }</a>
<a name="ln309">  return FALSE;</a>
<a name="ln310">}</a>
<a name="ln311"> </a>
<a name="ln312">static gboolean</a>
<a name="ln313">reset_widget_idm444 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln314">{</a>
<a name="ln315">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln316">  {</a>
<a name="ln317">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln318">    return TRUE;</a>
<a name="ln319">  }</a>
<a name="ln320">  return FALSE;</a>
<a name="ln321">}</a>
<a name="ln322"> </a>
<a name="ln323">static gboolean</a>
<a name="ln324">reset_widget_idm450 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln325">{</a>
<a name="ln326">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln327">  {</a>
<a name="ln328">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln329">    return TRUE;</a>
<a name="ln330">  }</a>
<a name="ln331">  return FALSE;</a>
<a name="ln332">}</a>
<a name="ln333"> </a>
<a name="ln334">static gboolean</a>
<a name="ln335">reset_widget_idm456 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln336">{</a>
<a name="ln337">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln338">  {</a>
<a name="ln339">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln340">    return TRUE;</a>
<a name="ln341">  }</a>
<a name="ln342">  return FALSE;</a>
<a name="ln343">}</a>
<a name="ln344"> </a>
<a name="ln345">static gboolean</a>
<a name="ln346">reset_widget_idm468 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln347">{</a>
<a name="ln348">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln349">  {</a>
<a name="ln350">    float factor = 1.0f;</a>
<a name="ln351">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 1 * factor);</a>
<a name="ln352">    return TRUE;</a>
<a name="ln353">  }</a>
<a name="ln354">  return FALSE;</a>
<a name="ln355">}</a>
<a name="ln356"> </a>
<a name="ln357">static gboolean</a>
<a name="ln358">reset_widget_idm480 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln359">{</a>
<a name="ln360">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln361">  {</a>
<a name="ln362">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln363">    return TRUE;</a>
<a name="ln364">  }</a>
<a name="ln365">  return FALSE;</a>
<a name="ln366">}</a>
<a name="ln367"> </a>
<a name="ln368">static gboolean</a>
<a name="ln369">reset_widget_idm492 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln370">{</a>
<a name="ln371">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln372">  {</a>
<a name="ln373">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln374">    return TRUE;</a>
<a name="ln375">  }</a>
<a name="ln376">  return FALSE;</a>
<a name="ln377">}</a>
<a name="ln378"> </a>
<a name="ln379">static gboolean</a>
<a name="ln380">reset_widget_idm516 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln381">{</a>
<a name="ln382">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln383">  {</a>
<a name="ln384">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 3);</a>
<a name="ln385">    return TRUE;</a>
<a name="ln386">  }</a>
<a name="ln387">  return FALSE;</a>
<a name="ln388">}</a>
<a name="ln389"> </a>
<a name="ln390">static gboolean</a>
<a name="ln391">reset_widget_idm532 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln392">{</a>
<a name="ln393">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln394">  {</a>
<a name="ln395">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln396">    return TRUE;</a>
<a name="ln397">  }</a>
<a name="ln398">  return FALSE;</a>
<a name="ln399">}</a>
<a name="ln400"> </a>
<a name="ln401">static gboolean</a>
<a name="ln402">reset_widget_idm538 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln403">{</a>
<a name="ln404">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln405">  {</a>
<a name="ln406">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln407">    return TRUE;</a>
<a name="ln408">  }</a>
<a name="ln409">  return FALSE;</a>
<a name="ln410">}</a>
<a name="ln411"> </a>
<a name="ln412">static gboolean</a>
<a name="ln413">reset_widget_idm551 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln414">{</a>
<a name="ln415">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln416">  {</a>
<a name="ln417">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 1);</a>
<a name="ln418">    return TRUE;</a>
<a name="ln419">  }</a>
<a name="ln420">  return FALSE;</a>
<a name="ln421">}</a>
<a name="ln422"> </a>
<a name="ln423">static gboolean</a>
<a name="ln424">reset_widget_idm561 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln425">{</a>
<a name="ln426">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln427">  {</a>
<a name="ln428">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln429">    return TRUE;</a>
<a name="ln430">  }</a>
<a name="ln431">  return FALSE;</a>
<a name="ln432">}</a>
<a name="ln433"> </a>
<a name="ln434">static gboolean</a>
<a name="ln435">reset_widget_idm570 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln436">{</a>
<a name="ln437">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln438">  {</a>
<a name="ln439">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(EXIF_ISO) ISO • $(EXIF_EXPOSURE) s • f/$(EXIF_APERTURE) • $(EXIF_FOCAL_LENGTH) mm&quot;);</a>
<a name="ln440">    return TRUE;</a>
<a name="ln441">  }</a>
<a name="ln442">  return FALSE;</a>
<a name="ln443">}</a>
<a name="ln444"> </a>
<a name="ln445">static gboolean</a>
<a name="ln446">reset_widget_idm576 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln447">{</a>
<a name="ln448">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln449">  {</a>
<a name="ln450">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 3);</a>
<a name="ln451">    return TRUE;</a>
<a name="ln452">  }</a>
<a name="ln453">  return FALSE;</a>
<a name="ln454">}</a>
<a name="ln455"> </a>
<a name="ln456">static gboolean</a>
<a name="ln457">reset_widget_idm588 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln458">{</a>
<a name="ln459">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln460">  {</a>
<a name="ln461">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 2);</a>
<a name="ln462">    return TRUE;</a>
<a name="ln463">  }</a>
<a name="ln464">  return FALSE;</a>
<a name="ln465">}</a>
<a name="ln466"> </a>
<a name="ln467">static gboolean</a>
<a name="ln468">reset_widget_idm610 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln469">{</a>
<a name="ln470">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln471">  {</a>
<a name="ln472">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(PICTURES_FOLDER)/Darktable&quot;);</a>
<a name="ln473">    return TRUE;</a>
<a name="ln474">  }</a>
<a name="ln475">  return FALSE;</a>
<a name="ln476">}</a>
<a name="ln477"> </a>
<a name="ln478">static gboolean</a>
<a name="ln479">reset_widget_idm616 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln480">{</a>
<a name="ln481">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln482">  {</a>
<a name="ln483">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(YEAR)$(MONTH)$(DAY)_$(JOBCODE)&quot;);</a>
<a name="ln484">    return TRUE;</a>
<a name="ln485">  }</a>
<a name="ln486">  return FALSE;</a>
<a name="ln487">}</a>
<a name="ln488"> </a>
<a name="ln489">static gboolean</a>
<a name="ln490">reset_widget_idm622 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln491">{</a>
<a name="ln492">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln493">  {</a>
<a name="ln494">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(YEAR)$(MONTH)$(DAY)_$(SEQUENCE).$(FILE_EXTENSION)&quot;);</a>
<a name="ln495">    return TRUE;</a>
<a name="ln496">  }</a>
<a name="ln497">  return FALSE;</a>
<a name="ln498">}</a>
<a name="ln499"> </a>
<a name="ln500">static gboolean</a>
<a name="ln501">reset_widget_idm736 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln502">{</a>
<a name="ln503">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln504">  {</a>
<a name="ln505">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln506">    return TRUE;</a>
<a name="ln507">  }</a>
<a name="ln508">  return FALSE;</a>
<a name="ln509">}</a>
<a name="ln510"> </a>
<a name="ln511">static gboolean</a>
<a name="ln512">reset_widget_idm934 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln513">{</a>
<a name="ln514">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln515">  {</a>
<a name="ln516">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln517">    return TRUE;</a>
<a name="ln518">  }</a>
<a name="ln519">  return FALSE;</a>
<a name="ln520">}</a>
<a name="ln521"> </a>
<a name="ln522">static gboolean</a>
<a name="ln523">reset_widget_idm940 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln524">{</a>
<a name="ln525">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln526">  {</a>
<a name="ln527">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln528">    return TRUE;</a>
<a name="ln529">  }</a>
<a name="ln530">  return FALSE;</a>
<a name="ln531">}</a>
<a name="ln532"> </a>
<a name="ln533">static gboolean</a>
<a name="ln534">reset_widget_idm964 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln535">{</a>
<a name="ln536">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln537">  {</a>
<a name="ln538">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln539">    return TRUE;</a>
<a name="ln540">  }</a>
<a name="ln541">  return FALSE;</a>
<a name="ln542">}</a>
<a name="ln543"> </a>
<a name="ln544">static gboolean</a>
<a name="ln545">reset_widget_idm970 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln546">{</a>
<a name="ln547">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln548">  {</a>
<a name="ln549">    float factor = 1.0f;</a>
<a name="ln550">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 100 * factor);</a>
<a name="ln551">    return TRUE;</a>
<a name="ln552">  }</a>
<a name="ln553">  return FALSE;</a>
<a name="ln554">}</a>
<a name="ln555"> </a>
<a name="ln556">static gboolean</a>
<a name="ln557">reset_widget_idm976 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln558">{</a>
<a name="ln559">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln560">  {</a>
<a name="ln561">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln562">    return TRUE;</a>
<a name="ln563">  }</a>
<a name="ln564">  return FALSE;</a>
<a name="ln565">}</a>
<a name="ln566"> </a>
<a name="ln567">static gboolean</a>
<a name="ln568">reset_widget_idm982 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln569">{</a>
<a name="ln570">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln571">  {</a>
<a name="ln572">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln573">    return TRUE;</a>
<a name="ln574">  }</a>
<a name="ln575">  return FALSE;</a>
<a name="ln576">}</a>
<a name="ln577"> </a>
<a name="ln578">static gboolean</a>
<a name="ln579">reset_widget_idm988 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln580">{</a>
<a name="ln581">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln582">  {</a>
<a name="ln583">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln584">    return TRUE;</a>
<a name="ln585">  }</a>
<a name="ln586">  return FALSE;</a>
<a name="ln587">}</a>
<a name="ln588"> </a>
<a name="ln589">static gboolean</a>
<a name="ln590">reset_widget_idm1000 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln591">{</a>
<a name="ln592">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln593">  {</a>
<a name="ln594">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln595">    return TRUE;</a>
<a name="ln596">  }</a>
<a name="ln597">  return FALSE;</a>
<a name="ln598">}</a>
<a name="ln599"> </a>
<a name="ln600">static gboolean</a>
<a name="ln601">reset_widget_idm1006 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln602">{</a>
<a name="ln603">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln604">  {</a>
<a name="ln605">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln606">    return TRUE;</a>
<a name="ln607">  }</a>
<a name="ln608">  return FALSE;</a>
<a name="ln609">}</a>
<a name="ln610"> </a>
<a name="ln611">static gboolean</a>
<a name="ln612">reset_widget_idm1012 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln613">{</a>
<a name="ln614">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln615">  {</a>
<a name="ln616">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln617">    return TRUE;</a>
<a name="ln618">  }</a>
<a name="ln619">  return FALSE;</a>
<a name="ln620">}</a>
<a name="ln621"> </a>
<a name="ln622">static gboolean</a>
<a name="ln623">reset_widget_idm1054 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln624">{</a>
<a name="ln625">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln626">  {</a>
<a name="ln627">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln628">    return TRUE;</a>
<a name="ln629">  }</a>
<a name="ln630">  return FALSE;</a>
<a name="ln631">}</a>
<a name="ln632"> </a>
<a name="ln633">static gboolean</a>
<a name="ln634">reset_widget_idm1060 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln635">{</a>
<a name="ln636">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln637">  {</a>
<a name="ln638">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln639">    return TRUE;</a>
<a name="ln640">  }</a>
<a name="ln641">  return FALSE;</a>
<a name="ln642">}</a>
<a name="ln643"> </a>
<a name="ln644">static gboolean</a>
<a name="ln645">reset_widget_idm1066 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln646">{</a>
<a name="ln647">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln648">  {</a>
<a name="ln649">    float factor = 1.0f;</a>
<a name="ln650">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 10 * factor);</a>
<a name="ln651">    return TRUE;</a>
<a name="ln652">  }</a>
<a name="ln653">  return FALSE;</a>
<a name="ln654">}</a>
<a name="ln655"> </a>
<a name="ln656">static gboolean</a>
<a name="ln657">reset_widget_idm1072 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln658">{</a>
<a name="ln659">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln660">  {</a>
<a name="ln661">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 1);</a>
<a name="ln662">    return TRUE;</a>
<a name="ln663">  }</a>
<a name="ln664">  return FALSE;</a>
<a name="ln665">}</a>
<a name="ln666"> </a>
<a name="ln667">static gboolean</a>
<a name="ln668">reset_widget_idm1082 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln669">{</a>
<a name="ln670">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln671">  {</a>
<a name="ln672">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln673">    return TRUE;</a>
<a name="ln674">  }</a>
<a name="ln675">  return FALSE;</a>
<a name="ln676">}</a>
<a name="ln677"> </a>
<a name="ln678">static gboolean</a>
<a name="ln679">reset_widget_idm1118 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln680">{</a>
<a name="ln681">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln682">  {</a>
<a name="ln683">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln684">    return TRUE;</a>
<a name="ln685">  }</a>
<a name="ln686">  return FALSE;</a>
<a name="ln687">}</a>
<a name="ln688"> </a>
<a name="ln689">static gboolean</a>
<a name="ln690">reset_widget_idm1124 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln691">{</a>
<a name="ln692">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln693">  {</a>
<a name="ln694">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln695">    return TRUE;</a>
<a name="ln696">  }</a>
<a name="ln697">  return FALSE;</a>
<a name="ln698">}</a>
<a name="ln699"> </a>
<a name="ln700">static gboolean</a>
<a name="ln701">reset_widget_idm1136 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln702">{</a>
<a name="ln703">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln704">  {</a>
<a name="ln705">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln706">    return TRUE;</a>
<a name="ln707">  }</a>
<a name="ln708">  return FALSE;</a>
<a name="ln709">}</a>
<a name="ln710"> </a>
<a name="ln711">static gboolean</a>
<a name="ln712">reset_widget_idm1190 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln713">{</a>
<a name="ln714">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln715">  {</a>
<a name="ln716">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 1);</a>
<a name="ln717">    return TRUE;</a>
<a name="ln718">  }</a>
<a name="ln719">  return FALSE;</a>
<a name="ln720">}</a>
<a name="ln721"> </a>
<a name="ln722">static gboolean</a>
<a name="ln723">reset_widget_idm1200 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln724">{</a>
<a name="ln725">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln726">  {</a>
<a name="ln727">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 3);</a>
<a name="ln728">    return TRUE;</a>
<a name="ln729">  }</a>
<a name="ln730">  return FALSE;</a>
<a name="ln731">}</a>
<a name="ln732"> </a>
<a name="ln733">static gboolean</a>
<a name="ln734">reset_widget_idm1337 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln735">{</a>
<a name="ln736">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln737">  {</a>
<a name="ln738">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln739">    return TRUE;</a>
<a name="ln740">  }</a>
<a name="ln741">  return FALSE;</a>
<a name="ln742">}</a>
<a name="ln743"> </a>
<a name="ln744">static gboolean</a>
<a name="ln745">reset_widget_idm1586 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln746">{</a>
<a name="ln747">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln748">  {</a>
<a name="ln749">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln750">    return TRUE;</a>
<a name="ln751">  }</a>
<a name="ln752">  return FALSE;</a>
<a name="ln753">}</a>
<a name="ln754"> </a>
<a name="ln755">static gboolean</a>
<a name="ln756">reset_widget_idm1602 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln757">{</a>
<a name="ln758">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln759">  {</a>
<a name="ln760">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln761">    return TRUE;</a>
<a name="ln762">  }</a>
<a name="ln763">  return FALSE;</a>
<a name="ln764">}</a>
<a name="ln765"> </a>
<a name="ln766">static gboolean</a>
<a name="ln767">reset_widget_idm1608 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln768">{</a>
<a name="ln769">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln770">  {</a>
<a name="ln771">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;aplay&quot;);</a>
<a name="ln772">    return TRUE;</a>
<a name="ln773">  }</a>
<a name="ln774">  return FALSE;</a>
<a name="ln775">}</a>
<a name="ln776"> </a>
<a name="ln777">static gboolean</a>
<a name="ln778">reset_widget_idm1614 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln779">{</a>
<a name="ln780">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln781">  {</a>
<a name="ln782"> </a>
<a name="ln783">			dt_conf_set_string(&quot;plugins/darkroom/lut3d/def_path&quot;, &quot;&quot;);</a>
<a name="ln784">			gchar *folder = dt_conf_get_string(&quot;plugins/darkroom/lut3d/def_path&quot;);</a>
<a name="ln785">			gtk_file_chooser_set_filename(GTK_FILE_CHOOSER(widget), folder);</a>
<a name="ln786">			g_free(folder);</a>
<a name="ln787">		</a>
<a name="ln788">    return TRUE;</a>
<a name="ln789">  }</a>
<a name="ln790">  return FALSE;</a>
<a name="ln791">}</a>
<a name="ln792"> </a>
<a name="ln793">static gboolean</a>
<a name="ln794">reset_widget_idm1620 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln795">{</a>
<a name="ln796">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln797">  {</a>
<a name="ln798">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln799">    return TRUE;</a>
<a name="ln800">  }</a>
<a name="ln801">  return FALSE;</a>
<a name="ln802">}</a>
<a name="ln803"> </a>
<a name="ln804">static gboolean</a>
<a name="ln805">reset_widget_idm1626 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln806">{</a>
<a name="ln807">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln808">  {</a>
<a name="ln809">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln810">    return TRUE;</a>
<a name="ln811">  }</a>
<a name="ln812">  return FALSE;</a>
<a name="ln813">}</a>
<a name="ln814"> </a>
<a name="ln815">static gboolean</a>
<a name="ln816">reset_widget_idm1632 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln817">{</a>
<a name="ln818">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln819">  {</a>
<a name="ln820">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln821">    return TRUE;</a>
<a name="ln822">  }</a>
<a name="ln823">  return FALSE;</a>
<a name="ln824">}</a>
<a name="ln825"> </a>
<a name="ln826">static void</a>
<a name="ln827">preferences_callback_idm14 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln828">{</a>
<a name="ln829">  float factor = 1.0f;</a>
<a name="ln830">  dt_conf_set_int(&quot;panel_width&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln831">}</a>
<a name="ln832"> </a>
<a name="ln833">static void</a>
<a name="ln834">preferences_callback_idm20 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln835">{</a>
<a name="ln836">  float factor = 1.0f;</a>
<a name="ln837">  dt_conf_set_int(&quot;slideshow_delay&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln838">}</a>
<a name="ln839"> </a>
<a name="ln840">static void</a>
<a name="ln841">preferences_callback_idm25 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln842">{</a>
<a name="ln843">  dt_conf_set_bool(&quot;ui_last/no_april1st&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln844">}</a>
<a name="ln845"> </a>
<a name="ln846">static void</a>
<a name="ln847">preferences_callback_idm30 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln848">{</a>
<a name="ln849">  float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln850">  dt_conf_set_int64(&quot;cache_memory&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln851">}</a>
<a name="ln852"> </a>
<a name="ln853">static void</a>
<a name="ln854">preferences_callback_idm36 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln855">{</a>
<a name="ln856">  dt_conf_set_bool(&quot;cache_disk_backend&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln857">}</a>
<a name="ln858"> </a>
<a name="ln859">static void</a>
<a name="ln860">preferences_callback_idm42 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln861">{</a>
<a name="ln862">  dt_conf_set_bool(&quot;cache_disk_backend_full&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln863">}</a>
<a name="ln864"> </a>
<a name="ln865">static void</a>
<a name="ln866">preferences_callback_idm48 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln867">{</a>
<a name="ln868">  dt_conf_set_bool(&quot;cache_color_managed&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln869">}</a>
<a name="ln870"> </a>
<a name="ln871">static void</a>
<a name="ln872">preferences_callback_idm54 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln873">{</a>
<a name="ln874">  float factor = 1.0f;</a>
<a name="ln875">  dt_conf_set_int(&quot;worker_threads&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln876">}</a>
<a name="ln877"> </a>
<a name="ln878">static void</a>
<a name="ln879">preferences_callback_idm60 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln880">{</a>
<a name="ln881">  float factor = 1.0f;</a>
<a name="ln882">  dt_conf_set_int(&quot;host_memory_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln883">}</a>
<a name="ln884"> </a>
<a name="ln885">static void</a>
<a name="ln886">preferences_callback_idm66 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln887">{</a>
<a name="ln888">  float factor = 1.0f;</a>
<a name="ln889">  dt_conf_set_int(&quot;singlebuffer_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln890">}</a>
<a name="ln891"> </a>
<a name="ln892">static void</a>
<a name="ln893">preferences_callback_idm144 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln894">{</a>
<a name="ln895">  dt_conf_set_bool(&quot;never_use_embedded_thumb&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln896">}</a>
<a name="ln897"> </a>
<a name="ln898">static void</a>
<a name="ln899">preferences_callback_idm150 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln900">{</a>
<a name="ln901">  dt_conf_set_bool(&quot;write_sidecar_files&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln902">}</a>
<a name="ln903"> </a>
<a name="ln904">static void</a>
<a name="ln905">preferences_callback_idm156 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln906">{</a>
<a name="ln907">  GtkTreeIter iter;</a>
<a name="ln908">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln909">  {</a>
<a name="ln910">    gchar *s = NULL;</a>
<a name="ln911">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln912">    dt_conf_set_string(&quot;compress_xmp_tags&quot;, s);</a>
<a name="ln913">    g_free(s);</a>
<a name="ln914">  }</a>
<a name="ln915"> </a>
<a name="ln916">}</a>
<a name="ln917"> </a>
<a name="ln918">static void</a>
<a name="ln919">preferences_callback_idm166 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln920">{</a>
<a name="ln921">  dt_conf_set_bool(&quot;omit_tag_hierarchy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln922">}</a>
<a name="ln923"> </a>
<a name="ln924">static void</a>
<a name="ln925">preferences_callback_idm172 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln926">{</a>
<a name="ln927">  dt_conf_set_bool(&quot;plugins/lighttable/tagging/no_entry_completion&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln928">}</a>
<a name="ln929"> </a>
<a name="ln930">static void</a>
<a name="ln931">preferences_callback_idm178 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln932">{</a>
<a name="ln933">  dt_conf_set_bool(&quot;opencl&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln934">}</a>
<a name="ln935"> </a>
<a name="ln936">static void</a>
<a name="ln937">preferences_callback_idm184 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln938">{</a>
<a name="ln939">  GtkTreeIter iter;</a>
<a name="ln940">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln941">  {</a>
<a name="ln942">    gchar *s = NULL;</a>
<a name="ln943">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln944">    dt_conf_set_string(&quot;opencl_scheduling_profile&quot;, s);</a>
<a name="ln945">    g_free(s);</a>
<a name="ln946">  }</a>
<a name="ln947"> </a>
<a name="ln948">}</a>
<a name="ln949"> </a>
<a name="ln950">static void</a>
<a name="ln951">preferences_callback_idm228 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln952">{</a>
<a name="ln953">  dt_conf_set_bool(&quot;ask_before_remove&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln954">}</a>
<a name="ln955"> </a>
<a name="ln956">static void</a>
<a name="ln957">preferences_callback_idm234 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln958">{</a>
<a name="ln959">  dt_conf_set_bool(&quot;ask_before_delete&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln960">}</a>
<a name="ln961"> </a>
<a name="ln962">static void</a>
<a name="ln963">preferences_callback_idm240 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln964">{</a>
<a name="ln965">  dt_conf_set_bool(&quot;send_to_trash&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln966">}</a>
<a name="ln967"> </a>
<a name="ln968">static void</a>
<a name="ln969">preferences_callback_idm246 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln970">{</a>
<a name="ln971">  dt_conf_set_bool(&quot;ask_before_move&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln972">}</a>
<a name="ln973"> </a>
<a name="ln974">static void</a>
<a name="ln975">preferences_callback_idm252 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln976">{</a>
<a name="ln977">  dt_conf_set_bool(&quot;ask_before_copy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln978">}</a>
<a name="ln979"> </a>
<a name="ln980">static void</a>
<a name="ln981">preferences_callback_idm258 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln982">{</a>
<a name="ln983">  dt_conf_set_bool(&quot;ask_before_rmdir&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln984">}</a>
<a name="ln985"> </a>
<a name="ln986">static void</a>
<a name="ln987">preferences_callback_idm264 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln988">{</a>
<a name="ln989">  float factor = 1.0f;</a>
<a name="ln990">  dt_conf_set_int(&quot;show_folder_levels&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln991">}</a>
<a name="ln992"> </a>
<a name="ln993">static void</a>
<a name="ln994">preferences_callback_idm426 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln995">{</a>
<a name="ln996">  dt_conf_set_bool(&quot;ui_last/import_ignore_jpegs&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln997">}</a>
<a name="ln998"> </a>
<a name="ln999">static void</a>
<a name="ln1000">preferences_callback_idm432 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1001">{</a>
<a name="ln1002">  dt_conf_set_bool(&quot;ui_last/import_recursive&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1003">}</a>
<a name="ln1004"> </a>
<a name="ln1005">static void</a>
<a name="ln1006">preferences_callback_idm438 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1007">{</a>
<a name="ln1008">  dt_conf_set_string(&quot;ui_last/import_last_creator&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1009">}</a>
<a name="ln1010"> </a>
<a name="ln1011">static void</a>
<a name="ln1012">preferences_callback_idm444 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1013">{</a>
<a name="ln1014">  dt_conf_set_string(&quot;ui_last/import_last_publisher&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1015">}</a>
<a name="ln1016"> </a>
<a name="ln1017">static void</a>
<a name="ln1018">preferences_callback_idm450 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1019">{</a>
<a name="ln1020">  dt_conf_set_string(&quot;ui_last/import_last_rights&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1021">}</a>
<a name="ln1022"> </a>
<a name="ln1023">static void</a>
<a name="ln1024">preferences_callback_idm456 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1025">{</a>
<a name="ln1026">  dt_conf_set_string(&quot;ui_last/import_last_tags&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1027">}</a>
<a name="ln1028"> </a>
<a name="ln1029">static void</a>
<a name="ln1030">preferences_callback_idm468 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1031">{</a>
<a name="ln1032">  float factor = 1.0f;</a>
<a name="ln1033">  dt_conf_set_int(&quot;ui_last/import_initial_rating&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1034">}</a>
<a name="ln1035"> </a>
<a name="ln1036">static void</a>
<a name="ln1037">preferences_callback_idm480 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1038">{</a>
<a name="ln1039">  dt_conf_set_bool(&quot;plugins/lighttable/filmstrip/visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1040">}</a>
<a name="ln1041"> </a>
<a name="ln1042">static void</a>
<a name="ln1043">preferences_callback_idm492 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1044">{</a>
<a name="ln1045">  dt_conf_set_bool(&quot;plugins/lighttable/timeline/visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1046">}</a>
<a name="ln1047"> </a>
<a name="ln1048">static void</a>
<a name="ln1049">preferences_callback_idm516 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1050">{</a>
<a name="ln1051">  GtkTreeIter iter;</a>
<a name="ln1052">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1053">  {</a>
<a name="ln1054">    gchar *s = NULL;</a>
<a name="ln1055">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1056">    dt_conf_set_string(&quot;plugins/lighttable/thumbnail_hq_min_level&quot;, s);</a>
<a name="ln1057">    g_free(s);</a>
<a name="ln1058">  }</a>
<a name="ln1059"> </a>
<a name="ln1060">}</a>
<a name="ln1061"> </a>
<a name="ln1062">static void</a>
<a name="ln1063">preferences_callback_idm532 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1064">{</a>
<a name="ln1065">  dt_conf_set_bool(&quot;plugins/lighttable/extended_thumb_overlay&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1066">}</a>
<a name="ln1067"> </a>
<a name="ln1068">static void</a>
<a name="ln1069">preferences_callback_idm538 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1070">{</a>
<a name="ln1071">  GtkTreeIter iter;</a>
<a name="ln1072">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1073">  {</a>
<a name="ln1074">    gchar *s = NULL;</a>
<a name="ln1075">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1076">    dt_conf_set_string(&quot;pressure_sensitivity&quot;, s);</a>
<a name="ln1077">    g_free(s);</a>
<a name="ln1078">  }</a>
<a name="ln1079"> </a>
<a name="ln1080">}</a>
<a name="ln1081"> </a>
<a name="ln1082">static void</a>
<a name="ln1083">preferences_callback_idm551 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1084">{</a>
<a name="ln1085">  GtkTreeIter iter;</a>
<a name="ln1086">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1087">  {</a>
<a name="ln1088">    gchar *s = NULL;</a>
<a name="ln1089">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1090">    dt_conf_set_string(&quot;brush_smoothing&quot;, s);</a>
<a name="ln1091">    g_free(s);</a>
<a name="ln1092">  }</a>
<a name="ln1093"> </a>
<a name="ln1094">}</a>
<a name="ln1095"> </a>
<a name="ln1096">static void</a>
<a name="ln1097">preferences_callback_idm561 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1098">{</a>
<a name="ln1099">  GtkTreeIter iter;</a>
<a name="ln1100">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1101">  {</a>
<a name="ln1102">    gchar *s = NULL;</a>
<a name="ln1103">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1104">    dt_conf_set_string(&quot;channel_display&quot;, s);</a>
<a name="ln1105">    g_free(s);</a>
<a name="ln1106">  }</a>
<a name="ln1107"> </a>
<a name="ln1108">}</a>
<a name="ln1109"> </a>
<a name="ln1110">static void</a>
<a name="ln1111">preferences_callback_idm570 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1112">{</a>
<a name="ln1113">  dt_conf_set_string(&quot;plugins/darkroom/image_infos_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1114">}</a>
<a name="ln1115"> </a>
<a name="ln1116">static void</a>
<a name="ln1117">preferences_callback_idm576 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1118">{</a>
<a name="ln1119">  GtkTreeIter iter;</a>
<a name="ln1120">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1121">  {</a>
<a name="ln1122">    gchar *s = NULL;</a>
<a name="ln1123">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1124">    dt_conf_set_string(&quot;plugins/darkroom/image_infos_position&quot;, s);</a>
<a name="ln1125">    g_free(s);</a>
<a name="ln1126">  }</a>
<a name="ln1127"> </a>
<a name="ln1128">}</a>
<a name="ln1129"> </a>
<a name="ln1130">static void</a>
<a name="ln1131">preferences_callback_idm588 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1132">{</a>
<a name="ln1133">  GtkTreeIter iter;</a>
<a name="ln1134">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1135">  {</a>
<a name="ln1136">    gchar *s = NULL;</a>
<a name="ln1137">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1138">    dt_conf_set_string(&quot;plugins/darkroom/search_iop_by_text&quot;, s);</a>
<a name="ln1139">    g_free(s);</a>
<a name="ln1140">  }</a>
<a name="ln1141"> </a>
<a name="ln1142">}</a>
<a name="ln1143"> </a>
<a name="ln1144">static void</a>
<a name="ln1145">preferences_callback_idm610 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1146">{</a>
<a name="ln1147">  dt_conf_set_string(&quot;session/base_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1148">}</a>
<a name="ln1149"> </a>
<a name="ln1150">static void</a>
<a name="ln1151">preferences_callback_idm616 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1152">{</a>
<a name="ln1153">  dt_conf_set_string(&quot;session/sub_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1154">}</a>
<a name="ln1155"> </a>
<a name="ln1156">static void</a>
<a name="ln1157">preferences_callback_idm622 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1158">{</a>
<a name="ln1159">  dt_conf_set_string(&quot;session/filename_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1160">}</a>
<a name="ln1161"> </a>
<a name="ln1162">static void</a>
<a name="ln1163">preferences_callback_idm736 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1164">{</a>
<a name="ln1165">  dt_conf_set_bool(&quot;plugins/lighttable/collect/single-click&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1166">}</a>
<a name="ln1167"> </a>
<a name="ln1168">static void</a>
<a name="ln1169">preferences_callback_idm934 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1170">{</a>
<a name="ln1171">  dt_conf_set_bool(&quot;plugins/lighttable/tagging/ask_before_delete_tag&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1172">}</a>
<a name="ln1173"> </a>
<a name="ln1174">static void</a>
<a name="ln1175">preferences_callback_idm940 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1176">{</a>
<a name="ln1177">  dt_conf_set_bool(&quot;plugins/lighttable/style/ask_before_delete_style&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1178">}</a>
<a name="ln1179"> </a>
<a name="ln1180">static void</a>
<a name="ln1181">preferences_callback_idm964 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1182">{</a>
<a name="ln1183">  dt_conf_set_bool(&quot;plugins/map/filter_images_drawn&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1184">}</a>
<a name="ln1185"> </a>
<a name="ln1186">static void</a>
<a name="ln1187">preferences_callback_idm970 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1188">{</a>
<a name="ln1189">  float factor = 1.0f;</a>
<a name="ln1190">  dt_conf_set_int(&quot;plugins/map/max_images_drawn&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1191">}</a>
<a name="ln1192"> </a>
<a name="ln1193">static void</a>
<a name="ln1194">preferences_callback_idm976 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1195">{</a>
<a name="ln1196">  dt_conf_set_bool(&quot;plugins/lighttable/metadata_view/pretty_location&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1197">}</a>
<a name="ln1198"> </a>
<a name="ln1199">static void</a>
<a name="ln1200">preferences_callback_idm982 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1201">{</a>
<a name="ln1202">  dt_conf_set_bool(&quot;plugins/lighttable/draw_custom_metadata&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1203">}</a>
<a name="ln1204"> </a>
<a name="ln1205">static void</a>
<a name="ln1206">preferences_callback_idm988 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1207">{</a>
<a name="ln1208">  dt_conf_set_bool(&quot;lighttable/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1209">}</a>
<a name="ln1210"> </a>
<a name="ln1211">static void</a>
<a name="ln1212">preferences_callback_idm1000 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1213">{</a>
<a name="ln1214">  dt_conf_set_bool(&quot;darkroom/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1215">}</a>
<a name="ln1216"> </a>
<a name="ln1217">static void</a>
<a name="ln1218">preferences_callback_idm1006 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1219">{</a>
<a name="ln1220">  dt_conf_set_bool(&quot;darkroom/ui/activate_expand&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1221">}</a>
<a name="ln1222"> </a>
<a name="ln1223">static void</a>
<a name="ln1224">preferences_callback_idm1012 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1225">{</a>
<a name="ln1226">  dt_conf_set_bool(&quot;lighttable/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1227">}</a>
<a name="ln1228"> </a>
<a name="ln1229">static void</a>
<a name="ln1230">preferences_callback_idm1054 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1231">{</a>
<a name="ln1232">  dt_conf_set_bool(&quot;darkroom/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1233">}</a>
<a name="ln1234"> </a>
<a name="ln1235">static void</a>
<a name="ln1236">preferences_callback_idm1060 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1237">{</a>
<a name="ln1238">  dt_conf_set_bool(&quot;darkroom/ui/sidebar_scroll_default&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1239">}</a>
<a name="ln1240"> </a>
<a name="ln1241">static void</a>
<a name="ln1242">preferences_callback_idm1066 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1243">{</a>
<a name="ln1244">  float factor = 1.0f;</a>
<a name="ln1245">  dt_conf_set_int(&quot;plugins/darkroom/ui/border_size&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1246">}</a>
<a name="ln1247"> </a>
<a name="ln1248">static void</a>
<a name="ln1249">preferences_callback_idm1072 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1250">{</a>
<a name="ln1251">  GtkTreeIter iter;</a>
<a name="ln1252">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1253">  {</a>
<a name="ln1254">    gchar *s = NULL;</a>
<a name="ln1255">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1256">    dt_conf_set_string(&quot;scrollbars&quot;, s);</a>
<a name="ln1257">    g_free(s);</a>
<a name="ln1258">  }</a>
<a name="ln1259"> </a>
<a name="ln1260">}</a>
<a name="ln1261"> </a>
<a name="ln1262">static void</a>
<a name="ln1263">preferences_callback_idm1082 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1264">{</a>
<a name="ln1265">  dt_conf_set_bool(&quot;panel_scrollbars_always_visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1266">}</a>
<a name="ln1267"> </a>
<a name="ln1268">static void</a>
<a name="ln1269">preferences_callback_idm1118 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1270">{</a>
<a name="ln1271">  dt_conf_set_bool(&quot;plugins/lighttable/export/force_lcms2&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1272">}</a>
<a name="ln1273"> </a>
<a name="ln1274">static void</a>
<a name="ln1275">preferences_callback_idm1124 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1276">{</a>
<a name="ln1277">  dt_conf_set_bool(&quot;plugins/slideshow/high_quality&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1278">}</a>
<a name="ln1279"> </a>
<a name="ln1280">static void</a>
<a name="ln1281">preferences_callback_idm1136 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1282">{</a>
<a name="ln1283">  dt_conf_set_bool(&quot;rating_one_double_tap&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1284">}</a>
<a name="ln1285"> </a>
<a name="ln1286">static void</a>
<a name="ln1287">preferences_callback_idm1190 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1288">{</a>
<a name="ln1289">  GtkTreeIter iter;</a>
<a name="ln1290">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1291">  {</a>
<a name="ln1292">    gchar *s = NULL;</a>
<a name="ln1293">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1294">    dt_conf_set_string(&quot;plugins/darkroom/demosaic/quality&quot;, s);</a>
<a name="ln1295">    g_free(s);</a>
<a name="ln1296">  }</a>
<a name="ln1297"> </a>
<a name="ln1298">}</a>
<a name="ln1299"> </a>
<a name="ln1300">static void</a>
<a name="ln1301">preferences_callback_idm1200 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1302">{</a>
<a name="ln1303">  GtkTreeIter iter;</a>
<a name="ln1304">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1305">  {</a>
<a name="ln1306">    gchar *s = NULL;</a>
<a name="ln1307">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1308">    dt_conf_set_string(&quot;plugins/lighttable/export/pixel_interpolator&quot;, s);</a>
<a name="ln1309">    g_free(s);</a>
<a name="ln1310">  }</a>
<a name="ln1311"> </a>
<a name="ln1312">}</a>
<a name="ln1313"> </a>
<a name="ln1314">static void</a>
<a name="ln1315">preferences_callback_idm1337 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1316">{</a>
<a name="ln1317">  GtkTreeIter iter;</a>
<a name="ln1318">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1319">  {</a>
<a name="ln1320">    gchar *s = NULL;</a>
<a name="ln1321">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1322">    dt_conf_set_string(&quot;plugins/pwstorage/pwstorage_backend&quot;, s);</a>
<a name="ln1323">    g_free(s);</a>
<a name="ln1324">  }</a>
<a name="ln1325"> </a>
<a name="ln1326">}</a>
<a name="ln1327"> </a>
<a name="ln1328">static void</a>
<a name="ln1329">preferences_callback_idm1586 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1330">{</a>
<a name="ln1331">  GtkTreeIter iter;</a>
<a name="ln1332">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1333">  {</a>
<a name="ln1334">    gchar *s = NULL;</a>
<a name="ln1335">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1336">    dt_conf_set_string(&quot;ui_last/display_profile_source&quot;, s);</a>
<a name="ln1337">    g_free(s);</a>
<a name="ln1338">  }</a>
<a name="ln1339"> </a>
<a name="ln1340">}</a>
<a name="ln1341"> </a>
<a name="ln1342">static void</a>
<a name="ln1343">preferences_callback_idm1602 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1344">{</a>
<a name="ln1345">  dt_conf_set_bool(&quot;run_crawler_on_start&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1346">}</a>
<a name="ln1347"> </a>
<a name="ln1348">static void</a>
<a name="ln1349">preferences_callback_idm1608 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1350">{</a>
<a name="ln1351">  dt_conf_set_string(&quot;plugins/lighttable/audio_player&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1352">}</a>
<a name="ln1353"> </a>
<a name="ln1354">static void</a>
<a name="ln1355">preferences_callback_idm1614 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1356">{</a>
<a name="ln1357"> </a>
<a name="ln1358">		gchar *folder =	gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(widget));</a>
<a name="ln1359">		dt_conf_set_string(&quot;plugins/darkroom/lut3d/def_path&quot;, folder);</a>
<a name="ln1360">		g_free(folder);</a>
<a name="ln1361">		</a>
<a name="ln1362">}</a>
<a name="ln1363"> </a>
<a name="ln1364">static void</a>
<a name="ln1365">preferences_callback_idm1620 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1366">{</a>
<a name="ln1367">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1368">}</a>
<a name="ln1369"> </a>
<a name="ln1370">static void</a>
<a name="ln1371">preferences_callback_idm1626 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1372">{</a>
<a name="ln1373">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply_percamera_presets&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1374">}</a>
<a name="ln1375"> </a>
<a name="ln1376">static void</a>
<a name="ln1377">preferences_callback_idm1632 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1378">{</a>
<a name="ln1379">  dt_conf_set_bool(&quot;plugins/darkroom/sharpen/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1380">}</a>
<a name="ln1381"> </a>
<a name="ln1382">static void</a>
<a name="ln1383">preferences_response_callback_idm14 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1384">{</a>
<a name="ln1385">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1386">    return;</a>
<a name="ln1387">  float factor = 1.0f;</a>
<a name="ln1388">  dt_conf_set_int(&quot;panel_width&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1389">}</a>
<a name="ln1390"> </a>
<a name="ln1391">static void</a>
<a name="ln1392">preferences_response_callback_idm20 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1393">{</a>
<a name="ln1394">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1395">    return;</a>
<a name="ln1396">  float factor = 1.0f;</a>
<a name="ln1397">  dt_conf_set_int(&quot;slideshow_delay&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1398">}</a>
<a name="ln1399"> </a>
<a name="ln1400">static void</a>
<a name="ln1401">preferences_response_callback_idm25 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1402">{</a>
<a name="ln1403">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1404">    return;</a>
<a name="ln1405">  dt_conf_set_bool(&quot;ui_last/no_april1st&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1406">}</a>
<a name="ln1407"> </a>
<a name="ln1408">static void</a>
<a name="ln1409">preferences_response_callback_idm30 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1410">{</a>
<a name="ln1411">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1412">    return;</a>
<a name="ln1413">  float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln1414">  dt_conf_set_int64(&quot;cache_memory&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1415">}</a>
<a name="ln1416"> </a>
<a name="ln1417">static void</a>
<a name="ln1418">preferences_response_callback_idm36 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1419">{</a>
<a name="ln1420">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1421">    return;</a>
<a name="ln1422">  dt_conf_set_bool(&quot;cache_disk_backend&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1423">}</a>
<a name="ln1424"> </a>
<a name="ln1425">static void</a>
<a name="ln1426">preferences_response_callback_idm42 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1427">{</a>
<a name="ln1428">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1429">    return;</a>
<a name="ln1430">  dt_conf_set_bool(&quot;cache_disk_backend_full&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1431">}</a>
<a name="ln1432"> </a>
<a name="ln1433">static void</a>
<a name="ln1434">preferences_response_callback_idm48 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1435">{</a>
<a name="ln1436">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1437">    return;</a>
<a name="ln1438">  dt_conf_set_bool(&quot;cache_color_managed&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1439">}</a>
<a name="ln1440"> </a>
<a name="ln1441">static void</a>
<a name="ln1442">preferences_response_callback_idm54 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1443">{</a>
<a name="ln1444">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1445">    return;</a>
<a name="ln1446">  float factor = 1.0f;</a>
<a name="ln1447">  dt_conf_set_int(&quot;worker_threads&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1448">}</a>
<a name="ln1449"> </a>
<a name="ln1450">static void</a>
<a name="ln1451">preferences_response_callback_idm60 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1452">{</a>
<a name="ln1453">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1454">    return;</a>
<a name="ln1455">  float factor = 1.0f;</a>
<a name="ln1456">  dt_conf_set_int(&quot;host_memory_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1457">}</a>
<a name="ln1458"> </a>
<a name="ln1459">static void</a>
<a name="ln1460">preferences_response_callback_idm66 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1461">{</a>
<a name="ln1462">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1463">    return;</a>
<a name="ln1464">  float factor = 1.0f;</a>
<a name="ln1465">  dt_conf_set_int(&quot;singlebuffer_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1466">}</a>
<a name="ln1467"> </a>
<a name="ln1468">static void</a>
<a name="ln1469">preferences_response_callback_idm144 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1470">{</a>
<a name="ln1471">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1472">    return;</a>
<a name="ln1473">  dt_conf_set_bool(&quot;never_use_embedded_thumb&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1474">}</a>
<a name="ln1475"> </a>
<a name="ln1476">static void</a>
<a name="ln1477">preferences_response_callback_idm150 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1478">{</a>
<a name="ln1479">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1480">    return;</a>
<a name="ln1481">  dt_conf_set_bool(&quot;write_sidecar_files&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1482">}</a>
<a name="ln1483"> </a>
<a name="ln1484">static void</a>
<a name="ln1485">preferences_response_callback_idm156 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1486">{</a>
<a name="ln1487">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1488">    return;</a>
<a name="ln1489">  GtkTreeIter iter;</a>
<a name="ln1490">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1491">  {</a>
<a name="ln1492">    gchar *s = NULL;</a>
<a name="ln1493">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1494">    dt_conf_set_string(&quot;compress_xmp_tags&quot;, s);</a>
<a name="ln1495">    g_free(s);</a>
<a name="ln1496">  }</a>
<a name="ln1497"> </a>
<a name="ln1498">}</a>
<a name="ln1499"> </a>
<a name="ln1500">static void</a>
<a name="ln1501">preferences_response_callback_idm166 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1502">{</a>
<a name="ln1503">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1504">    return;</a>
<a name="ln1505">  dt_conf_set_bool(&quot;omit_tag_hierarchy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1506">}</a>
<a name="ln1507"> </a>
<a name="ln1508">static void</a>
<a name="ln1509">preferences_response_callback_idm172 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1510">{</a>
<a name="ln1511">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1512">    return;</a>
<a name="ln1513">  dt_conf_set_bool(&quot;plugins/lighttable/tagging/no_entry_completion&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1514">}</a>
<a name="ln1515"> </a>
<a name="ln1516">static void</a>
<a name="ln1517">preferences_response_callback_idm178 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1518">{</a>
<a name="ln1519">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1520">    return;</a>
<a name="ln1521">  dt_conf_set_bool(&quot;opencl&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1522">}</a>
<a name="ln1523"> </a>
<a name="ln1524">static void</a>
<a name="ln1525">preferences_response_callback_idm184 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1526">{</a>
<a name="ln1527">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1528">    return;</a>
<a name="ln1529">  GtkTreeIter iter;</a>
<a name="ln1530">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1531">  {</a>
<a name="ln1532">    gchar *s = NULL;</a>
<a name="ln1533">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1534">    dt_conf_set_string(&quot;opencl_scheduling_profile&quot;, s);</a>
<a name="ln1535">    g_free(s);</a>
<a name="ln1536">  }</a>
<a name="ln1537"> </a>
<a name="ln1538">}</a>
<a name="ln1539"> </a>
<a name="ln1540">static void</a>
<a name="ln1541">preferences_response_callback_idm228 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1542">{</a>
<a name="ln1543">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1544">    return;</a>
<a name="ln1545">  dt_conf_set_bool(&quot;ask_before_remove&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1546">}</a>
<a name="ln1547"> </a>
<a name="ln1548">static void</a>
<a name="ln1549">preferences_response_callback_idm234 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1550">{</a>
<a name="ln1551">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1552">    return;</a>
<a name="ln1553">  dt_conf_set_bool(&quot;ask_before_delete&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1554">}</a>
<a name="ln1555"> </a>
<a name="ln1556">static void</a>
<a name="ln1557">preferences_response_callback_idm240 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1558">{</a>
<a name="ln1559">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1560">    return;</a>
<a name="ln1561">  dt_conf_set_bool(&quot;send_to_trash&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1562">}</a>
<a name="ln1563"> </a>
<a name="ln1564">static void</a>
<a name="ln1565">preferences_response_callback_idm246 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1566">{</a>
<a name="ln1567">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1568">    return;</a>
<a name="ln1569">  dt_conf_set_bool(&quot;ask_before_move&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1570">}</a>
<a name="ln1571"> </a>
<a name="ln1572">static void</a>
<a name="ln1573">preferences_response_callback_idm252 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1574">{</a>
<a name="ln1575">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1576">    return;</a>
<a name="ln1577">  dt_conf_set_bool(&quot;ask_before_copy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1578">}</a>
<a name="ln1579"> </a>
<a name="ln1580">static void</a>
<a name="ln1581">preferences_response_callback_idm258 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1582">{</a>
<a name="ln1583">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1584">    return;</a>
<a name="ln1585">  dt_conf_set_bool(&quot;ask_before_rmdir&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1586">}</a>
<a name="ln1587"> </a>
<a name="ln1588">static void</a>
<a name="ln1589">preferences_response_callback_idm264 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1590">{</a>
<a name="ln1591">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1592">    return;</a>
<a name="ln1593">  float factor = 1.0f;</a>
<a name="ln1594">  dt_conf_set_int(&quot;show_folder_levels&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1595">}</a>
<a name="ln1596"> </a>
<a name="ln1597">static void</a>
<a name="ln1598">preferences_response_callback_idm426 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1599">{</a>
<a name="ln1600">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1601">    return;</a>
<a name="ln1602">  dt_conf_set_bool(&quot;ui_last/import_ignore_jpegs&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1603">}</a>
<a name="ln1604"> </a>
<a name="ln1605">static void</a>
<a name="ln1606">preferences_response_callback_idm432 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1607">{</a>
<a name="ln1608">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1609">    return;</a>
<a name="ln1610">  dt_conf_set_bool(&quot;ui_last/import_recursive&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1611">}</a>
<a name="ln1612"> </a>
<a name="ln1613">static void</a>
<a name="ln1614">preferences_response_callback_idm438 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1615">{</a>
<a name="ln1616">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1617">    return;</a>
<a name="ln1618">  dt_conf_set_string(&quot;ui_last/import_last_creator&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1619">}</a>
<a name="ln1620"> </a>
<a name="ln1621">static void</a>
<a name="ln1622">preferences_response_callback_idm444 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1623">{</a>
<a name="ln1624">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1625">    return;</a>
<a name="ln1626">  dt_conf_set_string(&quot;ui_last/import_last_publisher&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1627">}</a>
<a name="ln1628"> </a>
<a name="ln1629">static void</a>
<a name="ln1630">preferences_response_callback_idm450 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1631">{</a>
<a name="ln1632">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1633">    return;</a>
<a name="ln1634">  dt_conf_set_string(&quot;ui_last/import_last_rights&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1635">}</a>
<a name="ln1636"> </a>
<a name="ln1637">static void</a>
<a name="ln1638">preferences_response_callback_idm456 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1639">{</a>
<a name="ln1640">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1641">    return;</a>
<a name="ln1642">  dt_conf_set_string(&quot;ui_last/import_last_tags&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1643">}</a>
<a name="ln1644"> </a>
<a name="ln1645">static void</a>
<a name="ln1646">preferences_response_callback_idm468 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1647">{</a>
<a name="ln1648">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1649">    return;</a>
<a name="ln1650">  float factor = 1.0f;</a>
<a name="ln1651">  dt_conf_set_int(&quot;ui_last/import_initial_rating&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1652">}</a>
<a name="ln1653"> </a>
<a name="ln1654">static void</a>
<a name="ln1655">preferences_response_callback_idm480 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1656">{</a>
<a name="ln1657">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1658">    return;</a>
<a name="ln1659">  dt_conf_set_bool(&quot;plugins/lighttable/filmstrip/visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1660">}</a>
<a name="ln1661"> </a>
<a name="ln1662">static void</a>
<a name="ln1663">preferences_response_callback_idm492 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1664">{</a>
<a name="ln1665">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1666">    return;</a>
<a name="ln1667">  dt_conf_set_bool(&quot;plugins/lighttable/timeline/visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1668">}</a>
<a name="ln1669"> </a>
<a name="ln1670">static void</a>
<a name="ln1671">preferences_response_callback_idm516 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1672">{</a>
<a name="ln1673">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1674">    return;</a>
<a name="ln1675">  GtkTreeIter iter;</a>
<a name="ln1676">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1677">  {</a>
<a name="ln1678">    gchar *s = NULL;</a>
<a name="ln1679">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1680">    dt_conf_set_string(&quot;plugins/lighttable/thumbnail_hq_min_level&quot;, s);</a>
<a name="ln1681">    g_free(s);</a>
<a name="ln1682">  }</a>
<a name="ln1683"> </a>
<a name="ln1684">}</a>
<a name="ln1685"> </a>
<a name="ln1686">static void</a>
<a name="ln1687">preferences_response_callback_idm532 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1688">{</a>
<a name="ln1689">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1690">    return;</a>
<a name="ln1691">  dt_conf_set_bool(&quot;plugins/lighttable/extended_thumb_overlay&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1692">}</a>
<a name="ln1693"> </a>
<a name="ln1694">static void</a>
<a name="ln1695">preferences_response_callback_idm538 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1696">{</a>
<a name="ln1697">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1698">    return;</a>
<a name="ln1699">  GtkTreeIter iter;</a>
<a name="ln1700">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1701">  {</a>
<a name="ln1702">    gchar *s = NULL;</a>
<a name="ln1703">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1704">    dt_conf_set_string(&quot;pressure_sensitivity&quot;, s);</a>
<a name="ln1705">    g_free(s);</a>
<a name="ln1706">  }</a>
<a name="ln1707"> </a>
<a name="ln1708">}</a>
<a name="ln1709"> </a>
<a name="ln1710">static void</a>
<a name="ln1711">preferences_response_callback_idm551 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1712">{</a>
<a name="ln1713">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1714">    return;</a>
<a name="ln1715">  GtkTreeIter iter;</a>
<a name="ln1716">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1717">  {</a>
<a name="ln1718">    gchar *s = NULL;</a>
<a name="ln1719">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1720">    dt_conf_set_string(&quot;brush_smoothing&quot;, s);</a>
<a name="ln1721">    g_free(s);</a>
<a name="ln1722">  }</a>
<a name="ln1723"> </a>
<a name="ln1724">}</a>
<a name="ln1725"> </a>
<a name="ln1726">static void</a>
<a name="ln1727">preferences_response_callback_idm561 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1728">{</a>
<a name="ln1729">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1730">    return;</a>
<a name="ln1731">  GtkTreeIter iter;</a>
<a name="ln1732">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1733">  {</a>
<a name="ln1734">    gchar *s = NULL;</a>
<a name="ln1735">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1736">    dt_conf_set_string(&quot;channel_display&quot;, s);</a>
<a name="ln1737">    g_free(s);</a>
<a name="ln1738">  }</a>
<a name="ln1739"> </a>
<a name="ln1740">}</a>
<a name="ln1741"> </a>
<a name="ln1742">static void</a>
<a name="ln1743">preferences_response_callback_idm570 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1744">{</a>
<a name="ln1745">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1746">    return;</a>
<a name="ln1747">  dt_conf_set_string(&quot;plugins/darkroom/image_infos_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1748">}</a>
<a name="ln1749"> </a>
<a name="ln1750">static void</a>
<a name="ln1751">preferences_response_callback_idm576 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1752">{</a>
<a name="ln1753">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1754">    return;</a>
<a name="ln1755">  GtkTreeIter iter;</a>
<a name="ln1756">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1757">  {</a>
<a name="ln1758">    gchar *s = NULL;</a>
<a name="ln1759">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1760">    dt_conf_set_string(&quot;plugins/darkroom/image_infos_position&quot;, s);</a>
<a name="ln1761">    g_free(s);</a>
<a name="ln1762">  }</a>
<a name="ln1763"> </a>
<a name="ln1764">}</a>
<a name="ln1765"> </a>
<a name="ln1766">static void</a>
<a name="ln1767">preferences_response_callback_idm588 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1768">{</a>
<a name="ln1769">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1770">    return;</a>
<a name="ln1771">  GtkTreeIter iter;</a>
<a name="ln1772">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1773">  {</a>
<a name="ln1774">    gchar *s = NULL;</a>
<a name="ln1775">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1776">    dt_conf_set_string(&quot;plugins/darkroom/search_iop_by_text&quot;, s);</a>
<a name="ln1777">    g_free(s);</a>
<a name="ln1778">  }</a>
<a name="ln1779"> </a>
<a name="ln1780">}</a>
<a name="ln1781"> </a>
<a name="ln1782">static void</a>
<a name="ln1783">preferences_response_callback_idm610 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1784">{</a>
<a name="ln1785">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1786">    return;</a>
<a name="ln1787">  dt_conf_set_string(&quot;session/base_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1788">}</a>
<a name="ln1789"> </a>
<a name="ln1790">static void</a>
<a name="ln1791">preferences_response_callback_idm616 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1792">{</a>
<a name="ln1793">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1794">    return;</a>
<a name="ln1795">  dt_conf_set_string(&quot;session/sub_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1796">}</a>
<a name="ln1797"> </a>
<a name="ln1798">static void</a>
<a name="ln1799">preferences_response_callback_idm622 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1800">{</a>
<a name="ln1801">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1802">    return;</a>
<a name="ln1803">  dt_conf_set_string(&quot;session/filename_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1804">}</a>
<a name="ln1805"> </a>
<a name="ln1806">static void</a>
<a name="ln1807">preferences_response_callback_idm736 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1808">{</a>
<a name="ln1809">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1810">    return;</a>
<a name="ln1811">  dt_conf_set_bool(&quot;plugins/lighttable/collect/single-click&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1812">}</a>
<a name="ln1813"> </a>
<a name="ln1814">static void</a>
<a name="ln1815">preferences_response_callback_idm934 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1816">{</a>
<a name="ln1817">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1818">    return;</a>
<a name="ln1819">  dt_conf_set_bool(&quot;plugins/lighttable/tagging/ask_before_delete_tag&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1820">}</a>
<a name="ln1821"> </a>
<a name="ln1822">static void</a>
<a name="ln1823">preferences_response_callback_idm940 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1824">{</a>
<a name="ln1825">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1826">    return;</a>
<a name="ln1827">  dt_conf_set_bool(&quot;plugins/lighttable/style/ask_before_delete_style&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1828">}</a>
<a name="ln1829"> </a>
<a name="ln1830">static void</a>
<a name="ln1831">preferences_response_callback_idm964 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1832">{</a>
<a name="ln1833">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1834">    return;</a>
<a name="ln1835">  dt_conf_set_bool(&quot;plugins/map/filter_images_drawn&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1836">}</a>
<a name="ln1837"> </a>
<a name="ln1838">static void</a>
<a name="ln1839">preferences_response_callback_idm970 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1840">{</a>
<a name="ln1841">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1842">    return;</a>
<a name="ln1843">  float factor = 1.0f;</a>
<a name="ln1844">  dt_conf_set_int(&quot;plugins/map/max_images_drawn&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1845">}</a>
<a name="ln1846"> </a>
<a name="ln1847">static void</a>
<a name="ln1848">preferences_response_callback_idm976 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1849">{</a>
<a name="ln1850">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1851">    return;</a>
<a name="ln1852">  dt_conf_set_bool(&quot;plugins/lighttable/metadata_view/pretty_location&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1853">}</a>
<a name="ln1854"> </a>
<a name="ln1855">static void</a>
<a name="ln1856">preferences_response_callback_idm982 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1857">{</a>
<a name="ln1858">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1859">    return;</a>
<a name="ln1860">  dt_conf_set_bool(&quot;plugins/lighttable/draw_custom_metadata&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1861">}</a>
<a name="ln1862"> </a>
<a name="ln1863">static void</a>
<a name="ln1864">preferences_response_callback_idm988 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1865">{</a>
<a name="ln1866">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1867">    return;</a>
<a name="ln1868">  dt_conf_set_bool(&quot;lighttable/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1869">}</a>
<a name="ln1870"> </a>
<a name="ln1871">static void</a>
<a name="ln1872">preferences_response_callback_idm1000 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1873">{</a>
<a name="ln1874">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1875">    return;</a>
<a name="ln1876">  dt_conf_set_bool(&quot;darkroom/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1877">}</a>
<a name="ln1878"> </a>
<a name="ln1879">static void</a>
<a name="ln1880">preferences_response_callback_idm1006 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1881">{</a>
<a name="ln1882">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1883">    return;</a>
<a name="ln1884">  dt_conf_set_bool(&quot;darkroom/ui/activate_expand&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1885">}</a>
<a name="ln1886"> </a>
<a name="ln1887">static void</a>
<a name="ln1888">preferences_response_callback_idm1012 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1889">{</a>
<a name="ln1890">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1891">    return;</a>
<a name="ln1892">  dt_conf_set_bool(&quot;lighttable/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1893">}</a>
<a name="ln1894"> </a>
<a name="ln1895">static void</a>
<a name="ln1896">preferences_response_callback_idm1054 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1897">{</a>
<a name="ln1898">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1899">    return;</a>
<a name="ln1900">  dt_conf_set_bool(&quot;darkroom/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1901">}</a>
<a name="ln1902"> </a>
<a name="ln1903">static void</a>
<a name="ln1904">preferences_response_callback_idm1060 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1905">{</a>
<a name="ln1906">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1907">    return;</a>
<a name="ln1908">  dt_conf_set_bool(&quot;darkroom/ui/sidebar_scroll_default&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1909">}</a>
<a name="ln1910"> </a>
<a name="ln1911">static void</a>
<a name="ln1912">preferences_response_callback_idm1066 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1913">{</a>
<a name="ln1914">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1915">    return;</a>
<a name="ln1916">  float factor = 1.0f;</a>
<a name="ln1917">  dt_conf_set_int(&quot;plugins/darkroom/ui/border_size&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1918">}</a>
<a name="ln1919"> </a>
<a name="ln1920">static void</a>
<a name="ln1921">preferences_response_callback_idm1072 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1922">{</a>
<a name="ln1923">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1924">    return;</a>
<a name="ln1925">  GtkTreeIter iter;</a>
<a name="ln1926">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1927">  {</a>
<a name="ln1928">    gchar *s = NULL;</a>
<a name="ln1929">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1930">    dt_conf_set_string(&quot;scrollbars&quot;, s);</a>
<a name="ln1931">    g_free(s);</a>
<a name="ln1932">  }</a>
<a name="ln1933"> </a>
<a name="ln1934">}</a>
<a name="ln1935"> </a>
<a name="ln1936">static void</a>
<a name="ln1937">preferences_response_callback_idm1082 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1938">{</a>
<a name="ln1939">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1940">    return;</a>
<a name="ln1941">  dt_conf_set_bool(&quot;panel_scrollbars_always_visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1942">}</a>
<a name="ln1943"> </a>
<a name="ln1944">static void</a>
<a name="ln1945">preferences_response_callback_idm1118 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1946">{</a>
<a name="ln1947">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1948">    return;</a>
<a name="ln1949">  dt_conf_set_bool(&quot;plugins/lighttable/export/force_lcms2&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1950">}</a>
<a name="ln1951"> </a>
<a name="ln1952">static void</a>
<a name="ln1953">preferences_response_callback_idm1124 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1954">{</a>
<a name="ln1955">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1956">    return;</a>
<a name="ln1957">  dt_conf_set_bool(&quot;plugins/slideshow/high_quality&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1958">}</a>
<a name="ln1959"> </a>
<a name="ln1960">static void</a>
<a name="ln1961">preferences_response_callback_idm1136 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1962">{</a>
<a name="ln1963">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1964">    return;</a>
<a name="ln1965">  dt_conf_set_bool(&quot;rating_one_double_tap&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1966">}</a>
<a name="ln1967"> </a>
<a name="ln1968">static void</a>
<a name="ln1969">preferences_response_callback_idm1190 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1970">{</a>
<a name="ln1971">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1972">    return;</a>
<a name="ln1973">  GtkTreeIter iter;</a>
<a name="ln1974">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1975">  {</a>
<a name="ln1976">    gchar *s = NULL;</a>
<a name="ln1977">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1978">    dt_conf_set_string(&quot;plugins/darkroom/demosaic/quality&quot;, s);</a>
<a name="ln1979">    g_free(s);</a>
<a name="ln1980">  }</a>
<a name="ln1981"> </a>
<a name="ln1982">}</a>
<a name="ln1983"> </a>
<a name="ln1984">static void</a>
<a name="ln1985">preferences_response_callback_idm1200 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1986">{</a>
<a name="ln1987">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1988">    return;</a>
<a name="ln1989">  GtkTreeIter iter;</a>
<a name="ln1990">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1991">  {</a>
<a name="ln1992">    gchar *s = NULL;</a>
<a name="ln1993">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1994">    dt_conf_set_string(&quot;plugins/lighttable/export/pixel_interpolator&quot;, s);</a>
<a name="ln1995">    g_free(s);</a>
<a name="ln1996">  }</a>
<a name="ln1997"> </a>
<a name="ln1998">}</a>
<a name="ln1999"> </a>
<a name="ln2000">static void</a>
<a name="ln2001">preferences_response_callback_idm1337 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2002">{</a>
<a name="ln2003">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2004">    return;</a>
<a name="ln2005">  GtkTreeIter iter;</a>
<a name="ln2006">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln2007">  {</a>
<a name="ln2008">    gchar *s = NULL;</a>
<a name="ln2009">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln2010">    dt_conf_set_string(&quot;plugins/pwstorage/pwstorage_backend&quot;, s);</a>
<a name="ln2011">    g_free(s);</a>
<a name="ln2012">  }</a>
<a name="ln2013"> </a>
<a name="ln2014">}</a>
<a name="ln2015"> </a>
<a name="ln2016">static void</a>
<a name="ln2017">preferences_response_callback_idm1586 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2018">{</a>
<a name="ln2019">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2020">    return;</a>
<a name="ln2021">  GtkTreeIter iter;</a>
<a name="ln2022">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln2023">  {</a>
<a name="ln2024">    gchar *s = NULL;</a>
<a name="ln2025">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln2026">    dt_conf_set_string(&quot;ui_last/display_profile_source&quot;, s);</a>
<a name="ln2027">    g_free(s);</a>
<a name="ln2028">  }</a>
<a name="ln2029"> </a>
<a name="ln2030">}</a>
<a name="ln2031"> </a>
<a name="ln2032">static void</a>
<a name="ln2033">preferences_response_callback_idm1602 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2034">{</a>
<a name="ln2035">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2036">    return;</a>
<a name="ln2037">  dt_conf_set_bool(&quot;run_crawler_on_start&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln2038">}</a>
<a name="ln2039"> </a>
<a name="ln2040">static void</a>
<a name="ln2041">preferences_response_callback_idm1608 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2042">{</a>
<a name="ln2043">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2044">    return;</a>
<a name="ln2045">  dt_conf_set_string(&quot;plugins/lighttable/audio_player&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln2046">}</a>
<a name="ln2047"> </a>
<a name="ln2048">static void</a>
<a name="ln2049">preferences_response_callback_idm1614 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2050">{</a>
<a name="ln2051">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2052">    return;</a>
<a name="ln2053"> </a>
<a name="ln2054">		gchar *folder =	gtk_file_chooser_get_filename(GTK_FILE_CHOOSER(widget));</a>
<a name="ln2055">		dt_conf_set_string(&quot;plugins/darkroom/lut3d/def_path&quot;, folder);</a>
<a name="ln2056">		g_free(folder);</a>
<a name="ln2057">		</a>
<a name="ln2058">}</a>
<a name="ln2059"> </a>
<a name="ln2060">static void</a>
<a name="ln2061">preferences_response_callback_idm1620 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2062">{</a>
<a name="ln2063">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2064">    return;</a>
<a name="ln2065">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln2066">}</a>
<a name="ln2067"> </a>
<a name="ln2068">static void</a>
<a name="ln2069">preferences_response_callback_idm1626 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2070">{</a>
<a name="ln2071">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2072">    return;</a>
<a name="ln2073">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply_percamera_presets&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln2074">}</a>
<a name="ln2075"> </a>
<a name="ln2076">static void</a>
<a name="ln2077">preferences_response_callback_idm1632 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln2078">{</a>
<a name="ln2079">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln2080">    return;</a>
<a name="ln2081">  dt_conf_set_bool(&quot;plugins/darkroom/sharpen/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln2082">}</a>
<a name="ln2083"> </a>
<a name="ln2084"> </a>
<a name="ln2085">static void</a>
<a name="ln2086">init_tab_gui (GtkWidget *dialog, GtkWidget *tab, void (*hardcoded_part)(GtkWidget *grid, int *line))</a>
<a name="ln2087">{</a>
<a name="ln2088">  GtkWidget *widget, *label, *labelev, *viewport;</a>
<a name="ln2089">  GtkWidget *grid = gtk_grid_new();</a>
<a name="ln2090">  gtk_grid_set_row_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln2091">  gtk_grid_set_column_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln2092">  gtk_widget_set_valign(grid, GTK_ALIGN_START);</a>
<a name="ln2093">  int line = 0;</a>
<a name="ln2094">  char tooltip[1024];</a>
<a name="ln2095">  GtkWidget *scroll = gtk_scrolled_window_new(NULL, NULL);</a>
<a name="ln2096">  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(scroll), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);</a>
<a name="ln2097">  viewport = gtk_viewport_new(NULL, NULL);</a>
<a name="ln2098">  gtk_viewport_set_shadow_type(GTK_VIEWPORT(viewport), GTK_SHADOW_NONE); // doesn't seem to work from gtkrc</a>
<a name="ln2099">  gtk_container_add(GTK_CONTAINER(scroll), viewport);</a>
<a name="ln2100">  gtk_container_add(GTK_CONTAINER(viewport), grid);</a>
<a name="ln2101"> </a>
<a name="ln2102">  if(hardcoded_part)</a>
<a name="ln2103">    (*hardcoded_part)(grid, &amp;line);</a>
<a name="ln2104">  gtk_notebook_append_page(GTK_NOTEBOOK(tab), scroll, gtk_label_new(_(&quot;GUI options&quot;)));</a>
<a name="ln2105"> </a>
<a name="ln2106">   {</a>
<a name="ln2107">      GtkWidget *seclabel = gtk_label_new(_(&quot;import&quot;));</a>
<a name="ln2108">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2109">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2110">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2111">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2112">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2113">   }</a>
<a name="ln2114"> </a>
<a name="ln2115">  {</a>
<a name="ln2116">    label = gtk_label_new(_(&quot;ignore JPEG images when importing film rolls&quot;));</a>
<a name="ln2117">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2118">    labelev = gtk_event_box_new();</a>
<a name="ln2119">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2120">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2121">    widget = gtk_check_button_new();</a>
<a name="ln2122">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ui_last/import_ignore_jpegs&quot;));</a>
<a name="ln2123">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm426), NULL);</a>
<a name="ln2124">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm426), widget);</a>
<a name="ln2125">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2126">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2127">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2128">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when having raw+JPEG images together in one directory it makes no sense to import both. with this flag one can ignore all JPEGs found.&quot;), (gchar *)0);</a>
<a name="ln2129">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2130">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2131">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm426), (gpointer)widget);</a>
<a name="ln2132"> </a>
<a name="ln2133">  }</a>
<a name="ln2134"> </a>
<a name="ln2135">  {</a>
<a name="ln2136">    label = gtk_label_new(_(&quot;recursive directory traversal when importing filmrolls&quot;));</a>
<a name="ln2137">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2138">    labelev = gtk_event_box_new();</a>
<a name="ln2139">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2140">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2141">    widget = gtk_check_button_new();</a>
<a name="ln2142">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ui_last/import_recursive&quot;));</a>
<a name="ln2143">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm432), NULL);</a>
<a name="ln2144">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm432), widget);</a>
<a name="ln2145">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2146">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2147">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2148">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2149">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2150">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm432), (gpointer)widget);</a>
<a name="ln2151"> </a>
<a name="ln2152">  }</a>
<a name="ln2153"> </a>
<a name="ln2154">  {</a>
<a name="ln2155">    label = gtk_label_new(_(&quot;creator to be applied when importing&quot;));</a>
<a name="ln2156">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2157">    labelev = gtk_event_box_new();</a>
<a name="ln2158">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2159">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2160">    widget = gtk_entry_new();</a>
<a name="ln2161">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln2162">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln2163">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_creator&quot;);</a>
<a name="ln2164">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln2165">    g_free(setting);</a>
<a name="ln2166">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm438), NULL);</a>
<a name="ln2167">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm438), widget);</a>
<a name="ln2168">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln2169">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2170">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2171">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2172">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2173">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm438), (gpointer)widget);</a>
<a name="ln2174"> </a>
<a name="ln2175">  }</a>
<a name="ln2176"> </a>
<a name="ln2177">  {</a>
<a name="ln2178">    label = gtk_label_new(_(&quot;publisher to be applied when importing&quot;));</a>
<a name="ln2179">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2180">    labelev = gtk_event_box_new();</a>
<a name="ln2181">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2182">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2183">    widget = gtk_entry_new();</a>
<a name="ln2184">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln2185">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln2186">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_publisher&quot;);</a>
<a name="ln2187">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln2188">    g_free(setting);</a>
<a name="ln2189">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm444), NULL);</a>
<a name="ln2190">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm444), widget);</a>
<a name="ln2191">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln2192">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2193">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2194">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2195">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2196">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm444), (gpointer)widget);</a>
<a name="ln2197"> </a>
<a name="ln2198">  }</a>
<a name="ln2199"> </a>
<a name="ln2200">  {</a>
<a name="ln2201">    label = gtk_label_new(_(&quot;rights to be applied when importing&quot;));</a>
<a name="ln2202">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2203">    labelev = gtk_event_box_new();</a>
<a name="ln2204">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2205">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2206">    widget = gtk_entry_new();</a>
<a name="ln2207">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln2208">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln2209">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_rights&quot;);</a>
<a name="ln2210">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln2211">    g_free(setting);</a>
<a name="ln2212">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm450), NULL);</a>
<a name="ln2213">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm450), widget);</a>
<a name="ln2214">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln2215">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2216">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2217">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2218">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2219">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm450), (gpointer)widget);</a>
<a name="ln2220"> </a>
<a name="ln2221">  }</a>
<a name="ln2222"> </a>
<a name="ln2223">  {</a>
<a name="ln2224">    label = gtk_label_new(_(&quot;comma separated tags to be applied when importing&quot;));</a>
<a name="ln2225">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2226">    labelev = gtk_event_box_new();</a>
<a name="ln2227">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2228">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2229">    widget = gtk_entry_new();</a>
<a name="ln2230">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln2231">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln2232">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_tags&quot;);</a>
<a name="ln2233">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln2234">    g_free(setting);</a>
<a name="ln2235">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm456), NULL);</a>
<a name="ln2236">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm456), widget);</a>
<a name="ln2237">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln2238">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2239">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2240">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2241">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2242">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm456), (gpointer)widget);</a>
<a name="ln2243"> </a>
<a name="ln2244">  }</a>
<a name="ln2245"> </a>
<a name="ln2246">  {</a>
<a name="ln2247">    label = gtk_label_new(_(&quot;initial import rating&quot;));</a>
<a name="ln2248">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2249">    labelev = gtk_event_box_new();</a>
<a name="ln2250">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2251">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2252">    gint min = 0;</a>
<a name="ln2253">    gint max = G_MAXINT;</a>
<a name="ln2254">    min = 0;</a>
<a name="ln2255">    max = 5;</a>
<a name="ln2256">    float factor = 1.0f;</a>
<a name="ln2257">    double tmp;</a>
<a name="ln2258">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2259">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2260">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2261">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2262">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;ui_last/import_initial_rating&quot;) * factor);</a>
<a name="ln2263">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm468), NULL);</a>
<a name="ln2264">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm468), widget);</a>
<a name="ln2265">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(1 * factor));</a>
<a name="ln2266">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2267">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2268">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;initial star rating for all images when importing a filmroll&quot;), (gchar *)0);</a>
<a name="ln2269">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2270">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2271">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm468), (gpointer)widget);</a>
<a name="ln2272"> </a>
<a name="ln2273">  }</a>
<a name="ln2274"> </a>
<a name="ln2275">   {</a>
<a name="ln2276">      GtkWidget *seclabel = gtk_label_new(_(&quot;lighttable&quot;));</a>
<a name="ln2277">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2278">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2279">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2280">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2281">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2282">   }</a>
<a name="ln2283"> </a>
<a name="ln2284">  {</a>
<a name="ln2285">    label = gtk_label_new(_(&quot;don't use embedded preview JPEG but half-size raw&quot;));</a>
<a name="ln2286">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2287">    labelev = gtk_event_box_new();</a>
<a name="ln2288">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2289">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2290">    widget = gtk_check_button_new();</a>
<a name="ln2291">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;never_use_embedded_thumb&quot;));</a>
<a name="ln2292">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm144), NULL);</a>
<a name="ln2293">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm144), widget);</a>
<a name="ln2294">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2295">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2296">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2297">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;check this option to not use the embedded JPEG from the raw file but process the raw data. this is slower but gives you color managed thumbnails.&quot;), (gchar *)0);</a>
<a name="ln2298">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2299">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2300">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm144), (gpointer)widget);</a>
<a name="ln2301"> </a>
<a name="ln2302">  }</a>
<a name="ln2303"> </a>
<a name="ln2304">  {</a>
<a name="ln2305">    label = gtk_label_new(_(&quot;high quality thumb processing from size&quot;));</a>
<a name="ln2306">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2307">    labelev = gtk_event_box_new();</a>
<a name="ln2308">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2309">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2310">    GtkTreeIter iter;</a>
<a name="ln2311">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2312">    gchar *str = dt_conf_get_string(&quot;plugins/lighttable/thumbnail_hq_min_level&quot;);</a>
<a name="ln2313">    gint pos = -1;</a>
<a name="ln2314"> </a>
<a name="ln2315">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2316">        gtk_list_store_set(store, &amp;iter, 0, &quot;always&quot;, 1, C_(&quot;preferences&quot;, &quot;always&quot;), -1);</a>
<a name="ln2317">        if(pos == -1 &amp;&amp; strcmp(str, &quot;always&quot;) == 0)</a>
<a name="ln2318">          pos = 0;</a>
<a name="ln2319">      </a>
<a name="ln2320">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2321">        gtk_list_store_set(store, &amp;iter, 0, &quot;small&quot;, 1, C_(&quot;preferences&quot;, &quot;small&quot;), -1);</a>
<a name="ln2322">        if(pos == -1 &amp;&amp; strcmp(str, &quot;small&quot;) == 0)</a>
<a name="ln2323">          pos = 1;</a>
<a name="ln2324">      </a>
<a name="ln2325">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2326">        gtk_list_store_set(store, &amp;iter, 0, &quot;VGA&quot;, 1, C_(&quot;preferences&quot;, &quot;VGA&quot;), -1);</a>
<a name="ln2327">        if(pos == -1 &amp;&amp; strcmp(str, &quot;VGA&quot;) == 0)</a>
<a name="ln2328">          pos = 2;</a>
<a name="ln2329">      </a>
<a name="ln2330">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2331">        gtk_list_store_set(store, &amp;iter, 0, &quot;720p&quot;, 1, C_(&quot;preferences&quot;, &quot;720p&quot;), -1);</a>
<a name="ln2332">        if(pos == -1 &amp;&amp; strcmp(str, &quot;720p&quot;) == 0)</a>
<a name="ln2333">          pos = 3;</a>
<a name="ln2334">      </a>
<a name="ln2335">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2336">        gtk_list_store_set(store, &amp;iter, 0, &quot;1080p&quot;, 1, C_(&quot;preferences&quot;, &quot;1080p&quot;), -1);</a>
<a name="ln2337">        if(pos == -1 &amp;&amp; strcmp(str, &quot;1080p&quot;) == 0)</a>
<a name="ln2338">          pos = 4;</a>
<a name="ln2339">      </a>
<a name="ln2340">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2341">        gtk_list_store_set(store, &amp;iter, 0, &quot;WQXGA&quot;, 1, C_(&quot;preferences&quot;, &quot;WQXGA&quot;), -1);</a>
<a name="ln2342">        if(pos == -1 &amp;&amp; strcmp(str, &quot;WQXGA&quot;) == 0)</a>
<a name="ln2343">          pos = 5;</a>
<a name="ln2344">      </a>
<a name="ln2345">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2346">        gtk_list_store_set(store, &amp;iter, 0, &quot;4K&quot;, 1, C_(&quot;preferences&quot;, &quot;4K&quot;), -1);</a>
<a name="ln2347">        if(pos == -1 &amp;&amp; strcmp(str, &quot;4K&quot;) == 0)</a>
<a name="ln2348">          pos = 6;</a>
<a name="ln2349">      </a>
<a name="ln2350">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2351">        gtk_list_store_set(store, &amp;iter, 0, &quot;5K&quot;, 1, C_(&quot;preferences&quot;, &quot;5K&quot;), -1);</a>
<a name="ln2352">        if(pos == -1 &amp;&amp; strcmp(str, &quot;5K&quot;) == 0)</a>
<a name="ln2353">          pos = 7;</a>
<a name="ln2354">      </a>
<a name="ln2355">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2356">        gtk_list_store_set(store, &amp;iter, 0, &quot;never&quot;, 1, C_(&quot;preferences&quot;, &quot;never&quot;), -1);</a>
<a name="ln2357">        if(pos == -1 &amp;&amp; strcmp(str, &quot;never&quot;) == 0)</a>
<a name="ln2358">          pos = 8;</a>
<a name="ln2359">      </a>
<a name="ln2360"> </a>
<a name="ln2361">    g_free(str);</a>
<a name="ln2362"> </a>
<a name="ln2363">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2364">    g_object_unref(store);</a>
<a name="ln2365">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2366">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2367">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2368">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2369">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm516), NULL);</a>
<a name="ln2370">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm516), widget);</a>
<a name="ln2371">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;720p&quot;));</a>
<a name="ln2372">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2373">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2374">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if the thumbnail size is greater than this value, it will be processed using the full quality rendering path (better but slower).&quot;), (gchar *)0);</a>
<a name="ln2375">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2376">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2377">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm516), (gpointer)widget);</a>
<a name="ln2378"> </a>
<a name="ln2379">  }</a>
<a name="ln2380"> </a>
<a name="ln2381">  {</a>
<a name="ln2382">    label = gtk_label_new(_(&quot;enable extended thumb overlay&quot;));</a>
<a name="ln2383">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2384">    labelev = gtk_event_box_new();</a>
<a name="ln2385">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2386">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2387">    widget = gtk_check_button_new();</a>
<a name="ln2388">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/extended_thumb_overlay&quot;));</a>
<a name="ln2389">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm532), NULL);</a>
<a name="ln2390">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm532), widget);</a>
<a name="ln2391">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2392">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2393">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2394">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if set to true, thumb overlay shows filename and some exif data.&quot;), (gchar *)0);</a>
<a name="ln2395">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2396">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2397">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm532), (gpointer)widget);</a>
<a name="ln2398"> </a>
<a name="ln2399">  }</a>
<a name="ln2400"> </a>
<a name="ln2401">  {</a>
<a name="ln2402">    label = gtk_label_new(_(&quot;use single-click in the collect panel&quot;));</a>
<a name="ln2403">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2404">    labelev = gtk_event_box_new();</a>
<a name="ln2405">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2406">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2407">    widget = gtk_check_button_new();</a>
<a name="ln2408">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/collect/single-click&quot;));</a>
<a name="ln2409">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm736), NULL);</a>
<a name="ln2410">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm736), widget);</a>
<a name="ln2411">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2412">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2413">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2414">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;check this option to use single-click to select items in the collect panel. this will allow you to do range selections for date-time and numeric values.&quot;), (gchar *)0);</a>
<a name="ln2415">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2416">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2417">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm736), (gpointer)widget);</a>
<a name="ln2418"> </a>
<a name="ln2419">  }</a>
<a name="ln2420"> </a>
<a name="ln2421">  {</a>
<a name="ln2422">    label = gtk_label_new(_(&quot;expand a single lighttable module at a time&quot;));</a>
<a name="ln2423">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2424">    labelev = gtk_event_box_new();</a>
<a name="ln2425">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2426">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2427">    widget = gtk_check_button_new();</a>
<a name="ln2428">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;lighttable/ui/single_module&quot;));</a>
<a name="ln2429">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm988), NULL);</a>
<a name="ln2430">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm988), widget);</a>
<a name="ln2431">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2432">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2433">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2434">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option toggles the behavior of shift clicking in lighttable mode&quot;), (gchar *)0);</a>
<a name="ln2435">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2436">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2437">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm988), (gpointer)widget);</a>
<a name="ln2438"> </a>
<a name="ln2439">  }</a>
<a name="ln2440"> </a>
<a name="ln2441">  {</a>
<a name="ln2442">    label = gtk_label_new(_(&quot;scroll to lighttable modules when expanded/collapsed&quot;));</a>
<a name="ln2443">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2444">    labelev = gtk_event_box_new();</a>
<a name="ln2445">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2446">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2447">    widget = gtk_check_button_new();</a>
<a name="ln2448">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;lighttable/ui/scroll_to_module&quot;));</a>
<a name="ln2449">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1012), NULL);</a>
<a name="ln2450">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1012), widget);</a>
<a name="ln2451">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2452">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2453">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2454">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when this option is enabled then darktable will try to scroll the module to the top of the visible list&quot;), (gchar *)0);</a>
<a name="ln2455">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2456">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2457">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1012), (gpointer)widget);</a>
<a name="ln2458"> </a>
<a name="ln2459">  }</a>
<a name="ln2460"> </a>
<a name="ln2461">  {</a>
<a name="ln2462">    label = gtk_label_new(_(&quot;rating an image one star twice will not zero out the rating&quot;));</a>
<a name="ln2463">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2464">    labelev = gtk_event_box_new();</a>
<a name="ln2465">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2466">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2467">    widget = gtk_check_button_new();</a>
<a name="ln2468">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;rating_one_double_tap&quot;));</a>
<a name="ln2469">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1136), NULL);</a>
<a name="ln2470">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1136), widget);</a>
<a name="ln2471">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2472">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2473">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2474">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;do not have the rating of one star behave as documented in the manual--an image rated one star twice will result in a zero star rating.&quot;), (gchar *)0);</a>
<a name="ln2475">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2476">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2477">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1136), (gpointer)widget);</a>
<a name="ln2478"> </a>
<a name="ln2479">  }</a>
<a name="ln2480"> </a>
<a name="ln2481">   {</a>
<a name="ln2482">      GtkWidget *seclabel = gtk_label_new(_(&quot;darkroom&quot;));</a>
<a name="ln2483">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2484">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2485">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2486">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2487">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2488">   }</a>
<a name="ln2489"> </a>
<a name="ln2490">  {</a>
<a name="ln2491">    label = gtk_label_new(_(&quot;pen pressure control for brush masks&quot;));</a>
<a name="ln2492">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2493">    labelev = gtk_event_box_new();</a>
<a name="ln2494">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2495">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2496">    GtkTreeIter iter;</a>
<a name="ln2497">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2498">    gchar *str = dt_conf_get_string(&quot;pressure_sensitivity&quot;);</a>
<a name="ln2499">    gint pos = -1;</a>
<a name="ln2500"> </a>
<a name="ln2501">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2502">        gtk_list_store_set(store, &amp;iter, 0, &quot;off&quot;, 1, C_(&quot;preferences&quot;, &quot;off&quot;), -1);</a>
<a name="ln2503">        if(pos == -1 &amp;&amp; strcmp(str, &quot;off&quot;) == 0)</a>
<a name="ln2504">          pos = 0;</a>
<a name="ln2505">      </a>
<a name="ln2506">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2507">        gtk_list_store_set(store, &amp;iter, 0, &quot;hardness (relative)&quot;, 1, C_(&quot;preferences&quot;, &quot;hardness (relative)&quot;), -1);</a>
<a name="ln2508">        if(pos == -1 &amp;&amp; strcmp(str, &quot;hardness (relative)&quot;) == 0)</a>
<a name="ln2509">          pos = 1;</a>
<a name="ln2510">      </a>
<a name="ln2511">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2512">        gtk_list_store_set(store, &amp;iter, 0, &quot;hardness (absolute)&quot;, 1, C_(&quot;preferences&quot;, &quot;hardness (absolute)&quot;), -1);</a>
<a name="ln2513">        if(pos == -1 &amp;&amp; strcmp(str, &quot;hardness (absolute)&quot;) == 0)</a>
<a name="ln2514">          pos = 2;</a>
<a name="ln2515">      </a>
<a name="ln2516">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2517">        gtk_list_store_set(store, &amp;iter, 0, &quot;opacity (relative)&quot;, 1, C_(&quot;preferences&quot;, &quot;opacity (relative)&quot;), -1);</a>
<a name="ln2518">        if(pos == -1 &amp;&amp; strcmp(str, &quot;opacity (relative)&quot;) == 0)</a>
<a name="ln2519">          pos = 3;</a>
<a name="ln2520">      </a>
<a name="ln2521">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2522">        gtk_list_store_set(store, &amp;iter, 0, &quot;opacity (absolute)&quot;, 1, C_(&quot;preferences&quot;, &quot;opacity (absolute)&quot;), -1);</a>
<a name="ln2523">        if(pos == -1 &amp;&amp; strcmp(str, &quot;opacity (absolute)&quot;) == 0)</a>
<a name="ln2524">          pos = 4;</a>
<a name="ln2525">      </a>
<a name="ln2526">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2527">        gtk_list_store_set(store, &amp;iter, 0, &quot;brush size (relative)&quot;, 1, C_(&quot;preferences&quot;, &quot;brush size (relative)&quot;), -1);</a>
<a name="ln2528">        if(pos == -1 &amp;&amp; strcmp(str, &quot;brush size (relative)&quot;) == 0)</a>
<a name="ln2529">          pos = 5;</a>
<a name="ln2530">      </a>
<a name="ln2531"> </a>
<a name="ln2532">    g_free(str);</a>
<a name="ln2533"> </a>
<a name="ln2534">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2535">    g_object_unref(store);</a>
<a name="ln2536">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2537">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2538">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2539">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2540">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm538), NULL);</a>
<a name="ln2541">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm538), widget);</a>
<a name="ln2542">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;off&quot;));</a>
<a name="ln2543">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2544">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2545">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;off - pressure reading ignored, hardness/opacity/brush size - pressure reading controls specified attribute, absolute/relative - pressure reading is taken directly as attribute value or multiplied with pre-defined setting.&quot;), (gchar *)0);</a>
<a name="ln2546">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2547">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2548">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm538), (gpointer)widget);</a>
<a name="ln2549"> </a>
<a name="ln2550">  }</a>
<a name="ln2551"> </a>
<a name="ln2552">  {</a>
<a name="ln2553">    label = gtk_label_new(_(&quot;smoothing of brush strokes&quot;));</a>
<a name="ln2554">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2555">    labelev = gtk_event_box_new();</a>
<a name="ln2556">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2557">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2558">    GtkTreeIter iter;</a>
<a name="ln2559">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2560">    gchar *str = dt_conf_get_string(&quot;brush_smoothing&quot;);</a>
<a name="ln2561">    gint pos = -1;</a>
<a name="ln2562"> </a>
<a name="ln2563">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2564">        gtk_list_store_set(store, &amp;iter, 0, &quot;low&quot;, 1, C_(&quot;preferences&quot;, &quot;low&quot;), -1);</a>
<a name="ln2565">        if(pos == -1 &amp;&amp; strcmp(str, &quot;low&quot;) == 0)</a>
<a name="ln2566">          pos = 0;</a>
<a name="ln2567">      </a>
<a name="ln2568">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2569">        gtk_list_store_set(store, &amp;iter, 0, &quot;medium&quot;, 1, C_(&quot;preferences&quot;, &quot;medium&quot;), -1);</a>
<a name="ln2570">        if(pos == -1 &amp;&amp; strcmp(str, &quot;medium&quot;) == 0)</a>
<a name="ln2571">          pos = 1;</a>
<a name="ln2572">      </a>
<a name="ln2573">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2574">        gtk_list_store_set(store, &amp;iter, 0, &quot;high&quot;, 1, C_(&quot;preferences&quot;, &quot;high&quot;), -1);</a>
<a name="ln2575">        if(pos == -1 &amp;&amp; strcmp(str, &quot;high&quot;) == 0)</a>
<a name="ln2576">          pos = 2;</a>
<a name="ln2577">      </a>
<a name="ln2578"> </a>
<a name="ln2579">    g_free(str);</a>
<a name="ln2580"> </a>
<a name="ln2581">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2582">    g_object_unref(store);</a>
<a name="ln2583">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2584">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2585">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2586">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2587">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm551), NULL);</a>
<a name="ln2588">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm551), widget);</a>
<a name="ln2589">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;medium&quot;));</a>
<a name="ln2590">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2591">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2592">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;sets level for smoothing of brush strokes. stronger smoothing leads to less nodes and easier editing but with lower control of accuracy.&quot;), (gchar *)0);</a>
<a name="ln2593">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2594">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2595">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm551), (gpointer)widget);</a>
<a name="ln2596"> </a>
<a name="ln2597">  }</a>
<a name="ln2598"> </a>
<a name="ln2599">  {</a>
<a name="ln2600">    label = gtk_label_new(_(&quot;display of individual color channels&quot;));</a>
<a name="ln2601">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2602">    labelev = gtk_event_box_new();</a>
<a name="ln2603">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2604">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2605">    GtkTreeIter iter;</a>
<a name="ln2606">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2607">    gchar *str = dt_conf_get_string(&quot;channel_display&quot;);</a>
<a name="ln2608">    gint pos = -1;</a>
<a name="ln2609"> </a>
<a name="ln2610">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2611">        gtk_list_store_set(store, &amp;iter, 0, &quot;false color&quot;, 1, C_(&quot;preferences&quot;, &quot;false color&quot;), -1);</a>
<a name="ln2612">        if(pos == -1 &amp;&amp; strcmp(str, &quot;false color&quot;) == 0)</a>
<a name="ln2613">          pos = 0;</a>
<a name="ln2614">      </a>
<a name="ln2615">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2616">        gtk_list_store_set(store, &amp;iter, 0, &quot;grey scale&quot;, 1, C_(&quot;preferences&quot;, &quot;grey scale&quot;), -1);</a>
<a name="ln2617">        if(pos == -1 &amp;&amp; strcmp(str, &quot;grey scale&quot;) == 0)</a>
<a name="ln2618">          pos = 1;</a>
<a name="ln2619">      </a>
<a name="ln2620"> </a>
<a name="ln2621">    g_free(str);</a>
<a name="ln2622"> </a>
<a name="ln2623">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2624">    g_object_unref(store);</a>
<a name="ln2625">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2626">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2627">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2628">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2629">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm561), NULL);</a>
<a name="ln2630">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm561), widget);</a>
<a name="ln2631">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;false color&quot;));</a>
<a name="ln2632">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2633">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2634">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines how color channels are displayed when activated in the parametric masks feature.&quot;), (gchar *)0);</a>
<a name="ln2635">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2636">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2637">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm561), (gpointer)widget);</a>
<a name="ln2638"> </a>
<a name="ln2639">  }</a>
<a name="ln2640"> </a>
<a name="ln2641">  {</a>
<a name="ln2642">    label = gtk_label_new(_(&quot;pattern for the image infos line&quot;));</a>
<a name="ln2643">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2644">    labelev = gtk_event_box_new();</a>
<a name="ln2645">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2646">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2647">    widget = gtk_entry_new();</a>
<a name="ln2648">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln2649">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln2650">    gchar *setting = dt_conf_get_string(&quot;plugins/darkroom/image_infos_pattern&quot;);</a>
<a name="ln2651">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln2652">    g_free(setting);</a>
<a name="ln2653">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm570), NULL);</a>
<a name="ln2654">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm570), widget);</a>
<a name="ln2655">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(EXIF_ISO) ISO • $(EXIF_EXPOSURE) s • f/$(EXIF_APERTURE) • $(EXIF_FOCAL_LENGTH) mm&quot;);</a>
<a name="ln2656">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2657">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2658">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;see manual to know all the tags you can use.&quot;), (gchar *)0);</a>
<a name="ln2659">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2660">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2661">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm570), (gpointer)widget);</a>
<a name="ln2662"> </a>
<a name="ln2663">  }</a>
<a name="ln2664"> </a>
<a name="ln2665">  {</a>
<a name="ln2666">    label = gtk_label_new(_(&quot;position of the image infos line&quot;));</a>
<a name="ln2667">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2668">    labelev = gtk_event_box_new();</a>
<a name="ln2669">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2670">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2671">    GtkTreeIter iter;</a>
<a name="ln2672">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2673">    gchar *str = dt_conf_get_string(&quot;plugins/darkroom/image_infos_position&quot;);</a>
<a name="ln2674">    gint pos = -1;</a>
<a name="ln2675"> </a>
<a name="ln2676">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2677">        gtk_list_store_set(store, &amp;iter, 0, &quot;top left&quot;, 1, C_(&quot;preferences&quot;, &quot;top left&quot;), -1);</a>
<a name="ln2678">        if(pos == -1 &amp;&amp; strcmp(str, &quot;top left&quot;) == 0)</a>
<a name="ln2679">          pos = 0;</a>
<a name="ln2680">      </a>
<a name="ln2681">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2682">        gtk_list_store_set(store, &amp;iter, 0, &quot;top right&quot;, 1, C_(&quot;preferences&quot;, &quot;top right&quot;), -1);</a>
<a name="ln2683">        if(pos == -1 &amp;&amp; strcmp(str, &quot;top right&quot;) == 0)</a>
<a name="ln2684">          pos = 1;</a>
<a name="ln2685">      </a>
<a name="ln2686">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2687">        gtk_list_store_set(store, &amp;iter, 0, &quot;top center&quot;, 1, C_(&quot;preferences&quot;, &quot;top center&quot;), -1);</a>
<a name="ln2688">        if(pos == -1 &amp;&amp; strcmp(str, &quot;top center&quot;) == 0)</a>
<a name="ln2689">          pos = 2;</a>
<a name="ln2690">      </a>
<a name="ln2691">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2692">        gtk_list_store_set(store, &amp;iter, 0, &quot;bottom&quot;, 1, C_(&quot;preferences&quot;, &quot;bottom&quot;), -1);</a>
<a name="ln2693">        if(pos == -1 &amp;&amp; strcmp(str, &quot;bottom&quot;) == 0)</a>
<a name="ln2694">          pos = 3;</a>
<a name="ln2695">      </a>
<a name="ln2696">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2697">        gtk_list_store_set(store, &amp;iter, 0, &quot;hidden&quot;, 1, C_(&quot;preferences&quot;, &quot;hidden&quot;), -1);</a>
<a name="ln2698">        if(pos == -1 &amp;&amp; strcmp(str, &quot;hidden&quot;) == 0)</a>
<a name="ln2699">          pos = 4;</a>
<a name="ln2700">      </a>
<a name="ln2701"> </a>
<a name="ln2702">    g_free(str);</a>
<a name="ln2703"> </a>
<a name="ln2704">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2705">    g_object_unref(store);</a>
<a name="ln2706">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2707">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2708">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2709">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2710">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm576), NULL);</a>
<a name="ln2711">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm576), widget);</a>
<a name="ln2712">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;bottom&quot;));</a>
<a name="ln2713">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2714">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2715">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2716">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2717">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm576), (gpointer)widget);</a>
<a name="ln2718"> </a>
<a name="ln2719">  }</a>
<a name="ln2720"> </a>
<a name="ln2721">  {</a>
<a name="ln2722">    label = gtk_label_new(_(&quot;show search module text entry&quot;));</a>
<a name="ln2723">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2724">    labelev = gtk_event_box_new();</a>
<a name="ln2725">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2726">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2727">    GtkTreeIter iter;</a>
<a name="ln2728">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2729">    gchar *str = dt_conf_get_string(&quot;plugins/darkroom/search_iop_by_text&quot;);</a>
<a name="ln2730">    gint pos = -1;</a>
<a name="ln2731"> </a>
<a name="ln2732">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2733">        gtk_list_store_set(store, &amp;iter, 0, &quot;show search text&quot;, 1, C_(&quot;preferences&quot;, &quot;show search text&quot;), -1);</a>
<a name="ln2734">        if(pos == -1 &amp;&amp; strcmp(str, &quot;show search text&quot;) == 0)</a>
<a name="ln2735">          pos = 0;</a>
<a name="ln2736">      </a>
<a name="ln2737">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2738">        gtk_list_store_set(store, &amp;iter, 0, &quot;show groups&quot;, 1, C_(&quot;preferences&quot;, &quot;show groups&quot;), -1);</a>
<a name="ln2739">        if(pos == -1 &amp;&amp; strcmp(str, &quot;show groups&quot;) == 0)</a>
<a name="ln2740">          pos = 1;</a>
<a name="ln2741">      </a>
<a name="ln2742">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2743">        gtk_list_store_set(store, &amp;iter, 0, &quot;show both&quot;, 1, C_(&quot;preferences&quot;, &quot;show both&quot;), -1);</a>
<a name="ln2744">        if(pos == -1 &amp;&amp; strcmp(str, &quot;show both&quot;) == 0)</a>
<a name="ln2745">          pos = 2;</a>
<a name="ln2746">      </a>
<a name="ln2747"> </a>
<a name="ln2748">    g_free(str);</a>
<a name="ln2749"> </a>
<a name="ln2750">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2751">    g_object_unref(store);</a>
<a name="ln2752">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2753">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2754">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2755">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2756">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm588), NULL);</a>
<a name="ln2757">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm588), widget);</a>
<a name="ln2758">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;show both&quot;));</a>
<a name="ln2759">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2760">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2761">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2762">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2763">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm588), (gpointer)widget);</a>
<a name="ln2764"> </a>
<a name="ln2765">  }</a>
<a name="ln2766"> </a>
<a name="ln2767">  {</a>
<a name="ln2768">    label = gtk_label_new(_(&quot;expand a single darkroom module at a time&quot;));</a>
<a name="ln2769">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2770">    labelev = gtk_event_box_new();</a>
<a name="ln2771">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2772">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2773">    widget = gtk_check_button_new();</a>
<a name="ln2774">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;darkroom/ui/single_module&quot;));</a>
<a name="ln2775">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1000), NULL);</a>
<a name="ln2776">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1000), widget);</a>
<a name="ln2777">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2778">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2779">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2780">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option toggles the behavior of shift clicking in darkroom mode&quot;), (gchar *)0);</a>
<a name="ln2781">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2782">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2783">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1000), (gpointer)widget);</a>
<a name="ln2784"> </a>
<a name="ln2785">  }</a>
<a name="ln2786"> </a>
<a name="ln2787">  {</a>
<a name="ln2788">    label = gtk_label_new(_(&quot;expand the module when it is activated, and collapse it when disabled&quot;));</a>
<a name="ln2789">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2790">    labelev = gtk_event_box_new();</a>
<a name="ln2791">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2792">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2793">    widget = gtk_check_button_new();</a>
<a name="ln2794">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;darkroom/ui/activate_expand&quot;));</a>
<a name="ln2795">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1006), NULL);</a>
<a name="ln2796">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1006), widget);</a>
<a name="ln2797">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2798">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2799">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2800">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option allows to expand or collapse automatically the module when it is enabled or disabled.&quot;), (gchar *)0);</a>
<a name="ln2801">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2802">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2803">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1006), (gpointer)widget);</a>
<a name="ln2804"> </a>
<a name="ln2805">  }</a>
<a name="ln2806"> </a>
<a name="ln2807">  {</a>
<a name="ln2808">    label = gtk_label_new(_(&quot;scroll to darkroom modules when expanded/collapsed&quot;));</a>
<a name="ln2809">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2810">    labelev = gtk_event_box_new();</a>
<a name="ln2811">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2812">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2813">    widget = gtk_check_button_new();</a>
<a name="ln2814">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;darkroom/ui/scroll_to_module&quot;));</a>
<a name="ln2815">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1054), NULL);</a>
<a name="ln2816">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1054), widget);</a>
<a name="ln2817">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2818">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2819">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2820">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when this option is enabled then darktable will try to scroll the module to the top of the visible list&quot;), (gchar *)0);</a>
<a name="ln2821">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2822">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2823">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1054), (gpointer)widget);</a>
<a name="ln2824"> </a>
<a name="ln2825">  }</a>
<a name="ln2826"> </a>
<a name="ln2827">  {</a>
<a name="ln2828">    label = gtk_label_new(_(&quot;border around image in darkroom mode&quot;));</a>
<a name="ln2829">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2830">    labelev = gtk_event_box_new();</a>
<a name="ln2831">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2832">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2833">    gint min = 0;</a>
<a name="ln2834">    gint max = G_MAXINT;</a>
<a name="ln2835">    float factor = 1.0f;</a>
<a name="ln2836">    double tmp;</a>
<a name="ln2837">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2838">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2839">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2840">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2841">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;plugins/darkroom/ui/border_size&quot;) * factor);</a>
<a name="ln2842">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm1066), NULL);</a>
<a name="ln2843">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1066), widget);</a>
<a name="ln2844">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(10 * factor));</a>
<a name="ln2845">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2846">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2847">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;process the image in darkroom mode with a small border. set to 0 if you don't want any border.&quot;), (gchar *)0);</a>
<a name="ln2848">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2849">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2850">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1066), (gpointer)widget);</a>
<a name="ln2851"> </a>
<a name="ln2852">  }</a>
<a name="ln2853"> </a>
<a name="ln2854">   {</a>
<a name="ln2855">      GtkWidget *seclabel = gtk_label_new(_(&quot;map / geolocalisation&quot;));</a>
<a name="ln2856">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2857">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2858">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2859">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2860">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2861">   }</a>
<a name="ln2862"> </a>
<a name="ln2863">  {</a>
<a name="ln2864">    label = gtk_label_new(_(&quot;only draw images on map that are currently collected and filtered&quot;));</a>
<a name="ln2865">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2866">    labelev = gtk_event_box_new();</a>
<a name="ln2867">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2868">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2869">    widget = gtk_check_button_new();</a>
<a name="ln2870">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/map/filter_images_drawn&quot;));</a>
<a name="ln2871">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm964), NULL);</a>
<a name="ln2872">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm964), widget);</a>
<a name="ln2873">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2874">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2875">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2876">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;use the current filter settings to select the geotagged images drawn on the map, i.e. limit the images drawn to the current filmstrip. this limits the number of images drawn and thus reduces the time needed to draw the images.&quot;), (gchar *)0);</a>
<a name="ln2877">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2878">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2879">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm964), (gpointer)widget);</a>
<a name="ln2880"> </a>
<a name="ln2881">  }</a>
<a name="ln2882"> </a>
<a name="ln2883">  {</a>
<a name="ln2884">    label = gtk_label_new(_(&quot;maximum number of images drawn on map&quot;));</a>
<a name="ln2885">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2886">    labelev = gtk_event_box_new();</a>
<a name="ln2887">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2888">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2889">    gint min = 0;</a>
<a name="ln2890">    gint max = G_MAXINT;</a>
<a name="ln2891">    float factor = 1.0f;</a>
<a name="ln2892">    double tmp;</a>
<a name="ln2893">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2894">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2895">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2896">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2897">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;plugins/map/max_images_drawn&quot;) * factor);</a>
<a name="ln2898">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm970), NULL);</a>
<a name="ln2899">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm970), widget);</a>
<a name="ln2900">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(100 * factor));</a>
<a name="ln2901">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2902">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2903">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the maximum number of geotagged images drawn on the map. increasing this number can slow drawing of the map down.&quot;), (gchar *)0);</a>
<a name="ln2904">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2905">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2906">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm970), (gpointer)widget);</a>
<a name="ln2907"> </a>
<a name="ln2908">  }</a>
<a name="ln2909"> </a>
<a name="ln2910">  {</a>
<a name="ln2911">    label = gtk_label_new(_(&quot;pretty print the image location&quot;));</a>
<a name="ln2912">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2913">    labelev = gtk_event_box_new();</a>
<a name="ln2914">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2915">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2916">    widget = gtk_check_button_new();</a>
<a name="ln2917">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/metadata_view/pretty_location&quot;));</a>
<a name="ln2918">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm976), NULL);</a>
<a name="ln2919">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm976), widget);</a>
<a name="ln2920">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2921">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2922">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2923">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;show a more readable representation of the location in the image information module&quot;), (gchar *)0);</a>
<a name="ln2924">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2925">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2926">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm976), (gpointer)widget);</a>
<a name="ln2927"> </a>
<a name="ln2928">  }</a>
<a name="ln2929"> </a>
<a name="ln2930">   {</a>
<a name="ln2931">      GtkWidget *seclabel = gtk_label_new(_(&quot;security&quot;));</a>
<a name="ln2932">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2933">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2934">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2935">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2936">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2937">   }</a>
<a name="ln2938"> </a>
<a name="ln2939">  {</a>
<a name="ln2940">    label = gtk_label_new(_(&quot;ask before removing images from database&quot;));</a>
<a name="ln2941">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2942">    labelev = gtk_event_box_new();</a>
<a name="ln2943">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2944">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2945">    widget = gtk_check_button_new();</a>
<a name="ln2946">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_remove&quot;));</a>
<a name="ln2947">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm228), NULL);</a>
<a name="ln2948">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm228), widget);</a>
<a name="ln2949">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2950">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2951">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2952">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image is removed from DB.&quot;), (gchar *)0);</a>
<a name="ln2953">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2954">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2955">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm228), (gpointer)widget);</a>
<a name="ln2956"> </a>
<a name="ln2957">  }</a>
<a name="ln2958"> </a>
<a name="ln2959">  {</a>
<a name="ln2960">    label = gtk_label_new(_(&quot;ask before erasing images from disk / discarding history stack&quot;));</a>
<a name="ln2961">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2962">    labelev = gtk_event_box_new();</a>
<a name="ln2963">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2964">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2965">    widget = gtk_check_button_new();</a>
<a name="ln2966">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_delete&quot;));</a>
<a name="ln2967">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm234), NULL);</a>
<a name="ln2968">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm234), widget);</a>
<a name="ln2969">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2970">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2971">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2972">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image file is deleted / history stack is discarded.&quot;), (gchar *)0);</a>
<a name="ln2973">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2974">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2975">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm234), (gpointer)widget);</a>
<a name="ln2976"> </a>
<a name="ln2977">  }</a>
<a name="ln2978"> </a>
<a name="ln2979">  {</a>
<a name="ln2980">    label = gtk_label_new(_(&quot;send files to trash when erasing images&quot;));</a>
<a name="ln2981">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2982">    labelev = gtk_event_box_new();</a>
<a name="ln2983">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2984">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2985">    widget = gtk_check_button_new();</a>
<a name="ln2986">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;send_to_trash&quot;));</a>
<a name="ln2987">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm240), NULL);</a>
<a name="ln2988">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm240), widget);</a>
<a name="ln2989">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2990">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2991">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2992">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;send files to trash instead of permanently deleting files on system that supports it&quot;), (gchar *)0);</a>
<a name="ln2993">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2994">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2995">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm240), (gpointer)widget);</a>
<a name="ln2996"> </a>
<a name="ln2997">  }</a>
<a name="ln2998"> </a>
<a name="ln2999">  {</a>
<a name="ln3000">    label = gtk_label_new(_(&quot;ask before moving images from film roll folder&quot;));</a>
<a name="ln3001">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3002">    labelev = gtk_event_box_new();</a>
<a name="ln3003">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3004">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3005">    widget = gtk_check_button_new();</a>
<a name="ln3006">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_move&quot;));</a>
<a name="ln3007">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm246), NULL);</a>
<a name="ln3008">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm246), widget);</a>
<a name="ln3009">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3010">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3011">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3012">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image file is moved.&quot;), (gchar *)0);</a>
<a name="ln3013">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3014">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3015">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm246), (gpointer)widget);</a>
<a name="ln3016"> </a>
<a name="ln3017">  }</a>
<a name="ln3018"> </a>
<a name="ln3019">  {</a>
<a name="ln3020">    label = gtk_label_new(_(&quot;ask before copying images to new film roll folder&quot;));</a>
<a name="ln3021">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3022">    labelev = gtk_event_box_new();</a>
<a name="ln3023">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3024">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3025">    widget = gtk_check_button_new();</a>
<a name="ln3026">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_copy&quot;));</a>
<a name="ln3027">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm252), NULL);</a>
<a name="ln3028">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm252), widget);</a>
<a name="ln3029">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3030">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3031">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3032">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image file is copied.&quot;), (gchar *)0);</a>
<a name="ln3033">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3034">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3035">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm252), (gpointer)widget);</a>
<a name="ln3036"> </a>
<a name="ln3037">  }</a>
<a name="ln3038"> </a>
<a name="ln3039">  {</a>
<a name="ln3040">    label = gtk_label_new(_(&quot;ask before removing empty folders&quot;));</a>
<a name="ln3041">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3042">    labelev = gtk_event_box_new();</a>
<a name="ln3043">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3044">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3045">    widget = gtk_check_button_new();</a>
<a name="ln3046">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_rmdir&quot;));</a>
<a name="ln3047">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm258), NULL);</a>
<a name="ln3048">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm258), widget);</a>
<a name="ln3049">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3050">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3051">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3052">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before removing any empty folder. this can happen after moving or deleting images.&quot;), (gchar *)0);</a>
<a name="ln3053">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3054">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3055">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm258), (gpointer)widget);</a>
<a name="ln3056"> </a>
<a name="ln3057">  }</a>
<a name="ln3058"> </a>
<a name="ln3059">  {</a>
<a name="ln3060">    label = gtk_label_new(_(&quot;ask before deleting a tag&quot;));</a>
<a name="ln3061">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3062">    labelev = gtk_event_box_new();</a>
<a name="ln3063">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3064">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3065">    widget = gtk_check_button_new();</a>
<a name="ln3066">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/tagging/ask_before_delete_tag&quot;));</a>
<a name="ln3067">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm934), NULL);</a>
<a name="ln3068">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm934), widget);</a>
<a name="ln3069">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3070">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3071">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3072">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3073">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3074">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm934), (gpointer)widget);</a>
<a name="ln3075"> </a>
<a name="ln3076">  }</a>
<a name="ln3077"> </a>
<a name="ln3078">  {</a>
<a name="ln3079">    label = gtk_label_new(_(&quot;ask before deleting a style&quot;));</a>
<a name="ln3080">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3081">    labelev = gtk_event_box_new();</a>
<a name="ln3082">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3083">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3084">    widget = gtk_check_button_new();</a>
<a name="ln3085">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/style/ask_before_delete_style&quot;));</a>
<a name="ln3086">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm940), NULL);</a>
<a name="ln3087">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm940), widget);</a>
<a name="ln3088">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3089">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3090">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3091">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3092">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3093">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm940), (gpointer)widget);</a>
<a name="ln3094"> </a>
<a name="ln3095">  }</a>
<a name="ln3096"> </a>
<a name="ln3097">   {</a>
<a name="ln3098">      GtkWidget *seclabel = gtk_label_new(_(&quot;miscellaneous&quot;));</a>
<a name="ln3099">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3100">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3101">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3102">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3103">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3104">   }</a>
<a name="ln3105"> </a>
<a name="ln3106">  {</a>
<a name="ln3107">    label = gtk_label_new(_(&quot;width of the side panels in pixels&quot;));</a>
<a name="ln3108">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3109">    labelev = gtk_event_box_new();</a>
<a name="ln3110">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3111">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3112">    gint min = 0;</a>
<a name="ln3113">    gint max = G_MAXINT;</a>
<a name="ln3114">    float factor = 1.0f;</a>
<a name="ln3115">    double tmp;</a>
<a name="ln3116">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3117">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3118">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3119">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3120">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;panel_width&quot;) * factor);</a>
<a name="ln3121">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm14), NULL);</a>
<a name="ln3122">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm14), widget);</a>
<a name="ln3123">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(350 * factor));</a>
<a name="ln3124">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3125">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3126">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;(needs a restart)&quot;), (gchar *)0);</a>
<a name="ln3127">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3128">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3129">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm14), (gpointer)widget);</a>
<a name="ln3130"> </a>
<a name="ln3131">  }</a>
<a name="ln3132"> </a>
<a name="ln3133">  {</a>
<a name="ln3134">    label = gtk_label_new(_(&quot;waiting time between each picture in slideshow&quot;));</a>
<a name="ln3135">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3136">    labelev = gtk_event_box_new();</a>
<a name="ln3137">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3138">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3139">    gint min = 0;</a>
<a name="ln3140">    gint max = G_MAXINT;</a>
<a name="ln3141">    float factor = 1.0f;</a>
<a name="ln3142">    double tmp;</a>
<a name="ln3143">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3144">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3145">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3146">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3147">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;slideshow_delay&quot;) * factor);</a>
<a name="ln3148">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm20), NULL);</a>
<a name="ln3149">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm20), widget);</a>
<a name="ln3150">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(5 * factor));</a>
<a name="ln3151">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3152">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3153">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3154">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3155">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm20), (gpointer)widget);</a>
<a name="ln3156"> </a>
<a name="ln3157">  }</a>
<a name="ln3158"> </a>
<a name="ln3159">  {</a>
<a name="ln3160">    label = gtk_label_new(_(&quot;do not show april 1st game&quot;));</a>
<a name="ln3161">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3162">    labelev = gtk_event_box_new();</a>
<a name="ln3163">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3164">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3165">    widget = gtk_check_button_new();</a>
<a name="ln3166">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ui_last/no_april1st&quot;));</a>
<a name="ln3167">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm25), NULL);</a>
<a name="ln3168">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm25), widget);</a>
<a name="ln3169">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3170">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3171">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3172">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3173">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3174">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm25), (gpointer)widget);</a>
<a name="ln3175"> </a>
<a name="ln3176">  }</a>
<a name="ln3177"> </a>
<a name="ln3178">  {</a>
<a name="ln3179">    label = gtk_label_new(_(&quot;number of folder levels to show in lists&quot;));</a>
<a name="ln3180">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3181">    labelev = gtk_event_box_new();</a>
<a name="ln3182">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3183">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3184">    gint min = 0;</a>
<a name="ln3185">    gint max = G_MAXINT;</a>
<a name="ln3186">    float factor = 1.0f;</a>
<a name="ln3187">    double tmp;</a>
<a name="ln3188">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3189">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3190">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3191">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3192">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;show_folder_levels&quot;) * factor);</a>
<a name="ln3193">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm264), NULL);</a>
<a name="ln3194">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm264), widget);</a>
<a name="ln3195">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(1 * factor));</a>
<a name="ln3196">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3197">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3198">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the number of folder levels to show in film roll names, starting from the right&quot;), (gchar *)0);</a>
<a name="ln3199">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3200">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3201">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm264), (gpointer)widget);</a>
<a name="ln3202"> </a>
<a name="ln3203">  }</a>
<a name="ln3204"> </a>
<a name="ln3205">  {</a>
<a name="ln3206">    label = gtk_label_new(_(&quot;enable filmstrip&quot;));</a>
<a name="ln3207">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3208">    labelev = gtk_event_box_new();</a>
<a name="ln3209">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3210">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3211">    widget = gtk_check_button_new();</a>
<a name="ln3212">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/filmstrip/visible&quot;));</a>
<a name="ln3213">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm480), NULL);</a>
<a name="ln3214">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm480), widget);</a>
<a name="ln3215">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3216">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3217">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3218">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;enable the filmstrip in darkroom, tethering and map modes.&quot;), (gchar *)0);</a>
<a name="ln3219">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3220">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3221">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm480), (gpointer)widget);</a>
<a name="ln3222"> </a>
<a name="ln3223">  }</a>
<a name="ln3224"> </a>
<a name="ln3225">  {</a>
<a name="ln3226">    label = gtk_label_new(_(&quot;enable timeline&quot;));</a>
<a name="ln3227">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3228">    labelev = gtk_event_box_new();</a>
<a name="ln3229">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3230">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3231">    widget = gtk_check_button_new();</a>
<a name="ln3232">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/timeline/visible&quot;));</a>
<a name="ln3233">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm492), NULL);</a>
<a name="ln3234">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm492), widget);</a>
<a name="ln3235">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3236">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3237">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3238">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;enable the timeline in lighttable mode.&quot;), (gchar *)0);</a>
<a name="ln3239">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3240">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3241">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm492), (gpointer)widget);</a>
<a name="ln3242"> </a>
<a name="ln3243">  }</a>
<a name="ln3244"> </a>
<a name="ln3245">  {</a>
<a name="ln3246">    label = gtk_label_new(_(&quot;overlay txt sidecar over zoomed images&quot;));</a>
<a name="ln3247">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3248">    labelev = gtk_event_box_new();</a>
<a name="ln3249">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3250">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3251">    widget = gtk_check_button_new();</a>
<a name="ln3252">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/draw_custom_metadata&quot;));</a>
<a name="ln3253">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm982), NULL);</a>
<a name="ln3254">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm982), widget);</a>
<a name="ln3255">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3256">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3257">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3258">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when there is a txt file next to an image it can be shown as an overlay over zoomed images on the lighttable. the txt file either has to be there at import time or the crawler has to be enabled&quot;), (gchar *)0);</a>
<a name="ln3259">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3260">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3261">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm982), (gpointer)widget);</a>
<a name="ln3262"> </a>
<a name="ln3263">  }</a>
<a name="ln3264"> </a>
<a name="ln3265">  {</a>
<a name="ln3266">    label = gtk_label_new(_(&quot;mouse wheel scrolls modules side panel by default&quot;));</a>
<a name="ln3267">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3268">    labelev = gtk_event_box_new();</a>
<a name="ln3269">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3270">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3271">    widget = gtk_check_button_new();</a>
<a name="ln3272">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;darkroom/ui/sidebar_scroll_default&quot;));</a>
<a name="ln3273">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1060), NULL);</a>
<a name="ln3274">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1060), widget);</a>
<a name="ln3275">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3276">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3277">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3278">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when enabled, use mouse wheel to scroll modules side panel.  use ctrl+alt to use mouse wheel for data entry.  when disabled, this behavior is reversed&quot;), (gchar *)0);</a>
<a name="ln3279">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3280">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3281">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1060), (gpointer)widget);</a>
<a name="ln3282"> </a>
<a name="ln3283">  }</a>
<a name="ln3284"> </a>
<a name="ln3285">  {</a>
<a name="ln3286">    label = gtk_label_new(_(&quot;show scrollbars for center view&quot;));</a>
<a name="ln3287">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3288">    labelev = gtk_event_box_new();</a>
<a name="ln3289">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3290">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3291">    GtkTreeIter iter;</a>
<a name="ln3292">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3293">    gchar *str = dt_conf_get_string(&quot;scrollbars&quot;);</a>
<a name="ln3294">    gint pos = -1;</a>
<a name="ln3295"> </a>
<a name="ln3296">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3297">        gtk_list_store_set(store, &amp;iter, 0, &quot;no scrollbars&quot;, 1, C_(&quot;preferences&quot;, &quot;no scrollbars&quot;), -1);</a>
<a name="ln3298">        if(pos == -1 &amp;&amp; strcmp(str, &quot;no scrollbars&quot;) == 0)</a>
<a name="ln3299">          pos = 0;</a>
<a name="ln3300">      </a>
<a name="ln3301">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3302">        gtk_list_store_set(store, &amp;iter, 0, &quot;lighttable&quot;, 1, C_(&quot;preferences&quot;, &quot;lighttable&quot;), -1);</a>
<a name="ln3303">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lighttable&quot;) == 0)</a>
<a name="ln3304">          pos = 1;</a>
<a name="ln3305">      </a>
<a name="ln3306">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3307">        gtk_list_store_set(store, &amp;iter, 0, &quot;lighttable + darkroom&quot;, 1, C_(&quot;preferences&quot;, &quot;lighttable + darkroom&quot;), -1);</a>
<a name="ln3308">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lighttable + darkroom&quot;) == 0)</a>
<a name="ln3309">          pos = 2;</a>
<a name="ln3310">      </a>
<a name="ln3311"> </a>
<a name="ln3312">    g_free(str);</a>
<a name="ln3313"> </a>
<a name="ln3314">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3315">    g_object_unref(store);</a>
<a name="ln3316">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3317">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3318">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3319">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3320">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1072), NULL);</a>
<a name="ln3321">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1072), widget);</a>
<a name="ln3322">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;lighttable&quot;));</a>
<a name="ln3323">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3324">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3325">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines where scrollbars should be displayed&quot;), (gchar *)0);</a>
<a name="ln3326">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3327">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3328">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1072), (gpointer)widget);</a>
<a name="ln3329"> </a>
<a name="ln3330">  }</a>
<a name="ln3331"> </a>
<a name="ln3332">  {</a>
<a name="ln3333">    label = gtk_label_new(_(&quot;always show panels' scrollbars&quot;));</a>
<a name="ln3334">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3335">    labelev = gtk_event_box_new();</a>
<a name="ln3336">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3337">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3338">    widget = gtk_check_button_new();</a>
<a name="ln3339">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;panel_scrollbars_always_visible&quot;));</a>
<a name="ln3340">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1082), NULL);</a>
<a name="ln3341">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1082), widget);</a>
<a name="ln3342">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3343">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3344">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3345">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines whether the panel scrollbars should be always visible or activated only depending on the content.  (need a restart)&quot;), (gchar *)0);</a>
<a name="ln3346">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3347">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3348">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1082), (gpointer)widget);</a>
<a name="ln3349"> </a>
<a name="ln3350">  }</a>
<a name="ln3351"> </a>
<a name="ln3352">  {</a>
<a name="ln3353">    label = gtk_label_new(_(&quot;method to use for getting the display profile&quot;));</a>
<a name="ln3354">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3355">    labelev = gtk_event_box_new();</a>
<a name="ln3356">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3357">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3358">    GtkTreeIter iter;</a>
<a name="ln3359">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3360">    gchar *str = dt_conf_get_string(&quot;ui_last/display_profile_source&quot;);</a>
<a name="ln3361">    gint pos = -1;</a>
<a name="ln3362"> </a>
<a name="ln3363">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3364">        gtk_list_store_set(store, &amp;iter, 0, &quot;all&quot;, 1, C_(&quot;preferences&quot;, &quot;all&quot;), -1);</a>
<a name="ln3365">        if(pos == -1 &amp;&amp; strcmp(str, &quot;all&quot;) == 0)</a>
<a name="ln3366">          pos = 0;</a>
<a name="ln3367">      </a>
<a name="ln3368">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3369">        gtk_list_store_set(store, &amp;iter, 0, &quot;xatom&quot;, 1, C_(&quot;preferences&quot;, &quot;xatom&quot;), -1);</a>
<a name="ln3370">        if(pos == -1 &amp;&amp; strcmp(str, &quot;xatom&quot;) == 0)</a>
<a name="ln3371">          pos = 1;</a>
<a name="ln3372">      </a>
<a name="ln3373">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3374">        gtk_list_store_set(store, &amp;iter, 0, &quot;colord&quot;, 1, C_(&quot;preferences&quot;, &quot;colord&quot;), -1);</a>
<a name="ln3375">        if(pos == -1 &amp;&amp; strcmp(str, &quot;colord&quot;) == 0)</a>
<a name="ln3376">          pos = 2;</a>
<a name="ln3377">      </a>
<a name="ln3378"> </a>
<a name="ln3379">    g_free(str);</a>
<a name="ln3380"> </a>
<a name="ln3381">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3382">    g_object_unref(store);</a>
<a name="ln3383">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3384">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3385">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3386">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3387">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1586), NULL);</a>
<a name="ln3388">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1586), widget);</a>
<a name="ln3389">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;all&quot;));</a>
<a name="ln3390">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3391">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3392">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option allows to force a specific means of getting the current display profile. this is useful when one alternative gives wrong results&quot;), (gchar *)0);</a>
<a name="ln3393">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3394">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3395">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1586), (gpointer)widget);</a>
<a name="ln3396"> </a>
<a name="ln3397">  }</a>
<a name="ln3398"> </a>
<a name="ln3399">  gtk_widget_show_all(tab);</a>
<a name="ln3400">}</a>
<a name="ln3401"> </a>
<a name="ln3402">static void</a>
<a name="ln3403">init_tab_core (GtkWidget *dialog, GtkWidget *tab, void (*hardcoded_part)(GtkWidget *grid, int *line))</a>
<a name="ln3404">{</a>
<a name="ln3405">  GtkWidget *widget, *label, *labelev, *viewport;</a>
<a name="ln3406">  GtkWidget *grid = gtk_grid_new();</a>
<a name="ln3407">  gtk_grid_set_row_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln3408">  gtk_grid_set_column_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln3409">  gtk_widget_set_valign(grid, GTK_ALIGN_START);</a>
<a name="ln3410">  int line = 0;</a>
<a name="ln3411">  char tooltip[1024];</a>
<a name="ln3412">  GtkWidget *scroll = gtk_scrolled_window_new(NULL, NULL);</a>
<a name="ln3413">  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(scroll), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);</a>
<a name="ln3414">  viewport = gtk_viewport_new(NULL, NULL);</a>
<a name="ln3415">  gtk_viewport_set_shadow_type(GTK_VIEWPORT(viewport), GTK_SHADOW_NONE); // doesn't seem to work from gtkrc</a>
<a name="ln3416">  gtk_container_add(GTK_CONTAINER(scroll), viewport);</a>
<a name="ln3417">  gtk_container_add(GTK_CONTAINER(viewport), grid);</a>
<a name="ln3418"> </a>
<a name="ln3419">  if(hardcoded_part)</a>
<a name="ln3420">    (*hardcoded_part)(grid, &amp;line);</a>
<a name="ln3421">  gtk_notebook_append_page(GTK_NOTEBOOK(tab), scroll, gtk_label_new(_(&quot;core options&quot;)));</a>
<a name="ln3422"> </a>
<a name="ln3423">   {</a>
<a name="ln3424">      GtkWidget *seclabel = gtk_label_new(_(&quot;quality&quot;));</a>
<a name="ln3425">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3426">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3427">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3428">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3429">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3430">   }</a>
<a name="ln3431"> </a>
<a name="ln3432">  {</a>
<a name="ln3433">    label = gtk_label_new(_(&quot;color manage cached thumbnails&quot;));</a>
<a name="ln3434">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3435">    labelev = gtk_event_box_new();</a>
<a name="ln3436">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3437">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3438">    widget = gtk_check_button_new();</a>
<a name="ln3439">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;cache_color_managed&quot;));</a>
<a name="ln3440">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm48), NULL);</a>
<a name="ln3441">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm48), widget);</a>
<a name="ln3442">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3443">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3444">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3445">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if enabled, cached thumbnails will be color managed so that lighttable and filmstrip can show correct colors. otherwise the results may look wrong once the display profile gets changed.&quot;), (gchar *)0);</a>
<a name="ln3446">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3447">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3448">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm48), (gpointer)widget);</a>
<a name="ln3449"> </a>
<a name="ln3450">  }</a>
<a name="ln3451"> </a>
<a name="ln3452">  {</a>
<a name="ln3453">    label = gtk_label_new(_(&quot;always use LittleCMS 2 to apply output color profile&quot;));</a>
<a name="ln3454">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3455">    labelev = gtk_event_box_new();</a>
<a name="ln3456">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3457">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3458">    widget = gtk_check_button_new();</a>
<a name="ln3459">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/export/force_lcms2&quot;));</a>
<a name="ln3460">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1118), NULL);</a>
<a name="ln3461">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1118), widget);</a>
<a name="ln3462">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3463">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3464">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3465">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this is slower than the default.&quot;), (gchar *)0);</a>
<a name="ln3466">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3467">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3468">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1118), (gpointer)widget);</a>
<a name="ln3469"> </a>
<a name="ln3470">  }</a>
<a name="ln3471"> </a>
<a name="ln3472">  {</a>
<a name="ln3473">    label = gtk_label_new(_(&quot;do high quality processing for slideshow&quot;));</a>
<a name="ln3474">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3475">    labelev = gtk_event_box_new();</a>
<a name="ln3476">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3477">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3478">    widget = gtk_check_button_new();</a>
<a name="ln3479">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/slideshow/high_quality&quot;));</a>
<a name="ln3480">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1124), NULL);</a>
<a name="ln3481">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1124), widget);</a>
<a name="ln3482">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3483">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3484">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3485">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;same option as for export, but applies to slideshow.&quot;), (gchar *)0);</a>
<a name="ln3486">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3487">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3488">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1124), (gpointer)widget);</a>
<a name="ln3489"> </a>
<a name="ln3490">  }</a>
<a name="ln3491"> </a>
<a name="ln3492">  {</a>
<a name="ln3493">    label = gtk_label_new(_(&quot;demosaicing for zoomed out darkroom mode&quot;));</a>
<a name="ln3494">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3495">    labelev = gtk_event_box_new();</a>
<a name="ln3496">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3497">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3498">    GtkTreeIter iter;</a>
<a name="ln3499">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3500">    gchar *str = dt_conf_get_string(&quot;plugins/darkroom/demosaic/quality&quot;);</a>
<a name="ln3501">    gint pos = -1;</a>
<a name="ln3502"> </a>
<a name="ln3503">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3504">        gtk_list_store_set(store, &amp;iter, 0, &quot;always bilinear (fast)&quot;, 1, C_(&quot;preferences&quot;, &quot;always bilinear (fast)&quot;), -1);</a>
<a name="ln3505">        if(pos == -1 &amp;&amp; strcmp(str, &quot;always bilinear (fast)&quot;) == 0)</a>
<a name="ln3506">          pos = 0;</a>
<a name="ln3507">      </a>
<a name="ln3508">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3509">        gtk_list_store_set(store, &amp;iter, 0, &quot;at most PPG (reasonable)&quot;, 1, C_(&quot;preferences&quot;, &quot;at most PPG (reasonable)&quot;), -1);</a>
<a name="ln3510">        if(pos == -1 &amp;&amp; strcmp(str, &quot;at most PPG (reasonable)&quot;) == 0)</a>
<a name="ln3511">          pos = 1;</a>
<a name="ln3512">      </a>
<a name="ln3513">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3514">        gtk_list_store_set(store, &amp;iter, 0, &quot;full (possibly slow)&quot;, 1, C_(&quot;preferences&quot;, &quot;full (possibly slow)&quot;), -1);</a>
<a name="ln3515">        if(pos == -1 &amp;&amp; strcmp(str, &quot;full (possibly slow)&quot;) == 0)</a>
<a name="ln3516">          pos = 2;</a>
<a name="ln3517">      </a>
<a name="ln3518"> </a>
<a name="ln3519">    g_free(str);</a>
<a name="ln3520"> </a>
<a name="ln3521">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3522">    g_object_unref(store);</a>
<a name="ln3523">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3524">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3525">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3526">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3527">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1190), NULL);</a>
<a name="ln3528">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1190), widget);</a>
<a name="ln3529">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;at most PPG (reasonable)&quot;));</a>
<a name="ln3530">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3531">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3532">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;interpolation when not viewing 1:1 in darkroom mode: bilinear is fastest, but not as sharp. middle ground is using PPG + interpolation modes specified below, full will use exactly the settings for full-size export. X-Trans sensors use VNG rather than PPG as middle ground.&quot;), (gchar *)0);</a>
<a name="ln3533">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3534">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3535">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1190), (gpointer)widget);</a>
<a name="ln3536"> </a>
<a name="ln3537">  }</a>
<a name="ln3538"> </a>
<a name="ln3539">  {</a>
<a name="ln3540">    label = gtk_label_new(_(&quot;pixel interpolator&quot;));</a>
<a name="ln3541">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3542">    labelev = gtk_event_box_new();</a>
<a name="ln3543">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3544">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3545">    GtkTreeIter iter;</a>
<a name="ln3546">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3547">    gchar *str = dt_conf_get_string(&quot;plugins/lighttable/export/pixel_interpolator&quot;);</a>
<a name="ln3548">    gint pos = -1;</a>
<a name="ln3549"> </a>
<a name="ln3550">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3551">        gtk_list_store_set(store, &amp;iter, 0, &quot;bilinear&quot;, 1, C_(&quot;preferences&quot;, &quot;bilinear&quot;), -1);</a>
<a name="ln3552">        if(pos == -1 &amp;&amp; strcmp(str, &quot;bilinear&quot;) == 0)</a>
<a name="ln3553">          pos = 0;</a>
<a name="ln3554">      </a>
<a name="ln3555">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3556">        gtk_list_store_set(store, &amp;iter, 0, &quot;bicubic&quot;, 1, C_(&quot;preferences&quot;, &quot;bicubic&quot;), -1);</a>
<a name="ln3557">        if(pos == -1 &amp;&amp; strcmp(str, &quot;bicubic&quot;) == 0)</a>
<a name="ln3558">          pos = 1;</a>
<a name="ln3559">      </a>
<a name="ln3560">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3561">        gtk_list_store_set(store, &amp;iter, 0, &quot;lanczos2&quot;, 1, C_(&quot;preferences&quot;, &quot;lanczos2&quot;), -1);</a>
<a name="ln3562">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lanczos2&quot;) == 0)</a>
<a name="ln3563">          pos = 2;</a>
<a name="ln3564">      </a>
<a name="ln3565">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3566">        gtk_list_store_set(store, &amp;iter, 0, &quot;lanczos3&quot;, 1, C_(&quot;preferences&quot;, &quot;lanczos3&quot;), -1);</a>
<a name="ln3567">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lanczos3&quot;) == 0)</a>
<a name="ln3568">          pos = 3;</a>
<a name="ln3569">      </a>
<a name="ln3570"> </a>
<a name="ln3571">    g_free(str);</a>
<a name="ln3572"> </a>
<a name="ln3573">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3574">    g_object_unref(store);</a>
<a name="ln3575">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3576">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3577">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3578">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3579">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1200), NULL);</a>
<a name="ln3580">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1200), widget);</a>
<a name="ln3581">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;lanczos3&quot;));</a>
<a name="ln3582">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3583">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3584">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;pixel interpolator used in rotation and lens correction (bilinear, bicubic, lanczos2, lanczos3).&quot;), (gchar *)0);</a>
<a name="ln3585">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3586">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3587">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1200), (gpointer)widget);</a>
<a name="ln3588"> </a>
<a name="ln3589">  }</a>
<a name="ln3590"> </a>
<a name="ln3591">  {</a>
<a name="ln3592">    label = gtk_label_new(_(&quot;auto-apply basecurve&quot;));</a>
<a name="ln3593">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3594">    labelev = gtk_event_box_new();</a>
<a name="ln3595">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3596">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3597">    widget = gtk_check_button_new();</a>
<a name="ln3598">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/darkroom/basecurve/auto_apply&quot;));</a>
<a name="ln3599">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1620), NULL);</a>
<a name="ln3600">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1620), widget);</a>
<a name="ln3601">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3602">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3603">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3604">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;use a basecurve by default (needs a restart)&quot;), (gchar *)0);</a>
<a name="ln3605">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3606">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3607">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1620), (gpointer)widget);</a>
<a name="ln3608"> </a>
<a name="ln3609">  }</a>
<a name="ln3610"> </a>
<a name="ln3611">  {</a>
<a name="ln3612">    label = gtk_label_new(_(&quot;auto-apply per camera basecurve presets&quot;));</a>
<a name="ln3613">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3614">    labelev = gtk_event_box_new();</a>
<a name="ln3615">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3616">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3617">    widget = gtk_check_button_new();</a>
<a name="ln3618">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/darkroom/basecurve/auto_apply_percamera_presets&quot;));</a>
<a name="ln3619">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1626), NULL);</a>
<a name="ln3620">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1626), widget);</a>
<a name="ln3621">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3622">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3623">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3624">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;use the per-camera basecurve by default instead of the generic manufacturer one if there is one available (needs a restart)&quot;), (gchar *)0);</a>
<a name="ln3625">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3626">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3627">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1626), (gpointer)widget);</a>
<a name="ln3628"> </a>
<a name="ln3629">  }</a>
<a name="ln3630"> </a>
<a name="ln3631">  {</a>
<a name="ln3632">    label = gtk_label_new(_(&quot;auto-apply sharpen&quot;));</a>
<a name="ln3633">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3634">    labelev = gtk_event_box_new();</a>
<a name="ln3635">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3636">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3637">    widget = gtk_check_button_new();</a>
<a name="ln3638">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/darkroom/sharpen/auto_apply&quot;));</a>
<a name="ln3639">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1632), NULL);</a>
<a name="ln3640">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1632), widget);</a>
<a name="ln3641">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3642">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3643">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3644">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this added sharpen is not recommended on cameras without a low-pass filter. the default is to not add any sharpening automatically as most recent cameras have no low-pass filter. (need a restart)&quot;), (gchar *)0);</a>
<a name="ln3645">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3646">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3647">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1632), (gpointer)widget);</a>
<a name="ln3648"> </a>
<a name="ln3649">  }</a>
<a name="ln3650"> </a>
<a name="ln3651">   {</a>
<a name="ln3652">      GtkWidget *seclabel = gtk_label_new(_(&quot;xmp&quot;));</a>
<a name="ln3653">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3654">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3655">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3656">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3657">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3658">   }</a>
<a name="ln3659"> </a>
<a name="ln3660">  {</a>
<a name="ln3661">    label = gtk_label_new(_(&quot;write sidecar file for each image&quot;));</a>
<a name="ln3662">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3663">    labelev = gtk_event_box_new();</a>
<a name="ln3664">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3665">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3666">    widget = gtk_check_button_new();</a>
<a name="ln3667">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;write_sidecar_files&quot;));</a>
<a name="ln3668">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm150), NULL);</a>
<a name="ln3669">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm150), widget);</a>
<a name="ln3670">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3671">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3672">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3673">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;these redundant files can later be re-imported into a different database, preserving your changes to the image.&quot;), (gchar *)0);</a>
<a name="ln3674">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3675">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3676">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm150), (gpointer)widget);</a>
<a name="ln3677"> </a>
<a name="ln3678">  }</a>
<a name="ln3679"> </a>
<a name="ln3680">  {</a>
<a name="ln3681">    label = gtk_label_new(_(&quot;store xmp tags in compressed format&quot;));</a>
<a name="ln3682">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3683">    labelev = gtk_event_box_new();</a>
<a name="ln3684">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3685">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3686">    GtkTreeIter iter;</a>
<a name="ln3687">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3688">    gchar *str = dt_conf_get_string(&quot;compress_xmp_tags&quot;);</a>
<a name="ln3689">    gint pos = -1;</a>
<a name="ln3690"> </a>
<a name="ln3691">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3692">        gtk_list_store_set(store, &amp;iter, 0, &quot;never&quot;, 1, C_(&quot;preferences&quot;, &quot;never&quot;), -1);</a>
<a name="ln3693">        if(pos == -1 &amp;&amp; strcmp(str, &quot;never&quot;) == 0)</a>
<a name="ln3694">          pos = 0;</a>
<a name="ln3695">      </a>
<a name="ln3696">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3697">        gtk_list_store_set(store, &amp;iter, 0, &quot;always&quot;, 1, C_(&quot;preferences&quot;, &quot;always&quot;), -1);</a>
<a name="ln3698">        if(pos == -1 &amp;&amp; strcmp(str, &quot;always&quot;) == 0)</a>
<a name="ln3699">          pos = 1;</a>
<a name="ln3700">      </a>
<a name="ln3701">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3702">        gtk_list_store_set(store, &amp;iter, 0, &quot;only large entries&quot;, 1, C_(&quot;preferences&quot;, &quot;only large entries&quot;), -1);</a>
<a name="ln3703">        if(pos == -1 &amp;&amp; strcmp(str, &quot;only large entries&quot;) == 0)</a>
<a name="ln3704">          pos = 2;</a>
<a name="ln3705">      </a>
<a name="ln3706"> </a>
<a name="ln3707">    g_free(str);</a>
<a name="ln3708"> </a>
<a name="ln3709">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3710">    g_object_unref(store);</a>
<a name="ln3711">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3712">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3713">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3714">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3715">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm156), NULL);</a>
<a name="ln3716">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm156), widget);</a>
<a name="ln3717">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;only large entries&quot;));</a>
<a name="ln3718">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3719">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3720">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;entries in xmp tags can get rather large and may exceed the available space to store the history stack in output files. this option allows xmp tags to be compressed and save space.&quot;), (gchar *)0);</a>
<a name="ln3721">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3722">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3723">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm156), (gpointer)widget);</a>
<a name="ln3724"> </a>
<a name="ln3725">  }</a>
<a name="ln3726"> </a>
<a name="ln3727">  {</a>
<a name="ln3728">    label = gtk_label_new(_(&quot;look for updated xmp files on startup&quot;));</a>
<a name="ln3729">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3730">    labelev = gtk_event_box_new();</a>
<a name="ln3731">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3732">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3733">    widget = gtk_check_button_new();</a>
<a name="ln3734">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;run_crawler_on_start&quot;));</a>
<a name="ln3735">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1602), NULL);</a>
<a name="ln3736">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1602), widget);</a>
<a name="ln3737">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3738">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3739">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3740">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;check file modification times of all xmp files on startup to check if any got updated in the meantime&quot;), (gchar *)0);</a>
<a name="ln3741">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3742">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3743">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1602), (gpointer)widget);</a>
<a name="ln3744"> </a>
<a name="ln3745">  }</a>
<a name="ln3746"> </a>
<a name="ln3747">   {</a>
<a name="ln3748">      GtkWidget *seclabel = gtk_label_new(_(&quot;cpu / gpu / memory&quot;));</a>
<a name="ln3749">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3750">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3751">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3752">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3753">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3754">   }</a>
<a name="ln3755"> </a>
<a name="ln3756">  {</a>
<a name="ln3757">    label = gtk_label_new(_(&quot;memory in megabytes to use for thumbnail cache&quot;));</a>
<a name="ln3758">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3759">    labelev = gtk_event_box_new();</a>
<a name="ln3760">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3761">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3762">    gint64 min = 0;</a>
<a name="ln3763">    gint64 max = G_MAXINT64;</a>
<a name="ln3764">    min = (1024 * 1024 * 100);</a>
<a name="ln3765">    float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln3766">    min *= factor; max *= factor;</a>
<a name="ln3767">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3768">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3769">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int64(&quot;cache_memory&quot;) * factor);</a>
<a name="ln3770">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm30), NULL);</a>
<a name="ln3771">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm30), widget);</a>
<a name="ln3772">    char value[100];</a>
<a name="ln3773">    snprintf(value, 100, &quot;%&quot;G_GINT64_FORMAT&quot;&quot;,(gint64)((1024 * 1024 * 512) * factor));</a>
<a name="ln3774">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), value);</a>
<a name="ln3775">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3776">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3777">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this controls how much memory is going to be used for thumbnails and other buffers (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3778">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3779">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3780">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm30), (gpointer)widget);</a>
<a name="ln3781"> </a>
<a name="ln3782">  }</a>
<a name="ln3783"> </a>
<a name="ln3784">  {</a>
<a name="ln3785">    label = gtk_label_new(_(&quot;enable disk backend for thumbnail cache&quot;));</a>
<a name="ln3786">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3787">    labelev = gtk_event_box_new();</a>
<a name="ln3788">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3789">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3790">    widget = gtk_check_button_new();</a>
<a name="ln3791">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;cache_disk_backend&quot;));</a>
<a name="ln3792">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm36), NULL);</a>
<a name="ln3793">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm36), widget);</a>
<a name="ln3794">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3795">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3796">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3797">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if enabled, write thumbnails to disk (.cache/darktable/) when evicted from the memory cache. note that this can take a lot of memory (several gigabytes for 20k images) and will never delete cached thumbnails again. it's safe though to delete these manually, if you want. light table performance will be increased greatly when browsing a lot. to generate all thumbnails of your entire collection offline, run 'darktable-generate-cache'.&quot;), (gchar *)0);</a>
<a name="ln3798">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3799">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3800">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm36), (gpointer)widget);</a>
<a name="ln3801"> </a>
<a name="ln3802">  }</a>
<a name="ln3803"> </a>
<a name="ln3804">  {</a>
<a name="ln3805">    label = gtk_label_new(_(&quot;enable disk backend for full preview cache&quot;));</a>
<a name="ln3806">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3807">    labelev = gtk_event_box_new();</a>
<a name="ln3808">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3809">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3810">    widget = gtk_check_button_new();</a>
<a name="ln3811">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;cache_disk_backend_full&quot;));</a>
<a name="ln3812">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm42), NULL);</a>
<a name="ln3813">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm42), widget);</a>
<a name="ln3814">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3815">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3816">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3817">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if enabled, write full preview to disk (.cache/darktable/) when evicted from the memory cache. note that this can take a lot of memory (several gigabytes for 20k images) and will never delete cached thumbnails again. it's safe though to delete these manually, if you want. light table performance will be increased greatly when zooming image in full preview mode.&quot;), (gchar *)0);</a>
<a name="ln3818">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3819">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3820">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm42), (gpointer)widget);</a>
<a name="ln3821"> </a>
<a name="ln3822">  }</a>
<a name="ln3823"> </a>
<a name="ln3824">  {</a>
<a name="ln3825">    label = gtk_label_new(_(&quot;number of background threads&quot;));</a>
<a name="ln3826">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3827">    labelev = gtk_event_box_new();</a>
<a name="ln3828">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3829">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3830">    gint min = 0;</a>
<a name="ln3831">    gint max = G_MAXINT;</a>
<a name="ln3832">    float factor = 1.0f;</a>
<a name="ln3833">    double tmp;</a>
<a name="ln3834">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3835">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3836">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3837">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3838">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;worker_threads&quot;) * factor);</a>
<a name="ln3839">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm54), NULL);</a>
<a name="ln3840">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm54), widget);</a>
<a name="ln3841">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(2 * factor));</a>
<a name="ln3842">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3843">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3844">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this controls for example how many threads are used to create thumbnails during import. the cache will grow to a maximum of twice this number of full resolution image buffers (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3845">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3846">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3847">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm54), (gpointer)widget);</a>
<a name="ln3848"> </a>
<a name="ln3849">  }</a>
<a name="ln3850"> </a>
<a name="ln3851">  {</a>
<a name="ln3852">    label = gtk_label_new(_(&quot;host memory limit (in MB) for tiling&quot;));</a>
<a name="ln3853">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3854">    labelev = gtk_event_box_new();</a>
<a name="ln3855">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3856">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3857">    gint min = 0;</a>
<a name="ln3858">    gint max = G_MAXINT;</a>
<a name="ln3859">    float factor = 1.0f;</a>
<a name="ln3860">    double tmp;</a>
<a name="ln3861">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3862">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3863">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3864">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3865">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;host_memory_limit&quot;) * factor);</a>
<a name="ln3866">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm60), NULL);</a>
<a name="ln3867">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm60), widget);</a>
<a name="ln3868">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(1500 * factor));</a>
<a name="ln3869">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3870">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3871">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this variable controls the maximum amount of memory (in MB) a module may use during image processing. lower values will force memory hungry modules to process image with increasing number of tiles. setting this to 0 will omit any limit. values below 500 will be treated as 500 (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3872">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3873">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3874">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm60), (gpointer)widget);</a>
<a name="ln3875"> </a>
<a name="ln3876">  }</a>
<a name="ln3877"> </a>
<a name="ln3878">  {</a>
<a name="ln3879">    label = gtk_label_new(_(&quot;minimum amount of memory (in MB) for a single buffer in tiling&quot;));</a>
<a name="ln3880">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3881">    labelev = gtk_event_box_new();</a>
<a name="ln3882">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3883">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3884">    gint min = 0;</a>
<a name="ln3885">    gint max = G_MAXINT;</a>
<a name="ln3886">    min = 2;</a>
<a name="ln3887">    max = 64;</a>
<a name="ln3888">    float factor = 1.0f;</a>
<a name="ln3889">    double tmp;</a>
<a name="ln3890">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3891">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3892">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3893">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3894">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;singlebuffer_limit&quot;) * factor);</a>
<a name="ln3895">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm66), NULL);</a>
<a name="ln3896">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm66), widget);</a>
<a name="ln3897">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(16 * factor));</a>
<a name="ln3898">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3899">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3900">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if set to a positive, non-zero value this variable defines the minimum amount of memory (in MB) that tiling should take for a single image buffer. has precedence over heuristics based on host_memory_limit (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3901">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3902">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3903">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm66), (gpointer)widget);</a>
<a name="ln3904"> </a>
<a name="ln3905">  }</a>
<a name="ln3906"> </a>
<a name="ln3907">  {</a>
<a name="ln3908">    label = gtk_label_new(_(&quot;activate OpenCL support&quot;));</a>
<a name="ln3909">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3910">    labelev = gtk_event_box_new();</a>
<a name="ln3911">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3912">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3913">    widget = gtk_check_button_new();</a>
<a name="ln3914">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;opencl&quot;));</a>
<a name="ln3915">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm178), NULL);</a>
<a name="ln3916">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm178), widget);</a>
<a name="ln3917">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3918">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3919">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3920">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if found, use OpenCL runtime on your system for improved processing speed. can be switched on and off at any time.&quot;), (gchar *)0);</a>
<a name="ln3921">    GtkWidget *notavailable = gtk_label_new(_(&quot;not available&quot;));</a>
<a name="ln3922">    gtk_widget_set_halign(notavailable, GTK_ALIGN_START);</a>
<a name="ln3923">    gtk_widget_set_sensitive(notavailable, FALSE);</a>
<a name="ln3924">    g_object_set(notavailable, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3925">    gtk_widget_set_sensitive(labelev, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3926">    gtk_widget_set_sensitive(widget, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3927">    if(!dt_capabilities_check(&quot;opencl&quot;))</a>
<a name="ln3928">      g_object_set(labelev, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3929">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3930">    gtk_grid_attach_next_to(GTK_GRID(grid), dt_capabilities_check(&quot;opencl&quot;) ? widget : notavailable, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3931">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm178), (gpointer)widget);</a>
<a name="ln3932"> </a>
<a name="ln3933">  }</a>
<a name="ln3934"> </a>
<a name="ln3935">  {</a>
<a name="ln3936">    label = gtk_label_new(_(&quot;OpenCL scheduling profile&quot;));</a>
<a name="ln3937">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3938">    labelev = gtk_event_box_new();</a>
<a name="ln3939">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3940">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3941">    GtkTreeIter iter;</a>
<a name="ln3942">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3943">    gchar *str = dt_conf_get_string(&quot;opencl_scheduling_profile&quot;);</a>
<a name="ln3944">    gint pos = -1;</a>
<a name="ln3945"> </a>
<a name="ln3946">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3947">        gtk_list_store_set(store, &amp;iter, 0, &quot;default&quot;, 1, C_(&quot;preferences&quot;, &quot;default&quot;), -1);</a>
<a name="ln3948">        if(pos == -1 &amp;&amp; strcmp(str, &quot;default&quot;) == 0)</a>
<a name="ln3949">          pos = 0;</a>
<a name="ln3950">      </a>
<a name="ln3951">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3952">        gtk_list_store_set(store, &amp;iter, 0, &quot;multiple GPUs&quot;, 1, C_(&quot;preferences&quot;, &quot;multiple GPUs&quot;), -1);</a>
<a name="ln3953">        if(pos == -1 &amp;&amp; strcmp(str, &quot;multiple GPUs&quot;) == 0)</a>
<a name="ln3954">          pos = 1;</a>
<a name="ln3955">      </a>
<a name="ln3956">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3957">        gtk_list_store_set(store, &amp;iter, 0, &quot;very fast GPU&quot;, 1, C_(&quot;preferences&quot;, &quot;very fast GPU&quot;), -1);</a>
<a name="ln3958">        if(pos == -1 &amp;&amp; strcmp(str, &quot;very fast GPU&quot;) == 0)</a>
<a name="ln3959">          pos = 2;</a>
<a name="ln3960">      </a>
<a name="ln3961"> </a>
<a name="ln3962">    g_free(str);</a>
<a name="ln3963"> </a>
<a name="ln3964">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3965">    g_object_unref(store);</a>
<a name="ln3966">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3967">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3968">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3969">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3970">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm184), NULL);</a>
<a name="ln3971">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm184), widget);</a>
<a name="ln3972">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;default&quot;));</a>
<a name="ln3973">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3974">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3975">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines how preview and full pixelpipe tasks are scheduled on OpenCL enabled systems. default - GPU processes full and CPU processes preview pipe (adaptable by config parameters); multiple GPUs - process both pixelpipes in parallel on two different GPUs; very fast GPU - process both pixelpipes sequentially on the GPU.&quot;), (gchar *)0);</a>
<a name="ln3976">    GtkWidget *notavailable = gtk_label_new(_(&quot;not available&quot;));</a>
<a name="ln3977">    gtk_widget_set_halign(notavailable, GTK_ALIGN_START);</a>
<a name="ln3978">    gtk_widget_set_sensitive(notavailable, FALSE);</a>
<a name="ln3979">    g_object_set(notavailable, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3980">    gtk_widget_set_sensitive(labelev, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3981">    gtk_widget_set_sensitive(widget, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3982">    if(!dt_capabilities_check(&quot;opencl&quot;))</a>
<a name="ln3983">      g_object_set(labelev, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3984">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3985">    gtk_grid_attach_next_to(GTK_GRID(grid), dt_capabilities_check(&quot;opencl&quot;) ? widget : notavailable, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3986">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm184), (gpointer)widget);</a>
<a name="ln3987"> </a>
<a name="ln3988">  }</a>
<a name="ln3989"> </a>
<a name="ln3990">   {</a>
<a name="ln3991">      GtkWidget *seclabel = gtk_label_new(_(&quot;miscellaneous&quot;));</a>
<a name="ln3992">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3993">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3994">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3995">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3996">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3997">   }</a>
<a name="ln3998"> </a>
<a name="ln3999">  {</a>
<a name="ln4000">    label = gtk_label_new(_(&quot;omit hierarchy in simple tag lists&quot;));</a>
<a name="ln4001">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4002">    labelev = gtk_event_box_new();</a>
<a name="ln4003">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4004">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4005">    widget = gtk_check_button_new();</a>
<a name="ln4006">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;omit_tag_hierarchy&quot;));</a>
<a name="ln4007">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm166), NULL);</a>
<a name="ln4008">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm166), widget);</a>
<a name="ln4009">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln4010">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4011">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4012">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when creating XMP file the hierarchical tags are also added as a simple list of non-hierarchical ones to make them visible to some other programs. when this option is checked darktable will only include their last part and ignore the rest. so 'foo|bar|baz' will only add 'baz'.&quot;), (gchar *)0);</a>
<a name="ln4013">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4014">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4015">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm166), (gpointer)widget);</a>
<a name="ln4016"> </a>
<a name="ln4017">  }</a>
<a name="ln4018"> </a>
<a name="ln4019">  {</a>
<a name="ln4020">    label = gtk_label_new(_(&quot;disable the entry completion&quot;));</a>
<a name="ln4021">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4022">    labelev = gtk_event_box_new();</a>
<a name="ln4023">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4024">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4025">    widget = gtk_check_button_new();</a>
<a name="ln4026">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/tagging/no_entry_completion&quot;));</a>
<a name="ln4027">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm172), NULL);</a>
<a name="ln4028">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm172), widget);</a>
<a name="ln4029">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln4030">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4031">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4032">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the entry completion is useful for those who enter tags from keyboard only. for others the entry completion can be embarrassing. need to restart darktable.&quot;), (gchar *)0);</a>
<a name="ln4033">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4034">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4035">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm172), (gpointer)widget);</a>
<a name="ln4036"> </a>
<a name="ln4037">  }</a>
<a name="ln4038"> </a>
<a name="ln4039">  {</a>
<a name="ln4040">    label = gtk_label_new(_(&quot;password storage backend to use&quot;));</a>
<a name="ln4041">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4042">    labelev = gtk_event_box_new();</a>
<a name="ln4043">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4044">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4045">    GtkTreeIter iter;</a>
<a name="ln4046">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln4047">    gchar *str = dt_conf_get_string(&quot;plugins/pwstorage/pwstorage_backend&quot;);</a>
<a name="ln4048">    gint pos = -1;</a>
<a name="ln4049"> </a>
<a name="ln4050">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln4051">        gtk_list_store_set(store, &amp;iter, 0, &quot;auto&quot;, 1, C_(&quot;preferences&quot;, &quot;auto&quot;), -1);</a>
<a name="ln4052">        if(pos == -1 &amp;&amp; strcmp(str, &quot;auto&quot;) == 0)</a>
<a name="ln4053">          pos = 0;</a>
<a name="ln4054">      </a>
<a name="ln4055">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln4056">        gtk_list_store_set(store, &amp;iter, 0, &quot;none&quot;, 1, C_(&quot;preferences&quot;, &quot;none&quot;), -1);</a>
<a name="ln4057">        if(pos == -1 &amp;&amp; strcmp(str, &quot;none&quot;) == 0)</a>
<a name="ln4058">          pos = 1;</a>
<a name="ln4059">      if(dt_capabilities_check(&quot;libsecret&quot;)) {</a>
<a name="ln4060">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln4061">        gtk_list_store_set(store, &amp;iter, 0, &quot;libsecret&quot;, 1, C_(&quot;preferences&quot;, &quot;libsecret&quot;), -1);</a>
<a name="ln4062">        if(pos == -1 &amp;&amp; strcmp(str, &quot;libsecret&quot;) == 0)</a>
<a name="ln4063">          pos = 2;</a>
<a name="ln4064">      }</a>
<a name="ln4065">          if(dt_capabilities_check(&quot;kwallet&quot;)) {</a>
<a name="ln4066">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln4067">        gtk_list_store_set(store, &amp;iter, 0, &quot;kwallet&quot;, 1, C_(&quot;preferences&quot;, &quot;kwallet&quot;), -1);</a>
<a name="ln4068">        if(pos == -1 &amp;&amp; strcmp(str, &quot;kwallet&quot;) == 0)</a>
<a name="ln4069">          pos = 3;</a>
<a name="ln4070">      }</a>
<a name="ln4071">          </a>
<a name="ln4072"> </a>
<a name="ln4073">    g_free(str);</a>
<a name="ln4074"> </a>
<a name="ln4075">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln4076">    g_object_unref(store);</a>
<a name="ln4077">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln4078">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln4079">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln4080">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln4081">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1337), NULL);</a>
<a name="ln4082">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1337), widget);</a>
<a name="ln4083">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;auto&quot;));</a>
<a name="ln4084">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4085">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4086">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the storage backend for password storage: auto, none, libsecret, kwallet&quot;), (gchar *)0);</a>
<a name="ln4087">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4088">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4089">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1337), (gpointer)widget);</a>
<a name="ln4090"> </a>
<a name="ln4091">  }</a>
<a name="ln4092"> </a>
<a name="ln4093">  {</a>
<a name="ln4094">    label = gtk_label_new(_(&quot;executable for playing audio files&quot;));</a>
<a name="ln4095">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4096">    labelev = gtk_event_box_new();</a>
<a name="ln4097">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4098">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4099">    widget = gtk_entry_new();</a>
<a name="ln4100">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln4101">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln4102">    gchar *setting = dt_conf_get_string(&quot;plugins/lighttable/audio_player&quot;);</a>
<a name="ln4103">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln4104">    g_free(setting);</a>
<a name="ln4105">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm1608), NULL);</a>
<a name="ln4106">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1608), widget);</a>
<a name="ln4107">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;aplay&quot;);</a>
<a name="ln4108">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4109">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4110">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this external program is used to play audio files some cameras record to keep notes for images&quot;), (gchar *)0);</a>
<a name="ln4111">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4112">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4113">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1608), (gpointer)widget);</a>
<a name="ln4114"> </a>
<a name="ln4115">  }</a>
<a name="ln4116"> </a>
<a name="ln4117">  {</a>
<a name="ln4118">    label = gtk_label_new(_(&quot;3D lut root folder&quot;));</a>
<a name="ln4119">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4120">    labelev = gtk_event_box_new();</a>
<a name="ln4121">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4122">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4123">    widget = gtk_file_chooser_button_new(_(&quot;select directory&quot;), GTK_FILE_CHOOSER_ACTION_SELECT_FOLDER);</a>
<a name="ln4124">		gtk_file_chooser_button_set_width_chars(GTK_FILE_CHOOSER_BUTTON(widget), 20);</a>
<a name="ln4125">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln4126">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln4127">    gchar *setting = dt_conf_get_string(&quot;plugins/darkroom/lut3d/def_path&quot;);</a>
<a name="ln4128">    gtk_file_chooser_set_current_folder(GTK_FILE_CHOOSER(widget), setting);</a>
<a name="ln4129">    g_free(setting);</a>
<a name="ln4130">    g_signal_connect(G_OBJECT(widget), &quot;button-press-event&quot;, G_CALLBACK(preferences_callback_idm1614), NULL);</a>
<a name="ln4131">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1614), widget);</a>
<a name="ln4132">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln4133">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4134">        gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4135">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this folder (and sub-folders) contains Lut files used by lut3d modules. need to restart darktable.&quot;), (gchar *)0);</a>
<a name="ln4136">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4137">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4138">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1614), (gpointer)widget);</a>
<a name="ln4139"> </a>
<a name="ln4140">  }</a>
<a name="ln4141"> </a>
<a name="ln4142">  gtk_widget_show_all(tab);</a>
<a name="ln4143">}</a>
<a name="ln4144"> </a>
<a name="ln4145">static void</a>
<a name="ln4146">init_tab_session (GtkWidget *dialog, GtkWidget *tab, void (*hardcoded_part)(GtkWidget *grid, int *line))</a>
<a name="ln4147">{</a>
<a name="ln4148">  GtkWidget *widget, *label, *labelev, *viewport;</a>
<a name="ln4149">  GtkWidget *grid = gtk_grid_new();</a>
<a name="ln4150">  gtk_grid_set_row_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln4151">  gtk_grid_set_column_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln4152">  gtk_widget_set_valign(grid, GTK_ALIGN_START);</a>
<a name="ln4153">  int line = 0;</a>
<a name="ln4154">  char tooltip[1024];</a>
<a name="ln4155">  GtkWidget *scroll = gtk_scrolled_window_new(NULL, NULL);</a>
<a name="ln4156">  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(scroll), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);</a>
<a name="ln4157">  viewport = gtk_viewport_new(NULL, NULL);</a>
<a name="ln4158">  gtk_viewport_set_shadow_type(GTK_VIEWPORT(viewport), GTK_SHADOW_NONE); // doesn't seem to work from gtkrc</a>
<a name="ln4159">  gtk_container_add(GTK_CONTAINER(scroll), viewport);</a>
<a name="ln4160">  gtk_container_add(GTK_CONTAINER(viewport), grid);</a>
<a name="ln4161"> </a>
<a name="ln4162">  if(hardcoded_part)</a>
<a name="ln4163">    (*hardcoded_part)(grid, &amp;line);</a>
<a name="ln4164">  gtk_notebook_append_page(GTK_NOTEBOOK(tab), scroll, gtk_label_new(_(&quot;session options&quot;)));</a>
<a name="ln4165"> </a>
<a name="ln4166">  {</a>
<a name="ln4167">    label = gtk_label_new(_(&quot;base directory naming pattern&quot;));</a>
<a name="ln4168">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4169">    labelev = gtk_event_box_new();</a>
<a name="ln4170">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4171">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4172">    widget = gtk_entry_new();</a>
<a name="ln4173">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln4174">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln4175">    gchar *setting = dt_conf_get_string(&quot;session/base_directory_pattern&quot;);</a>
<a name="ln4176">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln4177">    g_free(setting);</a>
<a name="ln4178">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm610), NULL);</a>
<a name="ln4179">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm610), widget);</a>
<a name="ln4180">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(PICTURES_FOLDER)/Darktable&quot;);</a>
<a name="ln4181">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4182">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4183">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;part of full import path for an import session&quot;), (gchar *)0);</a>
<a name="ln4184">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4185">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4186">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm610), (gpointer)widget);</a>
<a name="ln4187"> </a>
<a name="ln4188">  }</a>
<a name="ln4189"> </a>
<a name="ln4190">  {</a>
<a name="ln4191">    label = gtk_label_new(_(&quot;sub directory naming pattern&quot;));</a>
<a name="ln4192">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4193">    labelev = gtk_event_box_new();</a>
<a name="ln4194">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4195">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4196">    widget = gtk_entry_new();</a>
<a name="ln4197">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln4198">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln4199">    gchar *setting = dt_conf_get_string(&quot;session/sub_directory_pattern&quot;);</a>
<a name="ln4200">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln4201">    g_free(setting);</a>
<a name="ln4202">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm616), NULL);</a>
<a name="ln4203">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm616), widget);</a>
<a name="ln4204">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(YEAR)$(MONTH)$(DAY)_$(JOBCODE)&quot;);</a>
<a name="ln4205">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4206">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4207">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;part of full import path for an import session&quot;), (gchar *)0);</a>
<a name="ln4208">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4209">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4210">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm616), (gpointer)widget);</a>
<a name="ln4211"> </a>
<a name="ln4212">  }</a>
<a name="ln4213"> </a>
<a name="ln4214">  {</a>
<a name="ln4215">    label = gtk_label_new(_(&quot;file naming pattern&quot;));</a>
<a name="ln4216">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln4217">    labelev = gtk_event_box_new();</a>
<a name="ln4218">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln4219">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln4220">    widget = gtk_entry_new();</a>
<a name="ln4221">    gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln4222">    gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln4223">    gchar *setting = dt_conf_get_string(&quot;session/filename_pattern&quot;);</a>
<a name="ln4224">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln4225">    g_free(setting);</a>
<a name="ln4226">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm622), NULL);</a>
<a name="ln4227">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm622), widget);</a>
<a name="ln4228">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(YEAR)$(MONTH)$(DAY)_$(SEQUENCE).$(FILE_EXTENSION)&quot;);</a>
<a name="ln4229">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln4230">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln4231">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;file naming pattern used for a import session&quot;), (gchar *)0);</a>
<a name="ln4232">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln4233">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln4234">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm622), (gpointer)widget);</a>
<a name="ln4235"> </a>
<a name="ln4236">  }</a>
<a name="ln4237"> </a>
<a name="ln4238">  gtk_widget_show_all(tab);</a>
<a name="ln4239">}</a>
<a name="ln4240"> </a>
<a name="ln4241">#endif</a>

</code></pre>
<div class="balloon" rel="2317"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2503"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2565"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2612"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2678"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2734"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3298"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3365"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3505"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3552"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3693"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3948"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="4052"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>
