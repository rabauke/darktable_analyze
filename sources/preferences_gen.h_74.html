
<html>
<head>
  <link rel="stylesheet" href="../style.css"/>
  <script src="../jquery-3.2.1.min.js"></script>
</head>
<body>
<pre><code class = "cpp">
<a name="ln1">/** generated file, do not edit! */</a>
<a name="ln2">#ifndef DT_PREFERENCES_H</a>
<a name="ln3">#define DT_PREFERENCES_H</a>
<a name="ln4"> </a>
<a name="ln5">#include &lt;gtk/gtk.h&gt;</a>
<a name="ln6">#include &quot;control/conf.h&quot;</a>
<a name="ln7"> </a>
<a name="ln8">static gboolean</a>
<a name="ln9">reset_widget_idm14 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln10">{</a>
<a name="ln11">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln12">  {</a>
<a name="ln13">    float factor = 1.0f;</a>
<a name="ln14">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 350 * factor);</a>
<a name="ln15">    return TRUE;</a>
<a name="ln16">  }</a>
<a name="ln17">  return FALSE;</a>
<a name="ln18">}</a>
<a name="ln19"> </a>
<a name="ln20">static gboolean</a>
<a name="ln21">reset_widget_idm20 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln22">{</a>
<a name="ln23">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln24">  {</a>
<a name="ln25">    float factor = 1.0f;</a>
<a name="ln26">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 5 * factor);</a>
<a name="ln27">    return TRUE;</a>
<a name="ln28">  }</a>
<a name="ln29">  return FALSE;</a>
<a name="ln30">}</a>
<a name="ln31"> </a>
<a name="ln32">static gboolean</a>
<a name="ln33">reset_widget_idm25 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln34">{</a>
<a name="ln35">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln36">  {</a>
<a name="ln37">    float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln38">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), (1024 * 1024 * 256) * factor);</a>
<a name="ln39">    return TRUE;</a>
<a name="ln40">  }</a>
<a name="ln41">  return FALSE;</a>
<a name="ln42">}</a>
<a name="ln43"> </a>
<a name="ln44">static gboolean</a>
<a name="ln45">reset_widget_idm31 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln46">{</a>
<a name="ln47">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln48">  {</a>
<a name="ln49">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln50">    return TRUE;</a>
<a name="ln51">  }</a>
<a name="ln52">  return FALSE;</a>
<a name="ln53">}</a>
<a name="ln54"> </a>
<a name="ln55">static gboolean</a>
<a name="ln56">reset_widget_idm37 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln57">{</a>
<a name="ln58">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln59">  {</a>
<a name="ln60">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln61">    return TRUE;</a>
<a name="ln62">  }</a>
<a name="ln63">  return FALSE;</a>
<a name="ln64">}</a>
<a name="ln65"> </a>
<a name="ln66">static gboolean</a>
<a name="ln67">reset_widget_idm43 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln68">{</a>
<a name="ln69">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln70">  {</a>
<a name="ln71">    float factor = 1.0f;</a>
<a name="ln72">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 2 * factor);</a>
<a name="ln73">    return TRUE;</a>
<a name="ln74">  }</a>
<a name="ln75">  return FALSE;</a>
<a name="ln76">}</a>
<a name="ln77"> </a>
<a name="ln78">static gboolean</a>
<a name="ln79">reset_widget_idm49 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln80">{</a>
<a name="ln81">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln82">  {</a>
<a name="ln83">    float factor = 1.0f;</a>
<a name="ln84">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 1500 * factor);</a>
<a name="ln85">    return TRUE;</a>
<a name="ln86">  }</a>
<a name="ln87">  return FALSE;</a>
<a name="ln88">}</a>
<a name="ln89"> </a>
<a name="ln90">static gboolean</a>
<a name="ln91">reset_widget_idm55 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln92">{</a>
<a name="ln93">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln94">  {</a>
<a name="ln95">    float factor = 1.0f;</a>
<a name="ln96">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 16 * factor);</a>
<a name="ln97">    return TRUE;</a>
<a name="ln98">  }</a>
<a name="ln99">  return FALSE;</a>
<a name="ln100">}</a>
<a name="ln101"> </a>
<a name="ln102">static gboolean</a>
<a name="ln103">reset_widget_idm139 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln104">{</a>
<a name="ln105">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln106">  {</a>
<a name="ln107">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln108">    return TRUE;</a>
<a name="ln109">  }</a>
<a name="ln110">  return FALSE;</a>
<a name="ln111">}</a>
<a name="ln112"> </a>
<a name="ln113">static gboolean</a>
<a name="ln114">reset_widget_idm145 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln115">{</a>
<a name="ln116">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln117">  {</a>
<a name="ln118">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln119">    return TRUE;</a>
<a name="ln120">  }</a>
<a name="ln121">  return FALSE;</a>
<a name="ln122">}</a>
<a name="ln123"> </a>
<a name="ln124">static gboolean</a>
<a name="ln125">reset_widget_idm151 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln126">{</a>
<a name="ln127">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln128">  {</a>
<a name="ln129">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 2);</a>
<a name="ln130">    return TRUE;</a>
<a name="ln131">  }</a>
<a name="ln132">  return FALSE;</a>
<a name="ln133">}</a>
<a name="ln134"> </a>
<a name="ln135">static gboolean</a>
<a name="ln136">reset_widget_idm161 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln137">{</a>
<a name="ln138">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln139">  {</a>
<a name="ln140">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln141">    return TRUE;</a>
<a name="ln142">  }</a>
<a name="ln143">  return FALSE;</a>
<a name="ln144">}</a>
<a name="ln145"> </a>
<a name="ln146">static gboolean</a>
<a name="ln147">reset_widget_idm167 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln148">{</a>
<a name="ln149">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln150">  {</a>
<a name="ln151">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln152">    return TRUE;</a>
<a name="ln153">  }</a>
<a name="ln154">  return FALSE;</a>
<a name="ln155">}</a>
<a name="ln156"> </a>
<a name="ln157">static gboolean</a>
<a name="ln158">reset_widget_idm173 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln159">{</a>
<a name="ln160">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln161">  {</a>
<a name="ln162">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln163">    return TRUE;</a>
<a name="ln164">  }</a>
<a name="ln165">  return FALSE;</a>
<a name="ln166">}</a>
<a name="ln167"> </a>
<a name="ln168">static gboolean</a>
<a name="ln169">reset_widget_idm207 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln170">{</a>
<a name="ln171">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln172">  {</a>
<a name="ln173">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln174">    return TRUE;</a>
<a name="ln175">  }</a>
<a name="ln176">  return FALSE;</a>
<a name="ln177">}</a>
<a name="ln178"> </a>
<a name="ln179">static gboolean</a>
<a name="ln180">reset_widget_idm213 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln181">{</a>
<a name="ln182">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln183">  {</a>
<a name="ln184">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln185">    return TRUE;</a>
<a name="ln186">  }</a>
<a name="ln187">  return FALSE;</a>
<a name="ln188">}</a>
<a name="ln189"> </a>
<a name="ln190">static gboolean</a>
<a name="ln191">reset_widget_idm219 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln192">{</a>
<a name="ln193">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln194">  {</a>
<a name="ln195">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln196">    return TRUE;</a>
<a name="ln197">  }</a>
<a name="ln198">  return FALSE;</a>
<a name="ln199">}</a>
<a name="ln200"> </a>
<a name="ln201">static gboolean</a>
<a name="ln202">reset_widget_idm225 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln203">{</a>
<a name="ln204">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln205">  {</a>
<a name="ln206">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln207">    return TRUE;</a>
<a name="ln208">  }</a>
<a name="ln209">  return FALSE;</a>
<a name="ln210">}</a>
<a name="ln211"> </a>
<a name="ln212">static gboolean</a>
<a name="ln213">reset_widget_idm231 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln214">{</a>
<a name="ln215">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln216">  {</a>
<a name="ln217">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln218">    return TRUE;</a>
<a name="ln219">  }</a>
<a name="ln220">  return FALSE;</a>
<a name="ln221">}</a>
<a name="ln222"> </a>
<a name="ln223">static gboolean</a>
<a name="ln224">reset_widget_idm237 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln225">{</a>
<a name="ln226">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln227">  {</a>
<a name="ln228">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln229">    return TRUE;</a>
<a name="ln230">  }</a>
<a name="ln231">  return FALSE;</a>
<a name="ln232">}</a>
<a name="ln233"> </a>
<a name="ln234">static gboolean</a>
<a name="ln235">reset_widget_idm243 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln236">{</a>
<a name="ln237">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln238">  {</a>
<a name="ln239">    float factor = 1.0f;</a>
<a name="ln240">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 1 * factor);</a>
<a name="ln241">    return TRUE;</a>
<a name="ln242">  }</a>
<a name="ln243">  return FALSE;</a>
<a name="ln244">}</a>
<a name="ln245"> </a>
<a name="ln246">static gboolean</a>
<a name="ln247">reset_widget_idm405 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln248">{</a>
<a name="ln249">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln250">  {</a>
<a name="ln251">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln252">    return TRUE;</a>
<a name="ln253">  }</a>
<a name="ln254">  return FALSE;</a>
<a name="ln255">}</a>
<a name="ln256"> </a>
<a name="ln257">static gboolean</a>
<a name="ln258">reset_widget_idm411 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln259">{</a>
<a name="ln260">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln261">  {</a>
<a name="ln262">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln263">    return TRUE;</a>
<a name="ln264">  }</a>
<a name="ln265">  return FALSE;</a>
<a name="ln266">}</a>
<a name="ln267"> </a>
<a name="ln268">static gboolean</a>
<a name="ln269">reset_widget_idm417 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln270">{</a>
<a name="ln271">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln272">  {</a>
<a name="ln273">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln274">    return TRUE;</a>
<a name="ln275">  }</a>
<a name="ln276">  return FALSE;</a>
<a name="ln277">}</a>
<a name="ln278"> </a>
<a name="ln279">static gboolean</a>
<a name="ln280">reset_widget_idm423 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln281">{</a>
<a name="ln282">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln283">  {</a>
<a name="ln284">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln285">    return TRUE;</a>
<a name="ln286">  }</a>
<a name="ln287">  return FALSE;</a>
<a name="ln288">}</a>
<a name="ln289"> </a>
<a name="ln290">static gboolean</a>
<a name="ln291">reset_widget_idm429 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln292">{</a>
<a name="ln293">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln294">  {</a>
<a name="ln295">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln296">    return TRUE;</a>
<a name="ln297">  }</a>
<a name="ln298">  return FALSE;</a>
<a name="ln299">}</a>
<a name="ln300"> </a>
<a name="ln301">static gboolean</a>
<a name="ln302">reset_widget_idm435 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln303">{</a>
<a name="ln304">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln305">  {</a>
<a name="ln306">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;&quot;);</a>
<a name="ln307">    return TRUE;</a>
<a name="ln308">  }</a>
<a name="ln309">  return FALSE;</a>
<a name="ln310">}</a>
<a name="ln311"> </a>
<a name="ln312">static gboolean</a>
<a name="ln313">reset_widget_idm447 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln314">{</a>
<a name="ln315">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln316">  {</a>
<a name="ln317">    float factor = 1.0f;</a>
<a name="ln318">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 1 * factor);</a>
<a name="ln319">    return TRUE;</a>
<a name="ln320">  }</a>
<a name="ln321">  return FALSE;</a>
<a name="ln322">}</a>
<a name="ln323"> </a>
<a name="ln324">static gboolean</a>
<a name="ln325">reset_widget_idm459 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln326">{</a>
<a name="ln327">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln328">  {</a>
<a name="ln329">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln330">    return TRUE;</a>
<a name="ln331">  }</a>
<a name="ln332">  return FALSE;</a>
<a name="ln333">}</a>
<a name="ln334"> </a>
<a name="ln335">static gboolean</a>
<a name="ln336">reset_widget_idm477 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln337">{</a>
<a name="ln338">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln339">  {</a>
<a name="ln340">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 3);</a>
<a name="ln341">    return TRUE;</a>
<a name="ln342">  }</a>
<a name="ln343">  return FALSE;</a>
<a name="ln344">}</a>
<a name="ln345"> </a>
<a name="ln346">static gboolean</a>
<a name="ln347">reset_widget_idm493 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln348">{</a>
<a name="ln349">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln350">  {</a>
<a name="ln351">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln352">    return TRUE;</a>
<a name="ln353">  }</a>
<a name="ln354">  return FALSE;</a>
<a name="ln355">}</a>
<a name="ln356"> </a>
<a name="ln357">static gboolean</a>
<a name="ln358">reset_widget_idm499 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln359">{</a>
<a name="ln360">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln361">  {</a>
<a name="ln362">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln363">    return TRUE;</a>
<a name="ln364">  }</a>
<a name="ln365">  return FALSE;</a>
<a name="ln366">}</a>
<a name="ln367"> </a>
<a name="ln368">static gboolean</a>
<a name="ln369">reset_widget_idm512 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln370">{</a>
<a name="ln371">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln372">  {</a>
<a name="ln373">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 1);</a>
<a name="ln374">    return TRUE;</a>
<a name="ln375">  }</a>
<a name="ln376">  return FALSE;</a>
<a name="ln377">}</a>
<a name="ln378"> </a>
<a name="ln379">static gboolean</a>
<a name="ln380">reset_widget_idm522 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln381">{</a>
<a name="ln382">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln383">  {</a>
<a name="ln384">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln385">    return TRUE;</a>
<a name="ln386">  }</a>
<a name="ln387">  return FALSE;</a>
<a name="ln388">}</a>
<a name="ln389"> </a>
<a name="ln390">static gboolean</a>
<a name="ln391">reset_widget_idm543 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln392">{</a>
<a name="ln393">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln394">  {</a>
<a name="ln395">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(PICTURES_FOLDER)/Darktable&quot;);</a>
<a name="ln396">    return TRUE;</a>
<a name="ln397">  }</a>
<a name="ln398">  return FALSE;</a>
<a name="ln399">}</a>
<a name="ln400"> </a>
<a name="ln401">static gboolean</a>
<a name="ln402">reset_widget_idm549 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln403">{</a>
<a name="ln404">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln405">  {</a>
<a name="ln406">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(YEAR)$(MONTH)$(DAY)_$(JOBCODE)&quot;);</a>
<a name="ln407">    return TRUE;</a>
<a name="ln408">  }</a>
<a name="ln409">  return FALSE;</a>
<a name="ln410">}</a>
<a name="ln411"> </a>
<a name="ln412">static gboolean</a>
<a name="ln413">reset_widget_idm555 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln414">{</a>
<a name="ln415">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln416">  {</a>
<a name="ln417">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;$(YEAR)$(MONTH)$(DAY)_$(SEQUENCE).$(FILE_EXTENSION)&quot;);</a>
<a name="ln418">    return TRUE;</a>
<a name="ln419">  }</a>
<a name="ln420">  return FALSE;</a>
<a name="ln421">}</a>
<a name="ln422"> </a>
<a name="ln423">static gboolean</a>
<a name="ln424">reset_widget_idm837 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln425">{</a>
<a name="ln426">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln427">  {</a>
<a name="ln428">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln429">    return TRUE;</a>
<a name="ln430">  }</a>
<a name="ln431">  return FALSE;</a>
<a name="ln432">}</a>
<a name="ln433"> </a>
<a name="ln434">static gboolean</a>
<a name="ln435">reset_widget_idm843 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln436">{</a>
<a name="ln437">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln438">  {</a>
<a name="ln439">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln440">    return TRUE;</a>
<a name="ln441">  }</a>
<a name="ln442">  return FALSE;</a>
<a name="ln443">}</a>
<a name="ln444"> </a>
<a name="ln445">static gboolean</a>
<a name="ln446">reset_widget_idm867 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln447">{</a>
<a name="ln448">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln449">  {</a>
<a name="ln450">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln451">    return TRUE;</a>
<a name="ln452">  }</a>
<a name="ln453">  return FALSE;</a>
<a name="ln454">}</a>
<a name="ln455"> </a>
<a name="ln456">static gboolean</a>
<a name="ln457">reset_widget_idm873 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln458">{</a>
<a name="ln459">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln460">  {</a>
<a name="ln461">    float factor = 1.0f;</a>
<a name="ln462">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 100 * factor);</a>
<a name="ln463">    return TRUE;</a>
<a name="ln464">  }</a>
<a name="ln465">  return FALSE;</a>
<a name="ln466">}</a>
<a name="ln467"> </a>
<a name="ln468">static gboolean</a>
<a name="ln469">reset_widget_idm879 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln470">{</a>
<a name="ln471">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln472">  {</a>
<a name="ln473">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln474">    return TRUE;</a>
<a name="ln475">  }</a>
<a name="ln476">  return FALSE;</a>
<a name="ln477">}</a>
<a name="ln478"> </a>
<a name="ln479">static gboolean</a>
<a name="ln480">reset_widget_idm885 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln481">{</a>
<a name="ln482">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln483">  {</a>
<a name="ln484">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln485">    return TRUE;</a>
<a name="ln486">  }</a>
<a name="ln487">  return FALSE;</a>
<a name="ln488">}</a>
<a name="ln489"> </a>
<a name="ln490">static gboolean</a>
<a name="ln491">reset_widget_idm891 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln492">{</a>
<a name="ln493">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln494">  {</a>
<a name="ln495">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln496">    return TRUE;</a>
<a name="ln497">  }</a>
<a name="ln498">  return FALSE;</a>
<a name="ln499">}</a>
<a name="ln500"> </a>
<a name="ln501">static gboolean</a>
<a name="ln502">reset_widget_idm903 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln503">{</a>
<a name="ln504">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln505">  {</a>
<a name="ln506">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln507">    return TRUE;</a>
<a name="ln508">  }</a>
<a name="ln509">  return FALSE;</a>
<a name="ln510">}</a>
<a name="ln511"> </a>
<a name="ln512">static gboolean</a>
<a name="ln513">reset_widget_idm909 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln514">{</a>
<a name="ln515">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln516">  {</a>
<a name="ln517">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln518">    return TRUE;</a>
<a name="ln519">  }</a>
<a name="ln520">  return FALSE;</a>
<a name="ln521">}</a>
<a name="ln522"> </a>
<a name="ln523">static gboolean</a>
<a name="ln524">reset_widget_idm915 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln525">{</a>
<a name="ln526">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln527">  {</a>
<a name="ln528">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln529">    return TRUE;</a>
<a name="ln530">  }</a>
<a name="ln531">  return FALSE;</a>
<a name="ln532">}</a>
<a name="ln533"> </a>
<a name="ln534">static gboolean</a>
<a name="ln535">reset_widget_idm921 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln536">{</a>
<a name="ln537">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln538">  {</a>
<a name="ln539">    float factor = 1.0f;</a>
<a name="ln540">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), 20 * factor);</a>
<a name="ln541">    return TRUE;</a>
<a name="ln542">  }</a>
<a name="ln543">  return FALSE;</a>
<a name="ln544">}</a>
<a name="ln545"> </a>
<a name="ln546">static gboolean</a>
<a name="ln547">reset_widget_idm927 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln548">{</a>
<a name="ln549">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln550">  {</a>
<a name="ln551">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 1);</a>
<a name="ln552">    return TRUE;</a>
<a name="ln553">  }</a>
<a name="ln554">  return FALSE;</a>
<a name="ln555">}</a>
<a name="ln556"> </a>
<a name="ln557">static gboolean</a>
<a name="ln558">reset_widget_idm967 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln559">{</a>
<a name="ln560">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln561">  {</a>
<a name="ln562">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln563">    return TRUE;</a>
<a name="ln564">  }</a>
<a name="ln565">  return FALSE;</a>
<a name="ln566">}</a>
<a name="ln567"> </a>
<a name="ln568">static gboolean</a>
<a name="ln569">reset_widget_idm973 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln570">{</a>
<a name="ln571">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln572">  {</a>
<a name="ln573">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln574">    return TRUE;</a>
<a name="ln575">  }</a>
<a name="ln576">  return FALSE;</a>
<a name="ln577">}</a>
<a name="ln578"> </a>
<a name="ln579">static gboolean</a>
<a name="ln580">reset_widget_idm979 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln581">{</a>
<a name="ln582">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln583">  {</a>
<a name="ln584">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln585">    return TRUE;</a>
<a name="ln586">  }</a>
<a name="ln587">  return FALSE;</a>
<a name="ln588">}</a>
<a name="ln589"> </a>
<a name="ln590">static gboolean</a>
<a name="ln591">reset_widget_idm985 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln592">{</a>
<a name="ln593">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln594">  {</a>
<a name="ln595">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln596">    return TRUE;</a>
<a name="ln597">  }</a>
<a name="ln598">  return FALSE;</a>
<a name="ln599">}</a>
<a name="ln600"> </a>
<a name="ln601">static gboolean</a>
<a name="ln602">reset_widget_idm1033 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln603">{</a>
<a name="ln604">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln605">  {</a>
<a name="ln606">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 1);</a>
<a name="ln607">    return TRUE;</a>
<a name="ln608">  }</a>
<a name="ln609">  return FALSE;</a>
<a name="ln610">}</a>
<a name="ln611"> </a>
<a name="ln612">static gboolean</a>
<a name="ln613">reset_widget_idm1043 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln614">{</a>
<a name="ln615">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln616">  {</a>
<a name="ln617">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 3);</a>
<a name="ln618">    return TRUE;</a>
<a name="ln619">  }</a>
<a name="ln620">  return FALSE;</a>
<a name="ln621">}</a>
<a name="ln622"> </a>
<a name="ln623">static gboolean</a>
<a name="ln624">reset_widget_idm1168 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln625">{</a>
<a name="ln626">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln627">  {</a>
<a name="ln628">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln629">    return TRUE;</a>
<a name="ln630">  }</a>
<a name="ln631">  return FALSE;</a>
<a name="ln632">}</a>
<a name="ln633"> </a>
<a name="ln634">static gboolean</a>
<a name="ln635">reset_widget_idm1417 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln636">{</a>
<a name="ln637">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln638">  {</a>
<a name="ln639">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), 0);</a>
<a name="ln640">    return TRUE;</a>
<a name="ln641">  }</a>
<a name="ln642">  return FALSE;</a>
<a name="ln643">}</a>
<a name="ln644"> </a>
<a name="ln645">static gboolean</a>
<a name="ln646">reset_widget_idm1433 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln647">{</a>
<a name="ln648">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln649">  {</a>
<a name="ln650">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln651">    return TRUE;</a>
<a name="ln652">  }</a>
<a name="ln653">  return FALSE;</a>
<a name="ln654">}</a>
<a name="ln655"> </a>
<a name="ln656">static gboolean</a>
<a name="ln657">reset_widget_idm1439 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln658">{</a>
<a name="ln659">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln660">  {</a>
<a name="ln661">    gtk_entry_set_text(GTK_ENTRY(widget), &quot;aplay&quot;);</a>
<a name="ln662">    return TRUE;</a>
<a name="ln663">  }</a>
<a name="ln664">  return FALSE;</a>
<a name="ln665">}</a>
<a name="ln666"> </a>
<a name="ln667">static gboolean</a>
<a name="ln668">reset_widget_idm1445 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln669">{</a>
<a name="ln670">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln671">  {</a>
<a name="ln672">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), TRUE);</a>
<a name="ln673">    return TRUE;</a>
<a name="ln674">  }</a>
<a name="ln675">  return FALSE;</a>
<a name="ln676">}</a>
<a name="ln677"> </a>
<a name="ln678">static gboolean</a>
<a name="ln679">reset_widget_idm1451 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln680">{</a>
<a name="ln681">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln682">  {</a>
<a name="ln683">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln684">    return TRUE;</a>
<a name="ln685">  }</a>
<a name="ln686">  return FALSE;</a>
<a name="ln687">}</a>
<a name="ln688"> </a>
<a name="ln689">static gboolean</a>
<a name="ln690">reset_widget_idm1457 (GtkWidget *label, GdkEventButton *event, GtkWidget *widget)</a>
<a name="ln691">{</a>
<a name="ln692">  if(event-&gt;type == GDK_2BUTTON_PRESS)</a>
<a name="ln693">  {</a>
<a name="ln694">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), FALSE);</a>
<a name="ln695">    return TRUE;</a>
<a name="ln696">  }</a>
<a name="ln697">  return FALSE;</a>
<a name="ln698">}</a>
<a name="ln699"> </a>
<a name="ln700">static void</a>
<a name="ln701">preferences_callback_idm14 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln702">{</a>
<a name="ln703">  float factor = 1.0f;</a>
<a name="ln704">  dt_conf_set_int(&quot;panel_width&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln705">}</a>
<a name="ln706"> </a>
<a name="ln707">static void</a>
<a name="ln708">preferences_callback_idm20 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln709">{</a>
<a name="ln710">  float factor = 1.0f;</a>
<a name="ln711">  dt_conf_set_int(&quot;slideshow_delay&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln712">}</a>
<a name="ln713"> </a>
<a name="ln714">static void</a>
<a name="ln715">preferences_callback_idm25 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln716">{</a>
<a name="ln717">  float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln718">  dt_conf_set_int64(&quot;cache_memory&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln719">}</a>
<a name="ln720"> </a>
<a name="ln721">static void</a>
<a name="ln722">preferences_callback_idm31 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln723">{</a>
<a name="ln724">  dt_conf_set_bool(&quot;cache_disk_backend&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln725">}</a>
<a name="ln726"> </a>
<a name="ln727">static void</a>
<a name="ln728">preferences_callback_idm37 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln729">{</a>
<a name="ln730">  dt_conf_set_bool(&quot;cache_color_managed&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln731">}</a>
<a name="ln732"> </a>
<a name="ln733">static void</a>
<a name="ln734">preferences_callback_idm43 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln735">{</a>
<a name="ln736">  float factor = 1.0f;</a>
<a name="ln737">  dt_conf_set_int(&quot;worker_threads&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln738">}</a>
<a name="ln739"> </a>
<a name="ln740">static void</a>
<a name="ln741">preferences_callback_idm49 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln742">{</a>
<a name="ln743">  float factor = 1.0f;</a>
<a name="ln744">  dt_conf_set_int(&quot;host_memory_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln745">}</a>
<a name="ln746"> </a>
<a name="ln747">static void</a>
<a name="ln748">preferences_callback_idm55 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln749">{</a>
<a name="ln750">  float factor = 1.0f;</a>
<a name="ln751">  dt_conf_set_int(&quot;singlebuffer_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln752">}</a>
<a name="ln753"> </a>
<a name="ln754">static void</a>
<a name="ln755">preferences_callback_idm139 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln756">{</a>
<a name="ln757">  dt_conf_set_bool(&quot;never_use_embedded_thumb&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln758">}</a>
<a name="ln759"> </a>
<a name="ln760">static void</a>
<a name="ln761">preferences_callback_idm145 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln762">{</a>
<a name="ln763">  dt_conf_set_bool(&quot;write_sidecar_files&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln764">}</a>
<a name="ln765"> </a>
<a name="ln766">static void</a>
<a name="ln767">preferences_callback_idm151 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln768">{</a>
<a name="ln769">  GtkTreeIter iter;</a>
<a name="ln770">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln771">  {</a>
<a name="ln772">    gchar *s = NULL;</a>
<a name="ln773">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln774">    dt_conf_set_string(&quot;compress_xmp_tags&quot;, s);</a>
<a name="ln775">    g_free(s);</a>
<a name="ln776">  }</a>
<a name="ln777"> </a>
<a name="ln778">}</a>
<a name="ln779"> </a>
<a name="ln780">static void</a>
<a name="ln781">preferences_callback_idm161 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln782">{</a>
<a name="ln783">  dt_conf_set_bool(&quot;omit_tag_hierarchy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln784">}</a>
<a name="ln785"> </a>
<a name="ln786">static void</a>
<a name="ln787">preferences_callback_idm167 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln788">{</a>
<a name="ln789">  dt_conf_set_bool(&quot;opencl&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln790">}</a>
<a name="ln791"> </a>
<a name="ln792">static void</a>
<a name="ln793">preferences_callback_idm173 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln794">{</a>
<a name="ln795">  GtkTreeIter iter;</a>
<a name="ln796">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln797">  {</a>
<a name="ln798">    gchar *s = NULL;</a>
<a name="ln799">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln800">    dt_conf_set_string(&quot;opencl_scheduling_profile&quot;, s);</a>
<a name="ln801">    g_free(s);</a>
<a name="ln802">  }</a>
<a name="ln803"> </a>
<a name="ln804">}</a>
<a name="ln805"> </a>
<a name="ln806">static void</a>
<a name="ln807">preferences_callback_idm207 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln808">{</a>
<a name="ln809">  dt_conf_set_bool(&quot;ask_before_remove&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln810">}</a>
<a name="ln811"> </a>
<a name="ln812">static void</a>
<a name="ln813">preferences_callback_idm213 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln814">{</a>
<a name="ln815">  dt_conf_set_bool(&quot;ask_before_delete&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln816">}</a>
<a name="ln817"> </a>
<a name="ln818">static void</a>
<a name="ln819">preferences_callback_idm219 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln820">{</a>
<a name="ln821">  dt_conf_set_bool(&quot;send_to_trash&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln822">}</a>
<a name="ln823"> </a>
<a name="ln824">static void</a>
<a name="ln825">preferences_callback_idm225 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln826">{</a>
<a name="ln827">  dt_conf_set_bool(&quot;ask_before_move&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln828">}</a>
<a name="ln829"> </a>
<a name="ln830">static void</a>
<a name="ln831">preferences_callback_idm231 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln832">{</a>
<a name="ln833">  dt_conf_set_bool(&quot;ask_before_copy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln834">}</a>
<a name="ln835"> </a>
<a name="ln836">static void</a>
<a name="ln837">preferences_callback_idm237 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln838">{</a>
<a name="ln839">  dt_conf_set_bool(&quot;ask_before_rmdir&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln840">}</a>
<a name="ln841"> </a>
<a name="ln842">static void</a>
<a name="ln843">preferences_callback_idm243 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln844">{</a>
<a name="ln845">  float factor = 1.0f;</a>
<a name="ln846">  dt_conf_set_int(&quot;show_folder_levels&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln847">}</a>
<a name="ln848"> </a>
<a name="ln849">static void</a>
<a name="ln850">preferences_callback_idm405 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln851">{</a>
<a name="ln852">  dt_conf_set_bool(&quot;ui_last/import_ignore_jpegs&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln853">}</a>
<a name="ln854"> </a>
<a name="ln855">static void</a>
<a name="ln856">preferences_callback_idm411 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln857">{</a>
<a name="ln858">  dt_conf_set_bool(&quot;ui_last/import_recursive&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln859">}</a>
<a name="ln860"> </a>
<a name="ln861">static void</a>
<a name="ln862">preferences_callback_idm417 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln863">{</a>
<a name="ln864">  dt_conf_set_string(&quot;ui_last/import_last_creator&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln865">}</a>
<a name="ln866"> </a>
<a name="ln867">static void</a>
<a name="ln868">preferences_callback_idm423 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln869">{</a>
<a name="ln870">  dt_conf_set_string(&quot;ui_last/import_last_publisher&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln871">}</a>
<a name="ln872"> </a>
<a name="ln873">static void</a>
<a name="ln874">preferences_callback_idm429 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln875">{</a>
<a name="ln876">  dt_conf_set_string(&quot;ui_last/import_last_rights&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln877">}</a>
<a name="ln878"> </a>
<a name="ln879">static void</a>
<a name="ln880">preferences_callback_idm435 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln881">{</a>
<a name="ln882">  dt_conf_set_string(&quot;ui_last/import_last_tags&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln883">}</a>
<a name="ln884"> </a>
<a name="ln885">static void</a>
<a name="ln886">preferences_callback_idm447 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln887">{</a>
<a name="ln888">  float factor = 1.0f;</a>
<a name="ln889">  dt_conf_set_int(&quot;ui_last/import_initial_rating&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln890">}</a>
<a name="ln891"> </a>
<a name="ln892">static void</a>
<a name="ln893">preferences_callback_idm459 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln894">{</a>
<a name="ln895">  dt_conf_set_bool(&quot;plugins/lighttable/filmstrip/visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln896">}</a>
<a name="ln897"> </a>
<a name="ln898">static void</a>
<a name="ln899">preferences_callback_idm477 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln900">{</a>
<a name="ln901">  GtkTreeIter iter;</a>
<a name="ln902">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln903">  {</a>
<a name="ln904">    gchar *s = NULL;</a>
<a name="ln905">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln906">    dt_conf_set_string(&quot;plugins/lighttable/thumbnail_hq_min_level&quot;, s);</a>
<a name="ln907">    g_free(s);</a>
<a name="ln908">  }</a>
<a name="ln909"> </a>
<a name="ln910">}</a>
<a name="ln911"> </a>
<a name="ln912">static void</a>
<a name="ln913">preferences_callback_idm493 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln914">{</a>
<a name="ln915">  dt_conf_set_bool(&quot;plugins/lighttable/extended_thumb_overlay&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln916">}</a>
<a name="ln917"> </a>
<a name="ln918">static void</a>
<a name="ln919">preferences_callback_idm499 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln920">{</a>
<a name="ln921">  GtkTreeIter iter;</a>
<a name="ln922">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln923">  {</a>
<a name="ln924">    gchar *s = NULL;</a>
<a name="ln925">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln926">    dt_conf_set_string(&quot;pressure_sensitivity&quot;, s);</a>
<a name="ln927">    g_free(s);</a>
<a name="ln928">  }</a>
<a name="ln929"> </a>
<a name="ln930">}</a>
<a name="ln931"> </a>
<a name="ln932">static void</a>
<a name="ln933">preferences_callback_idm512 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln934">{</a>
<a name="ln935">  GtkTreeIter iter;</a>
<a name="ln936">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln937">  {</a>
<a name="ln938">    gchar *s = NULL;</a>
<a name="ln939">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln940">    dt_conf_set_string(&quot;brush_smoothing&quot;, s);</a>
<a name="ln941">    g_free(s);</a>
<a name="ln942">  }</a>
<a name="ln943"> </a>
<a name="ln944">}</a>
<a name="ln945"> </a>
<a name="ln946">static void</a>
<a name="ln947">preferences_callback_idm522 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln948">{</a>
<a name="ln949">  GtkTreeIter iter;</a>
<a name="ln950">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln951">  {</a>
<a name="ln952">    gchar *s = NULL;</a>
<a name="ln953">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln954">    dt_conf_set_string(&quot;channel_display&quot;, s);</a>
<a name="ln955">    g_free(s);</a>
<a name="ln956">  }</a>
<a name="ln957"> </a>
<a name="ln958">}</a>
<a name="ln959"> </a>
<a name="ln960">static void</a>
<a name="ln961">preferences_callback_idm543 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln962">{</a>
<a name="ln963">  dt_conf_set_string(&quot;session/base_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln964">}</a>
<a name="ln965"> </a>
<a name="ln966">static void</a>
<a name="ln967">preferences_callback_idm549 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln968">{</a>
<a name="ln969">  dt_conf_set_string(&quot;session/sub_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln970">}</a>
<a name="ln971"> </a>
<a name="ln972">static void</a>
<a name="ln973">preferences_callback_idm555 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln974">{</a>
<a name="ln975">  dt_conf_set_string(&quot;session/filename_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln976">}</a>
<a name="ln977"> </a>
<a name="ln978">static void</a>
<a name="ln979">preferences_callback_idm837 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln980">{</a>
<a name="ln981">  dt_conf_set_bool(&quot;plugins/lighttable/tagging/ask_before_delete_tag&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln982">}</a>
<a name="ln983"> </a>
<a name="ln984">static void</a>
<a name="ln985">preferences_callback_idm843 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln986">{</a>
<a name="ln987">  dt_conf_set_bool(&quot;plugins/lighttable/style/ask_before_delete_style&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln988">}</a>
<a name="ln989"> </a>
<a name="ln990">static void</a>
<a name="ln991">preferences_callback_idm867 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln992">{</a>
<a name="ln993">  dt_conf_set_bool(&quot;plugins/map/filter_images_drawn&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln994">}</a>
<a name="ln995"> </a>
<a name="ln996">static void</a>
<a name="ln997">preferences_callback_idm873 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln998">{</a>
<a name="ln999">  float factor = 1.0f;</a>
<a name="ln1000">  dt_conf_set_int(&quot;plugins/map/max_images_drawn&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1001">}</a>
<a name="ln1002"> </a>
<a name="ln1003">static void</a>
<a name="ln1004">preferences_callback_idm879 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1005">{</a>
<a name="ln1006">  dt_conf_set_bool(&quot;plugins/lighttable/metadata_view/pretty_location&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1007">}</a>
<a name="ln1008"> </a>
<a name="ln1009">static void</a>
<a name="ln1010">preferences_callback_idm885 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1011">{</a>
<a name="ln1012">  dt_conf_set_bool(&quot;plugins/lighttable/draw_custom_metadata&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1013">}</a>
<a name="ln1014"> </a>
<a name="ln1015">static void</a>
<a name="ln1016">preferences_callback_idm891 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1017">{</a>
<a name="ln1018">  dt_conf_set_bool(&quot;lighttable/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1019">}</a>
<a name="ln1020"> </a>
<a name="ln1021">static void</a>
<a name="ln1022">preferences_callback_idm903 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1023">{</a>
<a name="ln1024">  dt_conf_set_bool(&quot;darkroom/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1025">}</a>
<a name="ln1026"> </a>
<a name="ln1027">static void</a>
<a name="ln1028">preferences_callback_idm909 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1029">{</a>
<a name="ln1030">  dt_conf_set_bool(&quot;lighttable/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1031">}</a>
<a name="ln1032"> </a>
<a name="ln1033">static void</a>
<a name="ln1034">preferences_callback_idm915 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1035">{</a>
<a name="ln1036">  dt_conf_set_bool(&quot;darkroom/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1037">}</a>
<a name="ln1038"> </a>
<a name="ln1039">static void</a>
<a name="ln1040">preferences_callback_idm921 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1041">{</a>
<a name="ln1042">  float factor = 1.0f;</a>
<a name="ln1043">  dt_conf_set_int(&quot;plugins/darkroom/ui/border_size&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1044">}</a>
<a name="ln1045"> </a>
<a name="ln1046">static void</a>
<a name="ln1047">preferences_callback_idm927 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1048">{</a>
<a name="ln1049">  GtkTreeIter iter;</a>
<a name="ln1050">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1051">  {</a>
<a name="ln1052">    gchar *s = NULL;</a>
<a name="ln1053">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1054">    dt_conf_set_string(&quot;scrollbars&quot;, s);</a>
<a name="ln1055">    g_free(s);</a>
<a name="ln1056">  }</a>
<a name="ln1057"> </a>
<a name="ln1058">}</a>
<a name="ln1059"> </a>
<a name="ln1060">static void</a>
<a name="ln1061">preferences_callback_idm967 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1062">{</a>
<a name="ln1063">  dt_conf_set_bool(&quot;plugins/lighttable/export/force_lcms2&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1064">}</a>
<a name="ln1065"> </a>
<a name="ln1066">static void</a>
<a name="ln1067">preferences_callback_idm973 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1068">{</a>
<a name="ln1069">  dt_conf_set_bool(&quot;plugins/slideshow/high_quality&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1070">}</a>
<a name="ln1071"> </a>
<a name="ln1072">static void</a>
<a name="ln1073">preferences_callback_idm979 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1074">{</a>
<a name="ln1075">  dt_conf_set_bool(&quot;plugins/lighttable/export/high_quality_processing&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1076">}</a>
<a name="ln1077"> </a>
<a name="ln1078">static void</a>
<a name="ln1079">preferences_callback_idm985 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1080">{</a>
<a name="ln1081">  dt_conf_set_bool(&quot;rating_one_double_tap&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1082">}</a>
<a name="ln1083"> </a>
<a name="ln1084">static void</a>
<a name="ln1085">preferences_callback_idm1033 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1086">{</a>
<a name="ln1087">  GtkTreeIter iter;</a>
<a name="ln1088">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1089">  {</a>
<a name="ln1090">    gchar *s = NULL;</a>
<a name="ln1091">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1092">    dt_conf_set_string(&quot;plugins/darkroom/demosaic/quality&quot;, s);</a>
<a name="ln1093">    g_free(s);</a>
<a name="ln1094">  }</a>
<a name="ln1095"> </a>
<a name="ln1096">}</a>
<a name="ln1097"> </a>
<a name="ln1098">static void</a>
<a name="ln1099">preferences_callback_idm1043 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1100">{</a>
<a name="ln1101">  GtkTreeIter iter;</a>
<a name="ln1102">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1103">  {</a>
<a name="ln1104">    gchar *s = NULL;</a>
<a name="ln1105">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1106">    dt_conf_set_string(&quot;plugins/lighttable/export/pixel_interpolator&quot;, s);</a>
<a name="ln1107">    g_free(s);</a>
<a name="ln1108">  }</a>
<a name="ln1109"> </a>
<a name="ln1110">}</a>
<a name="ln1111"> </a>
<a name="ln1112">static void</a>
<a name="ln1113">preferences_callback_idm1168 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1114">{</a>
<a name="ln1115">  GtkTreeIter iter;</a>
<a name="ln1116">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1117">  {</a>
<a name="ln1118">    gchar *s = NULL;</a>
<a name="ln1119">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1120">    dt_conf_set_string(&quot;plugins/pwstorage/pwstorage_backend&quot;, s);</a>
<a name="ln1121">    g_free(s);</a>
<a name="ln1122">  }</a>
<a name="ln1123"> </a>
<a name="ln1124">}</a>
<a name="ln1125"> </a>
<a name="ln1126">static void</a>
<a name="ln1127">preferences_callback_idm1417 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1128">{</a>
<a name="ln1129">  GtkTreeIter iter;</a>
<a name="ln1130">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1131">  {</a>
<a name="ln1132">    gchar *s = NULL;</a>
<a name="ln1133">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1134">    dt_conf_set_string(&quot;ui_last/display_profile_source&quot;, s);</a>
<a name="ln1135">    g_free(s);</a>
<a name="ln1136">  }</a>
<a name="ln1137"> </a>
<a name="ln1138">}</a>
<a name="ln1139"> </a>
<a name="ln1140">static void</a>
<a name="ln1141">preferences_callback_idm1433 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1142">{</a>
<a name="ln1143">  dt_conf_set_bool(&quot;run_crawler_on_start&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1144">}</a>
<a name="ln1145"> </a>
<a name="ln1146">static void</a>
<a name="ln1147">preferences_callback_idm1439 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1148">{</a>
<a name="ln1149">  dt_conf_set_string(&quot;plugins/lighttable/audio_player&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1150">}</a>
<a name="ln1151"> </a>
<a name="ln1152">static void</a>
<a name="ln1153">preferences_callback_idm1445 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1154">{</a>
<a name="ln1155">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1156">}</a>
<a name="ln1157"> </a>
<a name="ln1158">static void</a>
<a name="ln1159">preferences_callback_idm1451 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1160">{</a>
<a name="ln1161">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply_percamera_presets&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1162">}</a>
<a name="ln1163"> </a>
<a name="ln1164">static void</a>
<a name="ln1165">preferences_callback_idm1457 (GtkWidget *widget, gpointer user_data)</a>
<a name="ln1166">{</a>
<a name="ln1167">  dt_conf_set_bool(&quot;plugins/darkroom/sharpen/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1168">}</a>
<a name="ln1169"> </a>
<a name="ln1170">static void</a>
<a name="ln1171">preferences_response_callback_idm14 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1172">{</a>
<a name="ln1173">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1174">    return;</a>
<a name="ln1175">  float factor = 1.0f;</a>
<a name="ln1176">  dt_conf_set_int(&quot;panel_width&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1177">}</a>
<a name="ln1178"> </a>
<a name="ln1179">static void</a>
<a name="ln1180">preferences_response_callback_idm20 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1181">{</a>
<a name="ln1182">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1183">    return;</a>
<a name="ln1184">  float factor = 1.0f;</a>
<a name="ln1185">  dt_conf_set_int(&quot;slideshow_delay&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1186">}</a>
<a name="ln1187"> </a>
<a name="ln1188">static void</a>
<a name="ln1189">preferences_response_callback_idm25 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1190">{</a>
<a name="ln1191">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1192">    return;</a>
<a name="ln1193">  float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln1194">  dt_conf_set_int64(&quot;cache_memory&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1195">}</a>
<a name="ln1196"> </a>
<a name="ln1197">static void</a>
<a name="ln1198">preferences_response_callback_idm31 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1199">{</a>
<a name="ln1200">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1201">    return;</a>
<a name="ln1202">  dt_conf_set_bool(&quot;cache_disk_backend&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1203">}</a>
<a name="ln1204"> </a>
<a name="ln1205">static void</a>
<a name="ln1206">preferences_response_callback_idm37 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1207">{</a>
<a name="ln1208">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1209">    return;</a>
<a name="ln1210">  dt_conf_set_bool(&quot;cache_color_managed&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1211">}</a>
<a name="ln1212"> </a>
<a name="ln1213">static void</a>
<a name="ln1214">preferences_response_callback_idm43 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1215">{</a>
<a name="ln1216">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1217">    return;</a>
<a name="ln1218">  float factor = 1.0f;</a>
<a name="ln1219">  dt_conf_set_int(&quot;worker_threads&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1220">}</a>
<a name="ln1221"> </a>
<a name="ln1222">static void</a>
<a name="ln1223">preferences_response_callback_idm49 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1224">{</a>
<a name="ln1225">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1226">    return;</a>
<a name="ln1227">  float factor = 1.0f;</a>
<a name="ln1228">  dt_conf_set_int(&quot;host_memory_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1229">}</a>
<a name="ln1230"> </a>
<a name="ln1231">static void</a>
<a name="ln1232">preferences_response_callback_idm55 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1233">{</a>
<a name="ln1234">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1235">    return;</a>
<a name="ln1236">  float factor = 1.0f;</a>
<a name="ln1237">  dt_conf_set_int(&quot;singlebuffer_limit&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1238">}</a>
<a name="ln1239"> </a>
<a name="ln1240">static void</a>
<a name="ln1241">preferences_response_callback_idm139 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1242">{</a>
<a name="ln1243">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1244">    return;</a>
<a name="ln1245">  dt_conf_set_bool(&quot;never_use_embedded_thumb&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1246">}</a>
<a name="ln1247"> </a>
<a name="ln1248">static void</a>
<a name="ln1249">preferences_response_callback_idm145 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1250">{</a>
<a name="ln1251">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1252">    return;</a>
<a name="ln1253">  dt_conf_set_bool(&quot;write_sidecar_files&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1254">}</a>
<a name="ln1255"> </a>
<a name="ln1256">static void</a>
<a name="ln1257">preferences_response_callback_idm151 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1258">{</a>
<a name="ln1259">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1260">    return;</a>
<a name="ln1261">  GtkTreeIter iter;</a>
<a name="ln1262">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1263">  {</a>
<a name="ln1264">    gchar *s = NULL;</a>
<a name="ln1265">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1266">    dt_conf_set_string(&quot;compress_xmp_tags&quot;, s);</a>
<a name="ln1267">    g_free(s);</a>
<a name="ln1268">  }</a>
<a name="ln1269"> </a>
<a name="ln1270">}</a>
<a name="ln1271"> </a>
<a name="ln1272">static void</a>
<a name="ln1273">preferences_response_callback_idm161 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1274">{</a>
<a name="ln1275">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1276">    return;</a>
<a name="ln1277">  dt_conf_set_bool(&quot;omit_tag_hierarchy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1278">}</a>
<a name="ln1279"> </a>
<a name="ln1280">static void</a>
<a name="ln1281">preferences_response_callback_idm167 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1282">{</a>
<a name="ln1283">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1284">    return;</a>
<a name="ln1285">  dt_conf_set_bool(&quot;opencl&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1286">}</a>
<a name="ln1287"> </a>
<a name="ln1288">static void</a>
<a name="ln1289">preferences_response_callback_idm173 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1290">{</a>
<a name="ln1291">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1292">    return;</a>
<a name="ln1293">  GtkTreeIter iter;</a>
<a name="ln1294">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1295">  {</a>
<a name="ln1296">    gchar *s = NULL;</a>
<a name="ln1297">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1298">    dt_conf_set_string(&quot;opencl_scheduling_profile&quot;, s);</a>
<a name="ln1299">    g_free(s);</a>
<a name="ln1300">  }</a>
<a name="ln1301"> </a>
<a name="ln1302">}</a>
<a name="ln1303"> </a>
<a name="ln1304">static void</a>
<a name="ln1305">preferences_response_callback_idm207 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1306">{</a>
<a name="ln1307">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1308">    return;</a>
<a name="ln1309">  dt_conf_set_bool(&quot;ask_before_remove&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1310">}</a>
<a name="ln1311"> </a>
<a name="ln1312">static void</a>
<a name="ln1313">preferences_response_callback_idm213 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1314">{</a>
<a name="ln1315">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1316">    return;</a>
<a name="ln1317">  dt_conf_set_bool(&quot;ask_before_delete&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1318">}</a>
<a name="ln1319"> </a>
<a name="ln1320">static void</a>
<a name="ln1321">preferences_response_callback_idm219 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1322">{</a>
<a name="ln1323">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1324">    return;</a>
<a name="ln1325">  dt_conf_set_bool(&quot;send_to_trash&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1326">}</a>
<a name="ln1327"> </a>
<a name="ln1328">static void</a>
<a name="ln1329">preferences_response_callback_idm225 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1330">{</a>
<a name="ln1331">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1332">    return;</a>
<a name="ln1333">  dt_conf_set_bool(&quot;ask_before_move&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1334">}</a>
<a name="ln1335"> </a>
<a name="ln1336">static void</a>
<a name="ln1337">preferences_response_callback_idm231 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1338">{</a>
<a name="ln1339">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1340">    return;</a>
<a name="ln1341">  dt_conf_set_bool(&quot;ask_before_copy&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1342">}</a>
<a name="ln1343"> </a>
<a name="ln1344">static void</a>
<a name="ln1345">preferences_response_callback_idm237 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1346">{</a>
<a name="ln1347">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1348">    return;</a>
<a name="ln1349">  dt_conf_set_bool(&quot;ask_before_rmdir&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1350">}</a>
<a name="ln1351"> </a>
<a name="ln1352">static void</a>
<a name="ln1353">preferences_response_callback_idm243 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1354">{</a>
<a name="ln1355">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1356">    return;</a>
<a name="ln1357">  float factor = 1.0f;</a>
<a name="ln1358">  dt_conf_set_int(&quot;show_folder_levels&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1359">}</a>
<a name="ln1360"> </a>
<a name="ln1361">static void</a>
<a name="ln1362">preferences_response_callback_idm405 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1363">{</a>
<a name="ln1364">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1365">    return;</a>
<a name="ln1366">  dt_conf_set_bool(&quot;ui_last/import_ignore_jpegs&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1367">}</a>
<a name="ln1368"> </a>
<a name="ln1369">static void</a>
<a name="ln1370">preferences_response_callback_idm411 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1371">{</a>
<a name="ln1372">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1373">    return;</a>
<a name="ln1374">  dt_conf_set_bool(&quot;ui_last/import_recursive&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1375">}</a>
<a name="ln1376"> </a>
<a name="ln1377">static void</a>
<a name="ln1378">preferences_response_callback_idm417 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1379">{</a>
<a name="ln1380">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1381">    return;</a>
<a name="ln1382">  dt_conf_set_string(&quot;ui_last/import_last_creator&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1383">}</a>
<a name="ln1384"> </a>
<a name="ln1385">static void</a>
<a name="ln1386">preferences_response_callback_idm423 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1387">{</a>
<a name="ln1388">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1389">    return;</a>
<a name="ln1390">  dt_conf_set_string(&quot;ui_last/import_last_publisher&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1391">}</a>
<a name="ln1392"> </a>
<a name="ln1393">static void</a>
<a name="ln1394">preferences_response_callback_idm429 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1395">{</a>
<a name="ln1396">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1397">    return;</a>
<a name="ln1398">  dt_conf_set_string(&quot;ui_last/import_last_rights&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1399">}</a>
<a name="ln1400"> </a>
<a name="ln1401">static void</a>
<a name="ln1402">preferences_response_callback_idm435 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1403">{</a>
<a name="ln1404">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1405">    return;</a>
<a name="ln1406">  dt_conf_set_string(&quot;ui_last/import_last_tags&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1407">}</a>
<a name="ln1408"> </a>
<a name="ln1409">static void</a>
<a name="ln1410">preferences_response_callback_idm447 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1411">{</a>
<a name="ln1412">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1413">    return;</a>
<a name="ln1414">  float factor = 1.0f;</a>
<a name="ln1415">  dt_conf_set_int(&quot;ui_last/import_initial_rating&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1416">}</a>
<a name="ln1417"> </a>
<a name="ln1418">static void</a>
<a name="ln1419">preferences_response_callback_idm459 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1420">{</a>
<a name="ln1421">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1422">    return;</a>
<a name="ln1423">  dt_conf_set_bool(&quot;plugins/lighttable/filmstrip/visible&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1424">}</a>
<a name="ln1425"> </a>
<a name="ln1426">static void</a>
<a name="ln1427">preferences_response_callback_idm477 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1428">{</a>
<a name="ln1429">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1430">    return;</a>
<a name="ln1431">  GtkTreeIter iter;</a>
<a name="ln1432">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1433">  {</a>
<a name="ln1434">    gchar *s = NULL;</a>
<a name="ln1435">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1436">    dt_conf_set_string(&quot;plugins/lighttable/thumbnail_hq_min_level&quot;, s);</a>
<a name="ln1437">    g_free(s);</a>
<a name="ln1438">  }</a>
<a name="ln1439"> </a>
<a name="ln1440">}</a>
<a name="ln1441"> </a>
<a name="ln1442">static void</a>
<a name="ln1443">preferences_response_callback_idm493 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1444">{</a>
<a name="ln1445">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1446">    return;</a>
<a name="ln1447">  dt_conf_set_bool(&quot;plugins/lighttable/extended_thumb_overlay&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1448">}</a>
<a name="ln1449"> </a>
<a name="ln1450">static void</a>
<a name="ln1451">preferences_response_callback_idm499 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1452">{</a>
<a name="ln1453">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1454">    return;</a>
<a name="ln1455">  GtkTreeIter iter;</a>
<a name="ln1456">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1457">  {</a>
<a name="ln1458">    gchar *s = NULL;</a>
<a name="ln1459">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1460">    dt_conf_set_string(&quot;pressure_sensitivity&quot;, s);</a>
<a name="ln1461">    g_free(s);</a>
<a name="ln1462">  }</a>
<a name="ln1463"> </a>
<a name="ln1464">}</a>
<a name="ln1465"> </a>
<a name="ln1466">static void</a>
<a name="ln1467">preferences_response_callback_idm512 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1468">{</a>
<a name="ln1469">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1470">    return;</a>
<a name="ln1471">  GtkTreeIter iter;</a>
<a name="ln1472">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1473">  {</a>
<a name="ln1474">    gchar *s = NULL;</a>
<a name="ln1475">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1476">    dt_conf_set_string(&quot;brush_smoothing&quot;, s);</a>
<a name="ln1477">    g_free(s);</a>
<a name="ln1478">  }</a>
<a name="ln1479"> </a>
<a name="ln1480">}</a>
<a name="ln1481"> </a>
<a name="ln1482">static void</a>
<a name="ln1483">preferences_response_callback_idm522 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1484">{</a>
<a name="ln1485">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1486">    return;</a>
<a name="ln1487">  GtkTreeIter iter;</a>
<a name="ln1488">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1489">  {</a>
<a name="ln1490">    gchar *s = NULL;</a>
<a name="ln1491">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1492">    dt_conf_set_string(&quot;channel_display&quot;, s);</a>
<a name="ln1493">    g_free(s);</a>
<a name="ln1494">  }</a>
<a name="ln1495"> </a>
<a name="ln1496">}</a>
<a name="ln1497"> </a>
<a name="ln1498">static void</a>
<a name="ln1499">preferences_response_callback_idm543 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1500">{</a>
<a name="ln1501">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1502">    return;</a>
<a name="ln1503">  dt_conf_set_string(&quot;session/base_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1504">}</a>
<a name="ln1505"> </a>
<a name="ln1506">static void</a>
<a name="ln1507">preferences_response_callback_idm549 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1508">{</a>
<a name="ln1509">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1510">    return;</a>
<a name="ln1511">  dt_conf_set_string(&quot;session/sub_directory_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1512">}</a>
<a name="ln1513"> </a>
<a name="ln1514">static void</a>
<a name="ln1515">preferences_response_callback_idm555 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1516">{</a>
<a name="ln1517">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1518">    return;</a>
<a name="ln1519">  dt_conf_set_string(&quot;session/filename_pattern&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1520">}</a>
<a name="ln1521"> </a>
<a name="ln1522">static void</a>
<a name="ln1523">preferences_response_callback_idm837 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1524">{</a>
<a name="ln1525">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1526">    return;</a>
<a name="ln1527">  dt_conf_set_bool(&quot;plugins/lighttable/tagging/ask_before_delete_tag&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1528">}</a>
<a name="ln1529"> </a>
<a name="ln1530">static void</a>
<a name="ln1531">preferences_response_callback_idm843 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1532">{</a>
<a name="ln1533">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1534">    return;</a>
<a name="ln1535">  dt_conf_set_bool(&quot;plugins/lighttable/style/ask_before_delete_style&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1536">}</a>
<a name="ln1537"> </a>
<a name="ln1538">static void</a>
<a name="ln1539">preferences_response_callback_idm867 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1540">{</a>
<a name="ln1541">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1542">    return;</a>
<a name="ln1543">  dt_conf_set_bool(&quot;plugins/map/filter_images_drawn&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1544">}</a>
<a name="ln1545"> </a>
<a name="ln1546">static void</a>
<a name="ln1547">preferences_response_callback_idm873 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1548">{</a>
<a name="ln1549">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1550">    return;</a>
<a name="ln1551">  float factor = 1.0f;</a>
<a name="ln1552">  dt_conf_set_int(&quot;plugins/map/max_images_drawn&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1553">}</a>
<a name="ln1554"> </a>
<a name="ln1555">static void</a>
<a name="ln1556">preferences_response_callback_idm879 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1557">{</a>
<a name="ln1558">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1559">    return;</a>
<a name="ln1560">  dt_conf_set_bool(&quot;plugins/lighttable/metadata_view/pretty_location&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1561">}</a>
<a name="ln1562"> </a>
<a name="ln1563">static void</a>
<a name="ln1564">preferences_response_callback_idm885 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1565">{</a>
<a name="ln1566">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1567">    return;</a>
<a name="ln1568">  dt_conf_set_bool(&quot;plugins/lighttable/draw_custom_metadata&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1569">}</a>
<a name="ln1570"> </a>
<a name="ln1571">static void</a>
<a name="ln1572">preferences_response_callback_idm891 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1573">{</a>
<a name="ln1574">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1575">    return;</a>
<a name="ln1576">  dt_conf_set_bool(&quot;lighttable/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1577">}</a>
<a name="ln1578"> </a>
<a name="ln1579">static void</a>
<a name="ln1580">preferences_response_callback_idm903 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1581">{</a>
<a name="ln1582">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1583">    return;</a>
<a name="ln1584">  dt_conf_set_bool(&quot;darkroom/ui/single_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1585">}</a>
<a name="ln1586"> </a>
<a name="ln1587">static void</a>
<a name="ln1588">preferences_response_callback_idm909 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1589">{</a>
<a name="ln1590">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1591">    return;</a>
<a name="ln1592">  dt_conf_set_bool(&quot;lighttable/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1593">}</a>
<a name="ln1594"> </a>
<a name="ln1595">static void</a>
<a name="ln1596">preferences_response_callback_idm915 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1597">{</a>
<a name="ln1598">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1599">    return;</a>
<a name="ln1600">  dt_conf_set_bool(&quot;darkroom/ui/scroll_to_module&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1601">}</a>
<a name="ln1602"> </a>
<a name="ln1603">static void</a>
<a name="ln1604">preferences_response_callback_idm921 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1605">{</a>
<a name="ln1606">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1607">    return;</a>
<a name="ln1608">  float factor = 1.0f;</a>
<a name="ln1609">  dt_conf_set_int(&quot;plugins/darkroom/ui/border_size&quot;, gtk_spin_button_get_value(GTK_SPIN_BUTTON(widget)) / factor);</a>
<a name="ln1610">}</a>
<a name="ln1611"> </a>
<a name="ln1612">static void</a>
<a name="ln1613">preferences_response_callback_idm927 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1614">{</a>
<a name="ln1615">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1616">    return;</a>
<a name="ln1617">  GtkTreeIter iter;</a>
<a name="ln1618">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1619">  {</a>
<a name="ln1620">    gchar *s = NULL;</a>
<a name="ln1621">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1622">    dt_conf_set_string(&quot;scrollbars&quot;, s);</a>
<a name="ln1623">    g_free(s);</a>
<a name="ln1624">  }</a>
<a name="ln1625"> </a>
<a name="ln1626">}</a>
<a name="ln1627"> </a>
<a name="ln1628">static void</a>
<a name="ln1629">preferences_response_callback_idm967 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1630">{</a>
<a name="ln1631">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1632">    return;</a>
<a name="ln1633">  dt_conf_set_bool(&quot;plugins/lighttable/export/force_lcms2&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1634">}</a>
<a name="ln1635"> </a>
<a name="ln1636">static void</a>
<a name="ln1637">preferences_response_callback_idm973 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1638">{</a>
<a name="ln1639">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1640">    return;</a>
<a name="ln1641">  dt_conf_set_bool(&quot;plugins/slideshow/high_quality&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1642">}</a>
<a name="ln1643"> </a>
<a name="ln1644">static void</a>
<a name="ln1645">preferences_response_callback_idm979 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1646">{</a>
<a name="ln1647">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1648">    return;</a>
<a name="ln1649">  dt_conf_set_bool(&quot;plugins/lighttable/export/high_quality_processing&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1650">}</a>
<a name="ln1651"> </a>
<a name="ln1652">static void</a>
<a name="ln1653">preferences_response_callback_idm985 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1654">{</a>
<a name="ln1655">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1656">    return;</a>
<a name="ln1657">  dt_conf_set_bool(&quot;rating_one_double_tap&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1658">}</a>
<a name="ln1659"> </a>
<a name="ln1660">static void</a>
<a name="ln1661">preferences_response_callback_idm1033 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1662">{</a>
<a name="ln1663">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1664">    return;</a>
<a name="ln1665">  GtkTreeIter iter;</a>
<a name="ln1666">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1667">  {</a>
<a name="ln1668">    gchar *s = NULL;</a>
<a name="ln1669">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1670">    dt_conf_set_string(&quot;plugins/darkroom/demosaic/quality&quot;, s);</a>
<a name="ln1671">    g_free(s);</a>
<a name="ln1672">  }</a>
<a name="ln1673"> </a>
<a name="ln1674">}</a>
<a name="ln1675"> </a>
<a name="ln1676">static void</a>
<a name="ln1677">preferences_response_callback_idm1043 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1678">{</a>
<a name="ln1679">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1680">    return;</a>
<a name="ln1681">  GtkTreeIter iter;</a>
<a name="ln1682">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1683">  {</a>
<a name="ln1684">    gchar *s = NULL;</a>
<a name="ln1685">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1686">    dt_conf_set_string(&quot;plugins/lighttable/export/pixel_interpolator&quot;, s);</a>
<a name="ln1687">    g_free(s);</a>
<a name="ln1688">  }</a>
<a name="ln1689"> </a>
<a name="ln1690">}</a>
<a name="ln1691"> </a>
<a name="ln1692">static void</a>
<a name="ln1693">preferences_response_callback_idm1168 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1694">{</a>
<a name="ln1695">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1696">    return;</a>
<a name="ln1697">  GtkTreeIter iter;</a>
<a name="ln1698">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1699">  {</a>
<a name="ln1700">    gchar *s = NULL;</a>
<a name="ln1701">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1702">    dt_conf_set_string(&quot;plugins/pwstorage/pwstorage_backend&quot;, s);</a>
<a name="ln1703">    g_free(s);</a>
<a name="ln1704">  }</a>
<a name="ln1705"> </a>
<a name="ln1706">}</a>
<a name="ln1707"> </a>
<a name="ln1708">static void</a>
<a name="ln1709">preferences_response_callback_idm1417 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1710">{</a>
<a name="ln1711">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1712">    return;</a>
<a name="ln1713">  GtkTreeIter iter;</a>
<a name="ln1714">  if(gtk_combo_box_get_active_iter(GTK_COMBO_BOX(widget), &amp;iter))</a>
<a name="ln1715">  {</a>
<a name="ln1716">    gchar *s = NULL;</a>
<a name="ln1717">    gtk_tree_model_get(gtk_combo_box_get_model(GTK_COMBO_BOX(widget)), &amp;iter, 0, &amp;s, -1);</a>
<a name="ln1718">    dt_conf_set_string(&quot;ui_last/display_profile_source&quot;, s);</a>
<a name="ln1719">    g_free(s);</a>
<a name="ln1720">  }</a>
<a name="ln1721"> </a>
<a name="ln1722">}</a>
<a name="ln1723"> </a>
<a name="ln1724">static void</a>
<a name="ln1725">preferences_response_callback_idm1433 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1726">{</a>
<a name="ln1727">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1728">    return;</a>
<a name="ln1729">  dt_conf_set_bool(&quot;run_crawler_on_start&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1730">}</a>
<a name="ln1731"> </a>
<a name="ln1732">static void</a>
<a name="ln1733">preferences_response_callback_idm1439 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1734">{</a>
<a name="ln1735">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1736">    return;</a>
<a name="ln1737">  dt_conf_set_string(&quot;plugins/lighttable/audio_player&quot;, gtk_entry_get_text(GTK_ENTRY(widget)));</a>
<a name="ln1738">}</a>
<a name="ln1739"> </a>
<a name="ln1740">static void</a>
<a name="ln1741">preferences_response_callback_idm1445 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1742">{</a>
<a name="ln1743">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1744">    return;</a>
<a name="ln1745">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1746">}</a>
<a name="ln1747"> </a>
<a name="ln1748">static void</a>
<a name="ln1749">preferences_response_callback_idm1451 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1750">{</a>
<a name="ln1751">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1752">    return;</a>
<a name="ln1753">  dt_conf_set_bool(&quot;plugins/darkroom/basecurve/auto_apply_percamera_presets&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1754">}</a>
<a name="ln1755"> </a>
<a name="ln1756">static void</a>
<a name="ln1757">preferences_response_callback_idm1457 (GtkDialog *dialog, gint response_id, GtkWidget *widget)</a>
<a name="ln1758">{</a>
<a name="ln1759">  if(response_id != GTK_RESPONSE_ACCEPT)</a>
<a name="ln1760">    return;</a>
<a name="ln1761">  dt_conf_set_bool(&quot;plugins/darkroom/sharpen/auto_apply&quot;, gtk_toggle_button_get_active(GTK_TOGGLE_BUTTON(widget)));</a>
<a name="ln1762">}</a>
<a name="ln1763"> </a>
<a name="ln1764"> </a>
<a name="ln1765">static void</a>
<a name="ln1766">init_tab_gui (GtkWidget *dialog, GtkWidget *tab, void (*hardcoded_part)(GtkWidget *grid, int *line))</a>
<a name="ln1767">{</a>
<a name="ln1768">  GtkWidget *widget, *label, *labelev, *viewport;</a>
<a name="ln1769">  GtkWidget *grid = gtk_grid_new();</a>
<a name="ln1770">  gtk_grid_set_row_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln1771">  gtk_grid_set_column_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln1772">  gtk_grid_set_row_homogeneous(GTK_GRID(grid), TRUE);</a>
<a name="ln1773">  gtk_widget_set_valign(grid, GTK_ALIGN_START);</a>
<a name="ln1774">  int line = 0;</a>
<a name="ln1775">  char tooltip[1024];</a>
<a name="ln1776">  GtkWidget *scroll = gtk_scrolled_window_new(NULL, NULL);</a>
<a name="ln1777">  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(scroll), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);</a>
<a name="ln1778">  gtk_widget_set_margin_top(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln1779">  gtk_widget_set_margin_bottom(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln1780">  gtk_widget_set_margin_start(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln1781">  gtk_widget_set_margin_end(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln1782">  viewport = gtk_viewport_new(NULL, NULL);</a>
<a name="ln1783">  gtk_viewport_set_shadow_type(GTK_VIEWPORT(viewport), GTK_SHADOW_NONE); // doesn't seem to work from gtkrc</a>
<a name="ln1784">  gtk_container_add(GTK_CONTAINER(scroll), viewport);</a>
<a name="ln1785">  gtk_container_add(GTK_CONTAINER(viewport), grid);</a>
<a name="ln1786"> </a>
<a name="ln1787">  if(hardcoded_part)</a>
<a name="ln1788">    (*hardcoded_part)(grid, &amp;line);</a>
<a name="ln1789">  gtk_notebook_append_page(GTK_NOTEBOOK(tab), scroll, gtk_label_new(_(&quot;GUI options&quot;)));</a>
<a name="ln1790"> </a>
<a name="ln1791">   {</a>
<a name="ln1792">      GtkWidget *seclabel = gtk_label_new(_(&quot;import&quot;));</a>
<a name="ln1793">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln1794">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln1795">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln1796">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln1797">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln1798">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln1799">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln1800">   }</a>
<a name="ln1801"> </a>
<a name="ln1802">  {</a>
<a name="ln1803">    label = gtk_label_new(_(&quot;ignore JPEG images when importing film rolls&quot;));</a>
<a name="ln1804">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1805">    labelev = gtk_event_box_new();</a>
<a name="ln1806">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1807">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1808">    widget = gtk_check_button_new();</a>
<a name="ln1809">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ui_last/import_ignore_jpegs&quot;));</a>
<a name="ln1810">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm405), NULL);</a>
<a name="ln1811">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm405), widget);</a>
<a name="ln1812">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln1813">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1814">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1815">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when having raw+JPEG images together in one directory it makes no sense to import both. with this flag one can ignore all JPEGs found.&quot;), (gchar *)0);</a>
<a name="ln1816">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1817">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1818">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm405), (gpointer)widget);</a>
<a name="ln1819"> </a>
<a name="ln1820">  }</a>
<a name="ln1821"> </a>
<a name="ln1822">  {</a>
<a name="ln1823">    label = gtk_label_new(_(&quot;recursive directory traversal when importing filmrolls&quot;));</a>
<a name="ln1824">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1825">    labelev = gtk_event_box_new();</a>
<a name="ln1826">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1827">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1828">    widget = gtk_check_button_new();</a>
<a name="ln1829">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ui_last/import_recursive&quot;));</a>
<a name="ln1830">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm411), NULL);</a>
<a name="ln1831">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm411), widget);</a>
<a name="ln1832">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln1833">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1834">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1835">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1836">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1837">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm411), (gpointer)widget);</a>
<a name="ln1838"> </a>
<a name="ln1839">  }</a>
<a name="ln1840"> </a>
<a name="ln1841">  {</a>
<a name="ln1842">    label = gtk_label_new(_(&quot;creator to be applied when importing&quot;));</a>
<a name="ln1843">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1844">    labelev = gtk_event_box_new();</a>
<a name="ln1845">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1846">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1847">    widget = gtk_entry_new();</a>
<a name="ln1848">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln1849">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln1850">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_creator&quot;);</a>
<a name="ln1851">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln1852">    g_free(setting);</a>
<a name="ln1853">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm417), NULL);</a>
<a name="ln1854">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm417), widget);</a>
<a name="ln1855">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln1856">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1857">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1858">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1859">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1860">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm417), (gpointer)widget);</a>
<a name="ln1861"> </a>
<a name="ln1862">  }</a>
<a name="ln1863"> </a>
<a name="ln1864">  {</a>
<a name="ln1865">    label = gtk_label_new(_(&quot;publisher to be applied when importing&quot;));</a>
<a name="ln1866">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1867">    labelev = gtk_event_box_new();</a>
<a name="ln1868">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1869">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1870">    widget = gtk_entry_new();</a>
<a name="ln1871">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln1872">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln1873">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_publisher&quot;);</a>
<a name="ln1874">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln1875">    g_free(setting);</a>
<a name="ln1876">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm423), NULL);</a>
<a name="ln1877">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm423), widget);</a>
<a name="ln1878">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln1879">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1880">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1881">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1882">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1883">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm423), (gpointer)widget);</a>
<a name="ln1884"> </a>
<a name="ln1885">  }</a>
<a name="ln1886"> </a>
<a name="ln1887">  {</a>
<a name="ln1888">    label = gtk_label_new(_(&quot;rights to be applied when importing&quot;));</a>
<a name="ln1889">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1890">    labelev = gtk_event_box_new();</a>
<a name="ln1891">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1892">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1893">    widget = gtk_entry_new();</a>
<a name="ln1894">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln1895">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln1896">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_rights&quot;);</a>
<a name="ln1897">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln1898">    g_free(setting);</a>
<a name="ln1899">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm429), NULL);</a>
<a name="ln1900">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm429), widget);</a>
<a name="ln1901">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln1902">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1903">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1904">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1905">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1906">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm429), (gpointer)widget);</a>
<a name="ln1907"> </a>
<a name="ln1908">  }</a>
<a name="ln1909"> </a>
<a name="ln1910">  {</a>
<a name="ln1911">    label = gtk_label_new(_(&quot;comma separated tags to be applied when importing&quot;));</a>
<a name="ln1912">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1913">    labelev = gtk_event_box_new();</a>
<a name="ln1914">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1915">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1916">    widget = gtk_entry_new();</a>
<a name="ln1917">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln1918">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln1919">    gchar *setting = dt_conf_get_string(&quot;ui_last/import_last_tags&quot;);</a>
<a name="ln1920">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln1921">    g_free(setting);</a>
<a name="ln1922">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm435), NULL);</a>
<a name="ln1923">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm435), widget);</a>
<a name="ln1924">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;&quot;);</a>
<a name="ln1925">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1926">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1927">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1928">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1929">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm435), (gpointer)widget);</a>
<a name="ln1930"> </a>
<a name="ln1931">  }</a>
<a name="ln1932"> </a>
<a name="ln1933">  {</a>
<a name="ln1934">    label = gtk_label_new(_(&quot;initial import rating&quot;));</a>
<a name="ln1935">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1936">    labelev = gtk_event_box_new();</a>
<a name="ln1937">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1938">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1939">    gint min = 0;</a>
<a name="ln1940">    gint max = G_MAXINT;</a>
<a name="ln1941">    min = 0;</a>
<a name="ln1942">    max = 5;</a>
<a name="ln1943">    float factor = 1.0f;</a>
<a name="ln1944">    double tmp;</a>
<a name="ln1945">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln1946">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln1947">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln1948">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln1949">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;ui_last/import_initial_rating&quot;) * factor);</a>
<a name="ln1950">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm447), NULL);</a>
<a name="ln1951">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm447), widget);</a>
<a name="ln1952">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(1 * factor));</a>
<a name="ln1953">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1954">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1955">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;initial star rating for all images when importing a filmroll&quot;), (gchar *)0);</a>
<a name="ln1956">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1957">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1958">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm447), (gpointer)widget);</a>
<a name="ln1959"> </a>
<a name="ln1960">  }</a>
<a name="ln1961"> </a>
<a name="ln1962">   {</a>
<a name="ln1963">      GtkWidget *seclabel = gtk_label_new(_(&quot;lighttable&quot;));</a>
<a name="ln1964">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln1965">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln1966">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln1967">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln1968">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln1969">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln1970">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln1971">   }</a>
<a name="ln1972"> </a>
<a name="ln1973">  {</a>
<a name="ln1974">    label = gtk_label_new(_(&quot;don't use embedded preview JPEG but half-size raw&quot;));</a>
<a name="ln1975">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1976">    labelev = gtk_event_box_new();</a>
<a name="ln1977">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1978">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1979">    widget = gtk_check_button_new();</a>
<a name="ln1980">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;never_use_embedded_thumb&quot;));</a>
<a name="ln1981">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm139), NULL);</a>
<a name="ln1982">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm139), widget);</a>
<a name="ln1983">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln1984">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln1985">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln1986">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;check this option to not use the embedded JPEG from the raw file but process the raw data. this is slower but gives you color managed thumbnails.&quot;), (gchar *)0);</a>
<a name="ln1987">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln1988">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln1989">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm139), (gpointer)widget);</a>
<a name="ln1990"> </a>
<a name="ln1991">  }</a>
<a name="ln1992"> </a>
<a name="ln1993">  {</a>
<a name="ln1994">    label = gtk_label_new(_(&quot;high quality thumb processing from size&quot;));</a>
<a name="ln1995">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln1996">    labelev = gtk_event_box_new();</a>
<a name="ln1997">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln1998">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln1999">    GtkTreeIter iter;</a>
<a name="ln2000">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2001">    gchar *str = dt_conf_get_string(&quot;plugins/lighttable/thumbnail_hq_min_level&quot;);</a>
<a name="ln2002">    gint pos = -1;</a>
<a name="ln2003"> </a>
<a name="ln2004">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2005">        gtk_list_store_set(store, &amp;iter, 0, &quot;always&quot;, 1, C_(&quot;preferences&quot;, &quot;always&quot;), -1);</a>
<a name="ln2006">        if(pos == -1 &amp;&amp; strcmp(str, &quot;always&quot;) == 0)</a>
<a name="ln2007">          pos = 0;</a>
<a name="ln2008">      </a>
<a name="ln2009">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2010">        gtk_list_store_set(store, &amp;iter, 0, &quot;small&quot;, 1, C_(&quot;preferences&quot;, &quot;small&quot;), -1);</a>
<a name="ln2011">        if(pos == -1 &amp;&amp; strcmp(str, &quot;small&quot;) == 0)</a>
<a name="ln2012">          pos = 1;</a>
<a name="ln2013">      </a>
<a name="ln2014">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2015">        gtk_list_store_set(store, &amp;iter, 0, &quot;VGA&quot;, 1, C_(&quot;preferences&quot;, &quot;VGA&quot;), -1);</a>
<a name="ln2016">        if(pos == -1 &amp;&amp; strcmp(str, &quot;VGA&quot;) == 0)</a>
<a name="ln2017">          pos = 2;</a>
<a name="ln2018">      </a>
<a name="ln2019">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2020">        gtk_list_store_set(store, &amp;iter, 0, &quot;720p&quot;, 1, C_(&quot;preferences&quot;, &quot;720p&quot;), -1);</a>
<a name="ln2021">        if(pos == -1 &amp;&amp; strcmp(str, &quot;720p&quot;) == 0)</a>
<a name="ln2022">          pos = 3;</a>
<a name="ln2023">      </a>
<a name="ln2024">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2025">        gtk_list_store_set(store, &amp;iter, 0, &quot;1080p&quot;, 1, C_(&quot;preferences&quot;, &quot;1080p&quot;), -1);</a>
<a name="ln2026">        if(pos == -1 &amp;&amp; strcmp(str, &quot;1080p&quot;) == 0)</a>
<a name="ln2027">          pos = 4;</a>
<a name="ln2028">      </a>
<a name="ln2029">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2030">        gtk_list_store_set(store, &amp;iter, 0, &quot;WQXGA&quot;, 1, C_(&quot;preferences&quot;, &quot;WQXGA&quot;), -1);</a>
<a name="ln2031">        if(pos == -1 &amp;&amp; strcmp(str, &quot;WQXGA&quot;) == 0)</a>
<a name="ln2032">          pos = 5;</a>
<a name="ln2033">      </a>
<a name="ln2034">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2035">        gtk_list_store_set(store, &amp;iter, 0, &quot;4K&quot;, 1, C_(&quot;preferences&quot;, &quot;4K&quot;), -1);</a>
<a name="ln2036">        if(pos == -1 &amp;&amp; strcmp(str, &quot;4K&quot;) == 0)</a>
<a name="ln2037">          pos = 6;</a>
<a name="ln2038">      </a>
<a name="ln2039">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2040">        gtk_list_store_set(store, &amp;iter, 0, &quot;5K&quot;, 1, C_(&quot;preferences&quot;, &quot;5K&quot;), -1);</a>
<a name="ln2041">        if(pos == -1 &amp;&amp; strcmp(str, &quot;5K&quot;) == 0)</a>
<a name="ln2042">          pos = 7;</a>
<a name="ln2043">      </a>
<a name="ln2044">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2045">        gtk_list_store_set(store, &amp;iter, 0, &quot;never&quot;, 1, C_(&quot;preferences&quot;, &quot;never&quot;), -1);</a>
<a name="ln2046">        if(pos == -1 &amp;&amp; strcmp(str, &quot;never&quot;) == 0)</a>
<a name="ln2047">          pos = 8;</a>
<a name="ln2048">      </a>
<a name="ln2049"> </a>
<a name="ln2050">    g_free(str);</a>
<a name="ln2051"> </a>
<a name="ln2052">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2053">    g_object_unref(store);</a>
<a name="ln2054">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2055">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2056">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2057">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2058">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm477), NULL);</a>
<a name="ln2059">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm477), widget);</a>
<a name="ln2060">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;720p&quot;));</a>
<a name="ln2061">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2062">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2063">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if the thumbnail size is greater than this value, it will be processed using the full quality rendering path (better but slower).&quot;), (gchar *)0);</a>
<a name="ln2064">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2065">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2066">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm477), (gpointer)widget);</a>
<a name="ln2067"> </a>
<a name="ln2068">  }</a>
<a name="ln2069"> </a>
<a name="ln2070">  {</a>
<a name="ln2071">    label = gtk_label_new(_(&quot;enable extended thumb overlay&quot;));</a>
<a name="ln2072">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2073">    labelev = gtk_event_box_new();</a>
<a name="ln2074">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2075">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2076">    widget = gtk_check_button_new();</a>
<a name="ln2077">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/extended_thumb_overlay&quot;));</a>
<a name="ln2078">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm493), NULL);</a>
<a name="ln2079">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm493), widget);</a>
<a name="ln2080">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2081">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2082">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2083">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if set to true, thumb overlay shows filename and some exif data.&quot;), (gchar *)0);</a>
<a name="ln2084">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2085">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2086">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm493), (gpointer)widget);</a>
<a name="ln2087"> </a>
<a name="ln2088">  }</a>
<a name="ln2089"> </a>
<a name="ln2090">  {</a>
<a name="ln2091">    label = gtk_label_new(_(&quot;expand a single lighttable module at a time&quot;));</a>
<a name="ln2092">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2093">    labelev = gtk_event_box_new();</a>
<a name="ln2094">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2095">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2096">    widget = gtk_check_button_new();</a>
<a name="ln2097">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;lighttable/ui/single_module&quot;));</a>
<a name="ln2098">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm891), NULL);</a>
<a name="ln2099">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm891), widget);</a>
<a name="ln2100">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2101">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2102">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2103">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option toggles the behavior of shift clicking in lighttable mode&quot;), (gchar *)0);</a>
<a name="ln2104">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2105">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2106">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm891), (gpointer)widget);</a>
<a name="ln2107"> </a>
<a name="ln2108">  }</a>
<a name="ln2109"> </a>
<a name="ln2110">  {</a>
<a name="ln2111">    label = gtk_label_new(_(&quot;scroll to lighttable modules when expanded/collapsed&quot;));</a>
<a name="ln2112">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2113">    labelev = gtk_event_box_new();</a>
<a name="ln2114">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2115">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2116">    widget = gtk_check_button_new();</a>
<a name="ln2117">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;lighttable/ui/scroll_to_module&quot;));</a>
<a name="ln2118">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm909), NULL);</a>
<a name="ln2119">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm909), widget);</a>
<a name="ln2120">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2121">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2122">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2123">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when this option is enabled then darktable will try to scroll the module to the top of the visible list&quot;), (gchar *)0);</a>
<a name="ln2124">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2125">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2126">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm909), (gpointer)widget);</a>
<a name="ln2127"> </a>
<a name="ln2128">  }</a>
<a name="ln2129"> </a>
<a name="ln2130">  {</a>
<a name="ln2131">    label = gtk_label_new(_(&quot;rating an image one star twice will not zero out the rating&quot;));</a>
<a name="ln2132">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2133">    labelev = gtk_event_box_new();</a>
<a name="ln2134">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2135">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2136">    widget = gtk_check_button_new();</a>
<a name="ln2137">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;rating_one_double_tap&quot;));</a>
<a name="ln2138">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm985), NULL);</a>
<a name="ln2139">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm985), widget);</a>
<a name="ln2140">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2141">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2142">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2143">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;do not have the rating of one star behave as documented in the manual--an image rated one star twice will result in a zero star rating.&quot;), (gchar *)0);</a>
<a name="ln2144">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2145">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2146">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm985), (gpointer)widget);</a>
<a name="ln2147"> </a>
<a name="ln2148">  }</a>
<a name="ln2149"> </a>
<a name="ln2150">   {</a>
<a name="ln2151">      GtkWidget *seclabel = gtk_label_new(_(&quot;darkroom&quot;));</a>
<a name="ln2152">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2153">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2154">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln2155">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln2156">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2157">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2158">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2159">   }</a>
<a name="ln2160"> </a>
<a name="ln2161">  {</a>
<a name="ln2162">    label = gtk_label_new(_(&quot;pen pressure control for brush masks&quot;));</a>
<a name="ln2163">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2164">    labelev = gtk_event_box_new();</a>
<a name="ln2165">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2166">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2167">    GtkTreeIter iter;</a>
<a name="ln2168">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2169">    gchar *str = dt_conf_get_string(&quot;pressure_sensitivity&quot;);</a>
<a name="ln2170">    gint pos = -1;</a>
<a name="ln2171"> </a>
<a name="ln2172">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2173">        gtk_list_store_set(store, &amp;iter, 0, &quot;off&quot;, 1, C_(&quot;preferences&quot;, &quot;off&quot;), -1);</a>
<a name="ln2174">        if(pos == -1 &amp;&amp; strcmp(str, &quot;off&quot;) == 0)</a>
<a name="ln2175">          pos = 0;</a>
<a name="ln2176">      </a>
<a name="ln2177">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2178">        gtk_list_store_set(store, &amp;iter, 0, &quot;hardness (relative)&quot;, 1, C_(&quot;preferences&quot;, &quot;hardness (relative)&quot;), -1);</a>
<a name="ln2179">        if(pos == -1 &amp;&amp; strcmp(str, &quot;hardness (relative)&quot;) == 0)</a>
<a name="ln2180">          pos = 1;</a>
<a name="ln2181">      </a>
<a name="ln2182">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2183">        gtk_list_store_set(store, &amp;iter, 0, &quot;hardness (absolute)&quot;, 1, C_(&quot;preferences&quot;, &quot;hardness (absolute)&quot;), -1);</a>
<a name="ln2184">        if(pos == -1 &amp;&amp; strcmp(str, &quot;hardness (absolute)&quot;) == 0)</a>
<a name="ln2185">          pos = 2;</a>
<a name="ln2186">      </a>
<a name="ln2187">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2188">        gtk_list_store_set(store, &amp;iter, 0, &quot;opacity (relative)&quot;, 1, C_(&quot;preferences&quot;, &quot;opacity (relative)&quot;), -1);</a>
<a name="ln2189">        if(pos == -1 &amp;&amp; strcmp(str, &quot;opacity (relative)&quot;) == 0)</a>
<a name="ln2190">          pos = 3;</a>
<a name="ln2191">      </a>
<a name="ln2192">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2193">        gtk_list_store_set(store, &amp;iter, 0, &quot;opacity (absolute)&quot;, 1, C_(&quot;preferences&quot;, &quot;opacity (absolute)&quot;), -1);</a>
<a name="ln2194">        if(pos == -1 &amp;&amp; strcmp(str, &quot;opacity (absolute)&quot;) == 0)</a>
<a name="ln2195">          pos = 4;</a>
<a name="ln2196">      </a>
<a name="ln2197">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2198">        gtk_list_store_set(store, &amp;iter, 0, &quot;brush size (relative)&quot;, 1, C_(&quot;preferences&quot;, &quot;brush size (relative)&quot;), -1);</a>
<a name="ln2199">        if(pos == -1 &amp;&amp; strcmp(str, &quot;brush size (relative)&quot;) == 0)</a>
<a name="ln2200">          pos = 5;</a>
<a name="ln2201">      </a>
<a name="ln2202"> </a>
<a name="ln2203">    g_free(str);</a>
<a name="ln2204"> </a>
<a name="ln2205">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2206">    g_object_unref(store);</a>
<a name="ln2207">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2208">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2209">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2210">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2211">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm499), NULL);</a>
<a name="ln2212">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm499), widget);</a>
<a name="ln2213">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;off&quot;));</a>
<a name="ln2214">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2215">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2216">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;off - pressure reading ignored, hardness/opacity/brush size - pressure reading controls specified attribute, absolute/relative - pressure reading is taken directly as attribute value or multiplied with pre-defined setting.&quot;), (gchar *)0);</a>
<a name="ln2217">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2218">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2219">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm499), (gpointer)widget);</a>
<a name="ln2220"> </a>
<a name="ln2221">  }</a>
<a name="ln2222"> </a>
<a name="ln2223">  {</a>
<a name="ln2224">    label = gtk_label_new(_(&quot;smoothing of brush strokes&quot;));</a>
<a name="ln2225">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2226">    labelev = gtk_event_box_new();</a>
<a name="ln2227">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2228">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2229">    GtkTreeIter iter;</a>
<a name="ln2230">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2231">    gchar *str = dt_conf_get_string(&quot;brush_smoothing&quot;);</a>
<a name="ln2232">    gint pos = -1;</a>
<a name="ln2233"> </a>
<a name="ln2234">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2235">        gtk_list_store_set(store, &amp;iter, 0, &quot;low&quot;, 1, C_(&quot;preferences&quot;, &quot;low&quot;), -1);</a>
<a name="ln2236">        if(pos == -1 &amp;&amp; strcmp(str, &quot;low&quot;) == 0)</a>
<a name="ln2237">          pos = 0;</a>
<a name="ln2238">      </a>
<a name="ln2239">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2240">        gtk_list_store_set(store, &amp;iter, 0, &quot;medium&quot;, 1, C_(&quot;preferences&quot;, &quot;medium&quot;), -1);</a>
<a name="ln2241">        if(pos == -1 &amp;&amp; strcmp(str, &quot;medium&quot;) == 0)</a>
<a name="ln2242">          pos = 1;</a>
<a name="ln2243">      </a>
<a name="ln2244">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2245">        gtk_list_store_set(store, &amp;iter, 0, &quot;high&quot;, 1, C_(&quot;preferences&quot;, &quot;high&quot;), -1);</a>
<a name="ln2246">        if(pos == -1 &amp;&amp; strcmp(str, &quot;high&quot;) == 0)</a>
<a name="ln2247">          pos = 2;</a>
<a name="ln2248">      </a>
<a name="ln2249"> </a>
<a name="ln2250">    g_free(str);</a>
<a name="ln2251"> </a>
<a name="ln2252">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2253">    g_object_unref(store);</a>
<a name="ln2254">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2255">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2256">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2257">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2258">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm512), NULL);</a>
<a name="ln2259">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm512), widget);</a>
<a name="ln2260">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;medium&quot;));</a>
<a name="ln2261">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2262">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2263">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;sets level for smoothing of brush strokes. stronger smoothing leads to less nodes and easier editing but with lower control of accuracy.&quot;), (gchar *)0);</a>
<a name="ln2264">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2265">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2266">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm512), (gpointer)widget);</a>
<a name="ln2267"> </a>
<a name="ln2268">  }</a>
<a name="ln2269"> </a>
<a name="ln2270">  {</a>
<a name="ln2271">    label = gtk_label_new(_(&quot;display of individual color channels&quot;));</a>
<a name="ln2272">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2273">    labelev = gtk_event_box_new();</a>
<a name="ln2274">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2275">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2276">    GtkTreeIter iter;</a>
<a name="ln2277">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2278">    gchar *str = dt_conf_get_string(&quot;channel_display&quot;);</a>
<a name="ln2279">    gint pos = -1;</a>
<a name="ln2280"> </a>
<a name="ln2281">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2282">        gtk_list_store_set(store, &amp;iter, 0, &quot;false color&quot;, 1, C_(&quot;preferences&quot;, &quot;false color&quot;), -1);</a>
<a name="ln2283">        if(pos == -1 &amp;&amp; strcmp(str, &quot;false color&quot;) == 0)</a>
<a name="ln2284">          pos = 0;</a>
<a name="ln2285">      </a>
<a name="ln2286">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2287">        gtk_list_store_set(store, &amp;iter, 0, &quot;grey scale&quot;, 1, C_(&quot;preferences&quot;, &quot;grey scale&quot;), -1);</a>
<a name="ln2288">        if(pos == -1 &amp;&amp; strcmp(str, &quot;grey scale&quot;) == 0)</a>
<a name="ln2289">          pos = 1;</a>
<a name="ln2290">      </a>
<a name="ln2291"> </a>
<a name="ln2292">    g_free(str);</a>
<a name="ln2293"> </a>
<a name="ln2294">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2295">    g_object_unref(store);</a>
<a name="ln2296">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2297">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2298">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2299">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2300">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm522), NULL);</a>
<a name="ln2301">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm522), widget);</a>
<a name="ln2302">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;false color&quot;));</a>
<a name="ln2303">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2304">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2305">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines how color channels are displayed when activated in the parametric masks feature.&quot;), (gchar *)0);</a>
<a name="ln2306">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2307">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2308">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm522), (gpointer)widget);</a>
<a name="ln2309"> </a>
<a name="ln2310">  }</a>
<a name="ln2311"> </a>
<a name="ln2312">  {</a>
<a name="ln2313">    label = gtk_label_new(_(&quot;expand a single darkroom module at a time&quot;));</a>
<a name="ln2314">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2315">    labelev = gtk_event_box_new();</a>
<a name="ln2316">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2317">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2318">    widget = gtk_check_button_new();</a>
<a name="ln2319">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;darkroom/ui/single_module&quot;));</a>
<a name="ln2320">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm903), NULL);</a>
<a name="ln2321">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm903), widget);</a>
<a name="ln2322">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2323">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2324">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2325">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option toggles the behavior of shift clicking in darkroom mode&quot;), (gchar *)0);</a>
<a name="ln2326">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2327">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2328">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm903), (gpointer)widget);</a>
<a name="ln2329"> </a>
<a name="ln2330">  }</a>
<a name="ln2331"> </a>
<a name="ln2332">  {</a>
<a name="ln2333">    label = gtk_label_new(_(&quot;scroll to darkroom modules when expanded/collapsed&quot;));</a>
<a name="ln2334">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2335">    labelev = gtk_event_box_new();</a>
<a name="ln2336">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2337">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2338">    widget = gtk_check_button_new();</a>
<a name="ln2339">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;darkroom/ui/scroll_to_module&quot;));</a>
<a name="ln2340">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm915), NULL);</a>
<a name="ln2341">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm915), widget);</a>
<a name="ln2342">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2343">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2344">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2345">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when this option is enabled then darktable will try to scroll the module to the top of the visible list&quot;), (gchar *)0);</a>
<a name="ln2346">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2347">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2348">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm915), (gpointer)widget);</a>
<a name="ln2349"> </a>
<a name="ln2350">  }</a>
<a name="ln2351"> </a>
<a name="ln2352">  {</a>
<a name="ln2353">    label = gtk_label_new(_(&quot;border around image in darkroom mode&quot;));</a>
<a name="ln2354">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2355">    labelev = gtk_event_box_new();</a>
<a name="ln2356">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2357">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2358">    gint min = 0;</a>
<a name="ln2359">    gint max = G_MAXINT;</a>
<a name="ln2360">    float factor = 1.0f;</a>
<a name="ln2361">    double tmp;</a>
<a name="ln2362">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2363">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2364">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2365">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2366">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;plugins/darkroom/ui/border_size&quot;) * factor);</a>
<a name="ln2367">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm921), NULL);</a>
<a name="ln2368">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm921), widget);</a>
<a name="ln2369">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(20 * factor));</a>
<a name="ln2370">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2371">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2372">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;process the image in darkroom mode with a small border. set to 0 if you don't want any border.&quot;), (gchar *)0);</a>
<a name="ln2373">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2374">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2375">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm921), (gpointer)widget);</a>
<a name="ln2376"> </a>
<a name="ln2377">  }</a>
<a name="ln2378"> </a>
<a name="ln2379">   {</a>
<a name="ln2380">      GtkWidget *seclabel = gtk_label_new(_(&quot;map / geolocalisation&quot;));</a>
<a name="ln2381">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2382">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2383">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln2384">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln2385">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2386">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2387">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2388">   }</a>
<a name="ln2389"> </a>
<a name="ln2390">  {</a>
<a name="ln2391">    label = gtk_label_new(_(&quot;only draw images on map that are currently collected and filtered&quot;));</a>
<a name="ln2392">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2393">    labelev = gtk_event_box_new();</a>
<a name="ln2394">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2395">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2396">    widget = gtk_check_button_new();</a>
<a name="ln2397">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/map/filter_images_drawn&quot;));</a>
<a name="ln2398">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm867), NULL);</a>
<a name="ln2399">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm867), widget);</a>
<a name="ln2400">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2401">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2402">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2403">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;use the current filter settings to select the geotagged images drawn on the map, i.e. limit the images drawn to the current filmstrip. this limits the number of images drawn and thus reduces the time needed to draw the images.&quot;), (gchar *)0);</a>
<a name="ln2404">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2405">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2406">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm867), (gpointer)widget);</a>
<a name="ln2407"> </a>
<a name="ln2408">  }</a>
<a name="ln2409"> </a>
<a name="ln2410">  {</a>
<a name="ln2411">    label = gtk_label_new(_(&quot;maximum number of images drawn on map&quot;));</a>
<a name="ln2412">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2413">    labelev = gtk_event_box_new();</a>
<a name="ln2414">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2415">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2416">    gint min = 0;</a>
<a name="ln2417">    gint max = G_MAXINT;</a>
<a name="ln2418">    float factor = 1.0f;</a>
<a name="ln2419">    double tmp;</a>
<a name="ln2420">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2421">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2422">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2423">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2424">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;plugins/map/max_images_drawn&quot;) * factor);</a>
<a name="ln2425">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm873), NULL);</a>
<a name="ln2426">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm873), widget);</a>
<a name="ln2427">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(100 * factor));</a>
<a name="ln2428">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2429">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2430">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the maximum number of geotagged images drawn on the map. increasing this number can slow drawing of the map down.&quot;), (gchar *)0);</a>
<a name="ln2431">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2432">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2433">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm873), (gpointer)widget);</a>
<a name="ln2434"> </a>
<a name="ln2435">  }</a>
<a name="ln2436"> </a>
<a name="ln2437">  {</a>
<a name="ln2438">    label = gtk_label_new(_(&quot;pretty print the image location&quot;));</a>
<a name="ln2439">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2440">    labelev = gtk_event_box_new();</a>
<a name="ln2441">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2442">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2443">    widget = gtk_check_button_new();</a>
<a name="ln2444">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/metadata_view/pretty_location&quot;));</a>
<a name="ln2445">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm879), NULL);</a>
<a name="ln2446">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm879), widget);</a>
<a name="ln2447">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2448">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2449">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2450">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;show a more readable representation of the location in the image information module&quot;), (gchar *)0);</a>
<a name="ln2451">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2452">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2453">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm879), (gpointer)widget);</a>
<a name="ln2454"> </a>
<a name="ln2455">  }</a>
<a name="ln2456"> </a>
<a name="ln2457">   {</a>
<a name="ln2458">      GtkWidget *seclabel = gtk_label_new(_(&quot;security&quot;));</a>
<a name="ln2459">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2460">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2461">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln2462">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln2463">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2464">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2465">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2466">   }</a>
<a name="ln2467"> </a>
<a name="ln2468">  {</a>
<a name="ln2469">    label = gtk_label_new(_(&quot;ask before removing images from database&quot;));</a>
<a name="ln2470">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2471">    labelev = gtk_event_box_new();</a>
<a name="ln2472">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2473">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2474">    widget = gtk_check_button_new();</a>
<a name="ln2475">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_remove&quot;));</a>
<a name="ln2476">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm207), NULL);</a>
<a name="ln2477">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm207), widget);</a>
<a name="ln2478">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2479">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2480">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2481">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image is removed from DB.&quot;), (gchar *)0);</a>
<a name="ln2482">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2483">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2484">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm207), (gpointer)widget);</a>
<a name="ln2485"> </a>
<a name="ln2486">  }</a>
<a name="ln2487"> </a>
<a name="ln2488">  {</a>
<a name="ln2489">    label = gtk_label_new(_(&quot;ask before erasing images from disk / discarding history stack&quot;));</a>
<a name="ln2490">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2491">    labelev = gtk_event_box_new();</a>
<a name="ln2492">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2493">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2494">    widget = gtk_check_button_new();</a>
<a name="ln2495">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_delete&quot;));</a>
<a name="ln2496">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm213), NULL);</a>
<a name="ln2497">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm213), widget);</a>
<a name="ln2498">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2499">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2500">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2501">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image file is deleted / history stack is discarded.&quot;), (gchar *)0);</a>
<a name="ln2502">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2503">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2504">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm213), (gpointer)widget);</a>
<a name="ln2505"> </a>
<a name="ln2506">  }</a>
<a name="ln2507"> </a>
<a name="ln2508">  {</a>
<a name="ln2509">    label = gtk_label_new(_(&quot;send files to trash when erasing images&quot;));</a>
<a name="ln2510">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2511">    labelev = gtk_event_box_new();</a>
<a name="ln2512">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2513">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2514">    widget = gtk_check_button_new();</a>
<a name="ln2515">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;send_to_trash&quot;));</a>
<a name="ln2516">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm219), NULL);</a>
<a name="ln2517">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm219), widget);</a>
<a name="ln2518">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2519">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2520">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2521">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;send files to trash instead of permanently deleting files on system that supports it&quot;), (gchar *)0);</a>
<a name="ln2522">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2523">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2524">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm219), (gpointer)widget);</a>
<a name="ln2525"> </a>
<a name="ln2526">  }</a>
<a name="ln2527"> </a>
<a name="ln2528">  {</a>
<a name="ln2529">    label = gtk_label_new(_(&quot;ask before moving images from film roll folder&quot;));</a>
<a name="ln2530">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2531">    labelev = gtk_event_box_new();</a>
<a name="ln2532">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2533">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2534">    widget = gtk_check_button_new();</a>
<a name="ln2535">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_move&quot;));</a>
<a name="ln2536">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm225), NULL);</a>
<a name="ln2537">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm225), widget);</a>
<a name="ln2538">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2539">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2540">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2541">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image file is moved.&quot;), (gchar *)0);</a>
<a name="ln2542">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2543">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2544">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm225), (gpointer)widget);</a>
<a name="ln2545"> </a>
<a name="ln2546">  }</a>
<a name="ln2547"> </a>
<a name="ln2548">  {</a>
<a name="ln2549">    label = gtk_label_new(_(&quot;ask before copying images to new film roll folder&quot;));</a>
<a name="ln2550">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2551">    labelev = gtk_event_box_new();</a>
<a name="ln2552">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2553">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2554">    widget = gtk_check_button_new();</a>
<a name="ln2555">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_copy&quot;));</a>
<a name="ln2556">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm231), NULL);</a>
<a name="ln2557">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm231), widget);</a>
<a name="ln2558">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2559">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2560">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2561">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before any image file is copied.&quot;), (gchar *)0);</a>
<a name="ln2562">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2563">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2564">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm231), (gpointer)widget);</a>
<a name="ln2565"> </a>
<a name="ln2566">  }</a>
<a name="ln2567"> </a>
<a name="ln2568">  {</a>
<a name="ln2569">    label = gtk_label_new(_(&quot;ask before removing empty folders&quot;));</a>
<a name="ln2570">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2571">    labelev = gtk_event_box_new();</a>
<a name="ln2572">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2573">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2574">    widget = gtk_check_button_new();</a>
<a name="ln2575">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;ask_before_rmdir&quot;));</a>
<a name="ln2576">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm237), NULL);</a>
<a name="ln2577">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm237), widget);</a>
<a name="ln2578">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2579">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2580">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2581">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;always ask the user before removing any empty folder. this can happen after moving or deleting images.&quot;), (gchar *)0);</a>
<a name="ln2582">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2583">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2584">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm237), (gpointer)widget);</a>
<a name="ln2585"> </a>
<a name="ln2586">  }</a>
<a name="ln2587"> </a>
<a name="ln2588">  {</a>
<a name="ln2589">    label = gtk_label_new(_(&quot;ask before deleting a tag&quot;));</a>
<a name="ln2590">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2591">    labelev = gtk_event_box_new();</a>
<a name="ln2592">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2593">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2594">    widget = gtk_check_button_new();</a>
<a name="ln2595">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/tagging/ask_before_delete_tag&quot;));</a>
<a name="ln2596">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm837), NULL);</a>
<a name="ln2597">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm837), widget);</a>
<a name="ln2598">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2599">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2600">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2601">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2602">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2603">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm837), (gpointer)widget);</a>
<a name="ln2604"> </a>
<a name="ln2605">  }</a>
<a name="ln2606"> </a>
<a name="ln2607">  {</a>
<a name="ln2608">    label = gtk_label_new(_(&quot;ask before deleting a style&quot;));</a>
<a name="ln2609">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2610">    labelev = gtk_event_box_new();</a>
<a name="ln2611">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2612">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2613">    widget = gtk_check_button_new();</a>
<a name="ln2614">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/style/ask_before_delete_style&quot;));</a>
<a name="ln2615">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm843), NULL);</a>
<a name="ln2616">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm843), widget);</a>
<a name="ln2617">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2618">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2619">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2620">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2621">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2622">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm843), (gpointer)widget);</a>
<a name="ln2623"> </a>
<a name="ln2624">  }</a>
<a name="ln2625"> </a>
<a name="ln2626">   {</a>
<a name="ln2627">      GtkWidget *seclabel = gtk_label_new(_(&quot;miscellaneous&quot;));</a>
<a name="ln2628">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2629">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2630">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln2631">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln2632">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2633">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2634">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2635">   }</a>
<a name="ln2636"> </a>
<a name="ln2637">  {</a>
<a name="ln2638">    label = gtk_label_new(_(&quot;width of the side panels in pixels&quot;));</a>
<a name="ln2639">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2640">    labelev = gtk_event_box_new();</a>
<a name="ln2641">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2642">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2643">    gint min = 0;</a>
<a name="ln2644">    gint max = G_MAXINT;</a>
<a name="ln2645">    float factor = 1.0f;</a>
<a name="ln2646">    double tmp;</a>
<a name="ln2647">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2648">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2649">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2650">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2651">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;panel_width&quot;) * factor);</a>
<a name="ln2652">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm14), NULL);</a>
<a name="ln2653">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm14), widget);</a>
<a name="ln2654">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(350 * factor));</a>
<a name="ln2655">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2656">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2657">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;(needs a restart)&quot;), (gchar *)0);</a>
<a name="ln2658">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2659">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2660">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm14), (gpointer)widget);</a>
<a name="ln2661"> </a>
<a name="ln2662">  }</a>
<a name="ln2663"> </a>
<a name="ln2664">  {</a>
<a name="ln2665">    label = gtk_label_new(_(&quot;waiting time between each picture in slideshow&quot;));</a>
<a name="ln2666">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2667">    labelev = gtk_event_box_new();</a>
<a name="ln2668">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2669">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2670">    gint min = 0;</a>
<a name="ln2671">    gint max = G_MAXINT;</a>
<a name="ln2672">    float factor = 1.0f;</a>
<a name="ln2673">    double tmp;</a>
<a name="ln2674">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2675">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2676">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2677">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2678">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;slideshow_delay&quot;) * factor);</a>
<a name="ln2679">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm20), NULL);</a>
<a name="ln2680">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm20), widget);</a>
<a name="ln2681">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(5 * factor));</a>
<a name="ln2682">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2683">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2684">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2685">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2686">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm20), (gpointer)widget);</a>
<a name="ln2687"> </a>
<a name="ln2688">  }</a>
<a name="ln2689"> </a>
<a name="ln2690">  {</a>
<a name="ln2691">    label = gtk_label_new(_(&quot;number of folder levels to show in lists&quot;));</a>
<a name="ln2692">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2693">    labelev = gtk_event_box_new();</a>
<a name="ln2694">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2695">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2696">    gint min = 0;</a>
<a name="ln2697">    gint max = G_MAXINT;</a>
<a name="ln2698">    float factor = 1.0f;</a>
<a name="ln2699">    double tmp;</a>
<a name="ln2700">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln2701">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln2702">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln2703">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln2704">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;show_folder_levels&quot;) * factor);</a>
<a name="ln2705">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm243), NULL);</a>
<a name="ln2706">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm243), widget);</a>
<a name="ln2707">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(1 * factor));</a>
<a name="ln2708">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2709">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2710">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the number of folder levels to show in film roll names, starting from the right&quot;), (gchar *)0);</a>
<a name="ln2711">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2712">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2713">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm243), (gpointer)widget);</a>
<a name="ln2714"> </a>
<a name="ln2715">  }</a>
<a name="ln2716"> </a>
<a name="ln2717">  {</a>
<a name="ln2718">    label = gtk_label_new(_(&quot;enable filmstrip&quot;));</a>
<a name="ln2719">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2720">    labelev = gtk_event_box_new();</a>
<a name="ln2721">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2722">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2723">    widget = gtk_check_button_new();</a>
<a name="ln2724">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/filmstrip/visible&quot;));</a>
<a name="ln2725">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm459), NULL);</a>
<a name="ln2726">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm459), widget);</a>
<a name="ln2727">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2728">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2729">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2730">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;enable the filmstrip in darkroom, tethering and map modes.&quot;), (gchar *)0);</a>
<a name="ln2731">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2732">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2733">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm459), (gpointer)widget);</a>
<a name="ln2734"> </a>
<a name="ln2735">  }</a>
<a name="ln2736"> </a>
<a name="ln2737">  {</a>
<a name="ln2738">    label = gtk_label_new(_(&quot;overlay txt sidecar over zoomed images&quot;));</a>
<a name="ln2739">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2740">    labelev = gtk_event_box_new();</a>
<a name="ln2741">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2742">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2743">    widget = gtk_check_button_new();</a>
<a name="ln2744">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/draw_custom_metadata&quot;));</a>
<a name="ln2745">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm885), NULL);</a>
<a name="ln2746">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm885), widget);</a>
<a name="ln2747">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2748">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2749">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2750">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when there is a txt file next to an image it can be shown as an overlay over zoomed images on the lighttable. the txt file either has to be there at import time or the crawler has to be enabled&quot;), (gchar *)0);</a>
<a name="ln2751">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2752">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2753">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm885), (gpointer)widget);</a>
<a name="ln2754"> </a>
<a name="ln2755">  }</a>
<a name="ln2756"> </a>
<a name="ln2757">  {</a>
<a name="ln2758">    label = gtk_label_new(_(&quot;show scrollbars for center view&quot;));</a>
<a name="ln2759">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2760">    labelev = gtk_event_box_new();</a>
<a name="ln2761">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2762">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2763">    GtkTreeIter iter;</a>
<a name="ln2764">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2765">    gchar *str = dt_conf_get_string(&quot;scrollbars&quot;);</a>
<a name="ln2766">    gint pos = -1;</a>
<a name="ln2767"> </a>
<a name="ln2768">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2769">        gtk_list_store_set(store, &amp;iter, 0, &quot;no scrollbars&quot;, 1, C_(&quot;preferences&quot;, &quot;no scrollbars&quot;), -1);</a>
<a name="ln2770">        if(pos == -1 &amp;&amp; strcmp(str, &quot;no scrollbars&quot;) == 0)</a>
<a name="ln2771">          pos = 0;</a>
<a name="ln2772">      </a>
<a name="ln2773">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2774">        gtk_list_store_set(store, &amp;iter, 0, &quot;lighttable&quot;, 1, C_(&quot;preferences&quot;, &quot;lighttable&quot;), -1);</a>
<a name="ln2775">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lighttable&quot;) == 0)</a>
<a name="ln2776">          pos = 1;</a>
<a name="ln2777">      </a>
<a name="ln2778">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2779">        gtk_list_store_set(store, &amp;iter, 0, &quot;lighttable + darkroom&quot;, 1, C_(&quot;preferences&quot;, &quot;lighttable + darkroom&quot;), -1);</a>
<a name="ln2780">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lighttable + darkroom&quot;) == 0)</a>
<a name="ln2781">          pos = 2;</a>
<a name="ln2782">      </a>
<a name="ln2783"> </a>
<a name="ln2784">    g_free(str);</a>
<a name="ln2785"> </a>
<a name="ln2786">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2787">    g_object_unref(store);</a>
<a name="ln2788">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2789">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2790">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2791">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2792">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm927), NULL);</a>
<a name="ln2793">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm927), widget);</a>
<a name="ln2794">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;lighttable&quot;));</a>
<a name="ln2795">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2796">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2797">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines where scrollbars should be displayed&quot;), (gchar *)0);</a>
<a name="ln2798">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2799">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2800">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm927), (gpointer)widget);</a>
<a name="ln2801"> </a>
<a name="ln2802">  }</a>
<a name="ln2803"> </a>
<a name="ln2804">  {</a>
<a name="ln2805">    label = gtk_label_new(_(&quot;method to use for getting the display profile&quot;));</a>
<a name="ln2806">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2807">    labelev = gtk_event_box_new();</a>
<a name="ln2808">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2809">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2810">    GtkTreeIter iter;</a>
<a name="ln2811">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2812">    gchar *str = dt_conf_get_string(&quot;ui_last/display_profile_source&quot;);</a>
<a name="ln2813">    gint pos = -1;</a>
<a name="ln2814"> </a>
<a name="ln2815">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2816">        gtk_list_store_set(store, &amp;iter, 0, &quot;all&quot;, 1, C_(&quot;preferences&quot;, &quot;all&quot;), -1);</a>
<a name="ln2817">        if(pos == -1 &amp;&amp; strcmp(str, &quot;all&quot;) == 0)</a>
<a name="ln2818">          pos = 0;</a>
<a name="ln2819">      </a>
<a name="ln2820">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2821">        gtk_list_store_set(store, &amp;iter, 0, &quot;xatom&quot;, 1, C_(&quot;preferences&quot;, &quot;xatom&quot;), -1);</a>
<a name="ln2822">        if(pos == -1 &amp;&amp; strcmp(str, &quot;xatom&quot;) == 0)</a>
<a name="ln2823">          pos = 1;</a>
<a name="ln2824">      </a>
<a name="ln2825">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2826">        gtk_list_store_set(store, &amp;iter, 0, &quot;colord&quot;, 1, C_(&quot;preferences&quot;, &quot;colord&quot;), -1);</a>
<a name="ln2827">        if(pos == -1 &amp;&amp; strcmp(str, &quot;colord&quot;) == 0)</a>
<a name="ln2828">          pos = 2;</a>
<a name="ln2829">      </a>
<a name="ln2830"> </a>
<a name="ln2831">    g_free(str);</a>
<a name="ln2832"> </a>
<a name="ln2833">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln2834">    g_object_unref(store);</a>
<a name="ln2835">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln2836">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln2837">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln2838">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln2839">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1417), NULL);</a>
<a name="ln2840">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1417), widget);</a>
<a name="ln2841">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;all&quot;));</a>
<a name="ln2842">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2843">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2844">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this option allows to force a specific means of getting the current display profile. this is useful when one alternative gives wrong results&quot;), (gchar *)0);</a>
<a name="ln2845">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2846">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2847">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1417), (gpointer)widget);</a>
<a name="ln2848"> </a>
<a name="ln2849">  }</a>
<a name="ln2850"> </a>
<a name="ln2851">  gtk_widget_show_all(tab);</a>
<a name="ln2852">}</a>
<a name="ln2853"> </a>
<a name="ln2854">static void</a>
<a name="ln2855">init_tab_core (GtkWidget *dialog, GtkWidget *tab, void (*hardcoded_part)(GtkWidget *grid, int *line))</a>
<a name="ln2856">{</a>
<a name="ln2857">  GtkWidget *widget, *label, *labelev, *viewport;</a>
<a name="ln2858">  GtkWidget *grid = gtk_grid_new();</a>
<a name="ln2859">  gtk_grid_set_row_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln2860">  gtk_grid_set_column_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln2861">  gtk_grid_set_row_homogeneous(GTK_GRID(grid), TRUE);</a>
<a name="ln2862">  gtk_widget_set_valign(grid, GTK_ALIGN_START);</a>
<a name="ln2863">  int line = 0;</a>
<a name="ln2864">  char tooltip[1024];</a>
<a name="ln2865">  GtkWidget *scroll = gtk_scrolled_window_new(NULL, NULL);</a>
<a name="ln2866">  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(scroll), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);</a>
<a name="ln2867">  gtk_widget_set_margin_top(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln2868">  gtk_widget_set_margin_bottom(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln2869">  gtk_widget_set_margin_start(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln2870">  gtk_widget_set_margin_end(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln2871">  viewport = gtk_viewport_new(NULL, NULL);</a>
<a name="ln2872">  gtk_viewport_set_shadow_type(GTK_VIEWPORT(viewport), GTK_SHADOW_NONE); // doesn't seem to work from gtkrc</a>
<a name="ln2873">  gtk_container_add(GTK_CONTAINER(scroll), viewport);</a>
<a name="ln2874">  gtk_container_add(GTK_CONTAINER(viewport), grid);</a>
<a name="ln2875"> </a>
<a name="ln2876">  if(hardcoded_part)</a>
<a name="ln2877">    (*hardcoded_part)(grid, &amp;line);</a>
<a name="ln2878">  gtk_notebook_append_page(GTK_NOTEBOOK(tab), scroll, gtk_label_new(_(&quot;core options&quot;)));</a>
<a name="ln2879"> </a>
<a name="ln2880">   {</a>
<a name="ln2881">      GtkWidget *seclabel = gtk_label_new(_(&quot;quality&quot;));</a>
<a name="ln2882">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln2883">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln2884">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln2885">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln2886">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln2887">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln2888">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln2889">   }</a>
<a name="ln2890"> </a>
<a name="ln2891">  {</a>
<a name="ln2892">    label = gtk_label_new(_(&quot;color manage cached thumbnails&quot;));</a>
<a name="ln2893">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2894">    labelev = gtk_event_box_new();</a>
<a name="ln2895">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2896">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2897">    widget = gtk_check_button_new();</a>
<a name="ln2898">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;cache_color_managed&quot;));</a>
<a name="ln2899">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm37), NULL);</a>
<a name="ln2900">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm37), widget);</a>
<a name="ln2901">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2902">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2903">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2904">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if enabled, cached thumbnails will be color managed so that lighttable and filmstrip can show correct colors. otherwise the results may look wrong once the display profile gets changed.&quot;), (gchar *)0);</a>
<a name="ln2905">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2906">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2907">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm37), (gpointer)widget);</a>
<a name="ln2908"> </a>
<a name="ln2909">  }</a>
<a name="ln2910"> </a>
<a name="ln2911">  {</a>
<a name="ln2912">    label = gtk_label_new(_(&quot;always use LittleCMS 2 to apply output color profile&quot;));</a>
<a name="ln2913">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2914">    labelev = gtk_event_box_new();</a>
<a name="ln2915">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2916">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2917">    widget = gtk_check_button_new();</a>
<a name="ln2918">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/export/force_lcms2&quot;));</a>
<a name="ln2919">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm967), NULL);</a>
<a name="ln2920">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm967), widget);</a>
<a name="ln2921">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2922">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2923">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2924">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this is slower than the default.&quot;), (gchar *)0);</a>
<a name="ln2925">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2926">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2927">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm967), (gpointer)widget);</a>
<a name="ln2928"> </a>
<a name="ln2929">  }</a>
<a name="ln2930"> </a>
<a name="ln2931">  {</a>
<a name="ln2932">    label = gtk_label_new(_(&quot;do high quality processing for slideshow&quot;));</a>
<a name="ln2933">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2934">    labelev = gtk_event_box_new();</a>
<a name="ln2935">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2936">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2937">    widget = gtk_check_button_new();</a>
<a name="ln2938">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/slideshow/high_quality&quot;));</a>
<a name="ln2939">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm973), NULL);</a>
<a name="ln2940">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm973), widget);</a>
<a name="ln2941">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln2942">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2943">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2944">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;same option as for export, but applies to slideshow.&quot;), (gchar *)0);</a>
<a name="ln2945">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2946">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2947">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm973), (gpointer)widget);</a>
<a name="ln2948"> </a>
<a name="ln2949">  }</a>
<a name="ln2950"> </a>
<a name="ln2951">  {</a>
<a name="ln2952">    label = gtk_label_new(_(&quot;do high quality resampling during export&quot;));</a>
<a name="ln2953">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2954">    labelev = gtk_event_box_new();</a>
<a name="ln2955">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2956">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2957">    widget = gtk_check_button_new();</a>
<a name="ln2958">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/lighttable/export/high_quality_processing&quot;));</a>
<a name="ln2959">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm979), NULL);</a>
<a name="ln2960">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm979), widget);</a>
<a name="ln2961">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln2962">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln2963">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln2964">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the image will first be processed in full resolution, and downscaled at the very end. this can result in better quality sometimes, but will always be slower.&quot;), (gchar *)0);</a>
<a name="ln2965">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln2966">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln2967">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm979), (gpointer)widget);</a>
<a name="ln2968"> </a>
<a name="ln2969">  }</a>
<a name="ln2970"> </a>
<a name="ln2971">  {</a>
<a name="ln2972">    label = gtk_label_new(_(&quot;demosaicing for zoomed out darkroom mode&quot;));</a>
<a name="ln2973">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln2974">    labelev = gtk_event_box_new();</a>
<a name="ln2975">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln2976">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln2977">    GtkTreeIter iter;</a>
<a name="ln2978">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln2979">    gchar *str = dt_conf_get_string(&quot;plugins/darkroom/demosaic/quality&quot;);</a>
<a name="ln2980">    gint pos = -1;</a>
<a name="ln2981"> </a>
<a name="ln2982">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2983">        gtk_list_store_set(store, &amp;iter, 0, &quot;always bilinear (fast)&quot;, 1, C_(&quot;preferences&quot;, &quot;always bilinear (fast)&quot;), -1);</a>
<a name="ln2984">        if(pos == -1 &amp;&amp; strcmp(str, &quot;always bilinear (fast)&quot;) == 0)</a>
<a name="ln2985">          pos = 0;</a>
<a name="ln2986">      </a>
<a name="ln2987">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2988">        gtk_list_store_set(store, &amp;iter, 0, &quot;at most PPG (reasonable)&quot;, 1, C_(&quot;preferences&quot;, &quot;at most PPG (reasonable)&quot;), -1);</a>
<a name="ln2989">        if(pos == -1 &amp;&amp; strcmp(str, &quot;at most PPG (reasonable)&quot;) == 0)</a>
<a name="ln2990">          pos = 1;</a>
<a name="ln2991">      </a>
<a name="ln2992">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln2993">        gtk_list_store_set(store, &amp;iter, 0, &quot;full (possibly slow)&quot;, 1, C_(&quot;preferences&quot;, &quot;full (possibly slow)&quot;), -1);</a>
<a name="ln2994">        if(pos == -1 &amp;&amp; strcmp(str, &quot;full (possibly slow)&quot;) == 0)</a>
<a name="ln2995">          pos = 2;</a>
<a name="ln2996">      </a>
<a name="ln2997"> </a>
<a name="ln2998">    g_free(str);</a>
<a name="ln2999"> </a>
<a name="ln3000">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3001">    g_object_unref(store);</a>
<a name="ln3002">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3003">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3004">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3005">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3006">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1033), NULL);</a>
<a name="ln3007">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1033), widget);</a>
<a name="ln3008">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;at most PPG (reasonable)&quot;));</a>
<a name="ln3009">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3010">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3011">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;interpolation when not viewing 1:1 in darkroom mode: bilinear is fastest, but not as sharp. middle ground is using PPG + interpolation modes specified below, full will use exactly the settings for full-size export. X-Trans sensors use VNG rather than PPG as middle ground.&quot;), (gchar *)0);</a>
<a name="ln3012">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3013">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3014">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1033), (gpointer)widget);</a>
<a name="ln3015"> </a>
<a name="ln3016">  }</a>
<a name="ln3017"> </a>
<a name="ln3018">  {</a>
<a name="ln3019">    label = gtk_label_new(_(&quot;pixel interpolator&quot;));</a>
<a name="ln3020">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3021">    labelev = gtk_event_box_new();</a>
<a name="ln3022">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3023">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3024">    GtkTreeIter iter;</a>
<a name="ln3025">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3026">    gchar *str = dt_conf_get_string(&quot;plugins/lighttable/export/pixel_interpolator&quot;);</a>
<a name="ln3027">    gint pos = -1;</a>
<a name="ln3028"> </a>
<a name="ln3029">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3030">        gtk_list_store_set(store, &amp;iter, 0, &quot;bilinear&quot;, 1, C_(&quot;preferences&quot;, &quot;bilinear&quot;), -1);</a>
<a name="ln3031">        if(pos == -1 &amp;&amp; strcmp(str, &quot;bilinear&quot;) == 0)</a>
<a name="ln3032">          pos = 0;</a>
<a name="ln3033">      </a>
<a name="ln3034">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3035">        gtk_list_store_set(store, &amp;iter, 0, &quot;bicubic&quot;, 1, C_(&quot;preferences&quot;, &quot;bicubic&quot;), -1);</a>
<a name="ln3036">        if(pos == -1 &amp;&amp; strcmp(str, &quot;bicubic&quot;) == 0)</a>
<a name="ln3037">          pos = 1;</a>
<a name="ln3038">      </a>
<a name="ln3039">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3040">        gtk_list_store_set(store, &amp;iter, 0, &quot;lanczos2&quot;, 1, C_(&quot;preferences&quot;, &quot;lanczos2&quot;), -1);</a>
<a name="ln3041">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lanczos2&quot;) == 0)</a>
<a name="ln3042">          pos = 2;</a>
<a name="ln3043">      </a>
<a name="ln3044">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3045">        gtk_list_store_set(store, &amp;iter, 0, &quot;lanczos3&quot;, 1, C_(&quot;preferences&quot;, &quot;lanczos3&quot;), -1);</a>
<a name="ln3046">        if(pos == -1 &amp;&amp; strcmp(str, &quot;lanczos3&quot;) == 0)</a>
<a name="ln3047">          pos = 3;</a>
<a name="ln3048">      </a>
<a name="ln3049"> </a>
<a name="ln3050">    g_free(str);</a>
<a name="ln3051"> </a>
<a name="ln3052">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3053">    g_object_unref(store);</a>
<a name="ln3054">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3055">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3056">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3057">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3058">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1043), NULL);</a>
<a name="ln3059">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1043), widget);</a>
<a name="ln3060">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;lanczos3&quot;));</a>
<a name="ln3061">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3062">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3063">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;pixel interpolator used in rotation and lens correction (bilinear, bicubic, lanczos2, lanczos3).&quot;), (gchar *)0);</a>
<a name="ln3064">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3065">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3066">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1043), (gpointer)widget);</a>
<a name="ln3067"> </a>
<a name="ln3068">  }</a>
<a name="ln3069"> </a>
<a name="ln3070">  {</a>
<a name="ln3071">    label = gtk_label_new(_(&quot;auto-apply basecurve&quot;));</a>
<a name="ln3072">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3073">    labelev = gtk_event_box_new();</a>
<a name="ln3074">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3075">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3076">    widget = gtk_check_button_new();</a>
<a name="ln3077">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/darkroom/basecurve/auto_apply&quot;));</a>
<a name="ln3078">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1445), NULL);</a>
<a name="ln3079">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1445), widget);</a>
<a name="ln3080">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3081">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3082">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3083">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;use a basecurve by default (needs a restart)&quot;), (gchar *)0);</a>
<a name="ln3084">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3085">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3086">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1445), (gpointer)widget);</a>
<a name="ln3087"> </a>
<a name="ln3088">  }</a>
<a name="ln3089"> </a>
<a name="ln3090">  {</a>
<a name="ln3091">    label = gtk_label_new(_(&quot;auto-apply per camera basecurve presets&quot;));</a>
<a name="ln3092">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3093">    labelev = gtk_event_box_new();</a>
<a name="ln3094">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3095">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3096">    widget = gtk_check_button_new();</a>
<a name="ln3097">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/darkroom/basecurve/auto_apply_percamera_presets&quot;));</a>
<a name="ln3098">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1451), NULL);</a>
<a name="ln3099">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1451), widget);</a>
<a name="ln3100">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3101">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3102">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3103">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;use the per-camera basecurve by default instead of the generic manufacturer one if there is one available (needs a restart)&quot;), (gchar *)0);</a>
<a name="ln3104">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3105">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3106">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1451), (gpointer)widget);</a>
<a name="ln3107"> </a>
<a name="ln3108">  }</a>
<a name="ln3109"> </a>
<a name="ln3110">  {</a>
<a name="ln3111">    label = gtk_label_new(_(&quot;auto-apply sharpen&quot;));</a>
<a name="ln3112">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3113">    labelev = gtk_event_box_new();</a>
<a name="ln3114">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3115">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3116">    widget = gtk_check_button_new();</a>
<a name="ln3117">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;plugins/darkroom/sharpen/auto_apply&quot;));</a>
<a name="ln3118">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1457), NULL);</a>
<a name="ln3119">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1457), widget);</a>
<a name="ln3120">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3121">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3122">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3123">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this added sharpen is not recommended on cameras without a low-pass filter. the default is to not add any sharpening automatically as most recent cameras have no low-pass filter. (need a restart)&quot;), (gchar *)0);</a>
<a name="ln3124">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3125">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3126">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1457), (gpointer)widget);</a>
<a name="ln3127"> </a>
<a name="ln3128">  }</a>
<a name="ln3129"> </a>
<a name="ln3130">   {</a>
<a name="ln3131">      GtkWidget *seclabel = gtk_label_new(_(&quot;xmp&quot;));</a>
<a name="ln3132">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3133">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3134">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln3135">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln3136">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3137">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3138">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3139">   }</a>
<a name="ln3140"> </a>
<a name="ln3141">  {</a>
<a name="ln3142">    label = gtk_label_new(_(&quot;write sidecar file for each image&quot;));</a>
<a name="ln3143">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3144">    labelev = gtk_event_box_new();</a>
<a name="ln3145">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3146">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3147">    widget = gtk_check_button_new();</a>
<a name="ln3148">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;write_sidecar_files&quot;));</a>
<a name="ln3149">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm145), NULL);</a>
<a name="ln3150">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm145), widget);</a>
<a name="ln3151">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3152">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3153">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3154">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;these redundant files can later be re-imported into a different database, preserving your changes to the image.&quot;), (gchar *)0);</a>
<a name="ln3155">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3156">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3157">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm145), (gpointer)widget);</a>
<a name="ln3158"> </a>
<a name="ln3159">  }</a>
<a name="ln3160"> </a>
<a name="ln3161">  {</a>
<a name="ln3162">    label = gtk_label_new(_(&quot;store xmp tags in compressed format&quot;));</a>
<a name="ln3163">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3164">    labelev = gtk_event_box_new();</a>
<a name="ln3165">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3166">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3167">    GtkTreeIter iter;</a>
<a name="ln3168">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3169">    gchar *str = dt_conf_get_string(&quot;compress_xmp_tags&quot;);</a>
<a name="ln3170">    gint pos = -1;</a>
<a name="ln3171"> </a>
<a name="ln3172">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3173">        gtk_list_store_set(store, &amp;iter, 0, &quot;never&quot;, 1, C_(&quot;preferences&quot;, &quot;never&quot;), -1);</a>
<a name="ln3174">        if(pos == -1 &amp;&amp; strcmp(str, &quot;never&quot;) == 0)</a>
<a name="ln3175">          pos = 0;</a>
<a name="ln3176">      </a>
<a name="ln3177">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3178">        gtk_list_store_set(store, &amp;iter, 0, &quot;always&quot;, 1, C_(&quot;preferences&quot;, &quot;always&quot;), -1);</a>
<a name="ln3179">        if(pos == -1 &amp;&amp; strcmp(str, &quot;always&quot;) == 0)</a>
<a name="ln3180">          pos = 1;</a>
<a name="ln3181">      </a>
<a name="ln3182">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3183">        gtk_list_store_set(store, &amp;iter, 0, &quot;only large entries&quot;, 1, C_(&quot;preferences&quot;, &quot;only large entries&quot;), -1);</a>
<a name="ln3184">        if(pos == -1 &amp;&amp; strcmp(str, &quot;only large entries&quot;) == 0)</a>
<a name="ln3185">          pos = 2;</a>
<a name="ln3186">      </a>
<a name="ln3187"> </a>
<a name="ln3188">    g_free(str);</a>
<a name="ln3189"> </a>
<a name="ln3190">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3191">    g_object_unref(store);</a>
<a name="ln3192">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3193">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3194">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3195">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3196">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm151), NULL);</a>
<a name="ln3197">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm151), widget);</a>
<a name="ln3198">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;only large entries&quot;));</a>
<a name="ln3199">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3200">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3201">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;entries in xmp tags can get rather large and may exceed the available space to store the history stack in output files. this option allows xmp tags to be compressed and save space.&quot;), (gchar *)0);</a>
<a name="ln3202">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3203">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3204">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm151), (gpointer)widget);</a>
<a name="ln3205"> </a>
<a name="ln3206">  }</a>
<a name="ln3207"> </a>
<a name="ln3208">  {</a>
<a name="ln3209">    label = gtk_label_new(_(&quot;look for updated xmp files on startup&quot;));</a>
<a name="ln3210">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3211">    labelev = gtk_event_box_new();</a>
<a name="ln3212">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3213">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3214">    widget = gtk_check_button_new();</a>
<a name="ln3215">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;run_crawler_on_start&quot;));</a>
<a name="ln3216">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm1433), NULL);</a>
<a name="ln3217">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1433), widget);</a>
<a name="ln3218">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3219">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3220">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3221">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;check file modification times of all xmp files on startup to check if any got updated in the meantime&quot;), (gchar *)0);</a>
<a name="ln3222">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3223">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3224">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1433), (gpointer)widget);</a>
<a name="ln3225"> </a>
<a name="ln3226">  }</a>
<a name="ln3227"> </a>
<a name="ln3228">   {</a>
<a name="ln3229">      GtkWidget *seclabel = gtk_label_new(_(&quot;cpu / gpu / memory&quot;));</a>
<a name="ln3230">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3231">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3232">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln3233">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln3234">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3235">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3236">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3237">   }</a>
<a name="ln3238"> </a>
<a name="ln3239">  {</a>
<a name="ln3240">    label = gtk_label_new(_(&quot;memory in megabytes to use for thumbnail cache&quot;));</a>
<a name="ln3241">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3242">    labelev = gtk_event_box_new();</a>
<a name="ln3243">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3244">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3245">    gint64 min = 0;</a>
<a name="ln3246">    gint64 max = G_MAXINT64;</a>
<a name="ln3247">    min = (1024 * 1024 * 100);</a>
<a name="ln3248">    float factor = (1.0 / (1024.0 * 1024.0));</a>
<a name="ln3249">    min *= factor; max *= factor;</a>
<a name="ln3250">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3251">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3252">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int64(&quot;cache_memory&quot;) * factor);</a>
<a name="ln3253">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm25), NULL);</a>
<a name="ln3254">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm25), widget);</a>
<a name="ln3255">    char value[100];</a>
<a name="ln3256">    snprintf(value, 100, &quot;%&quot;G_GINT64_FORMAT&quot;&quot;,(gint64)((1024 * 1024 * 256) * factor));</a>
<a name="ln3257">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), value);</a>
<a name="ln3258">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3259">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3260">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this controls how much memory is going to be used for thumbnails and other buffers (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3261">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3262">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3263">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm25), (gpointer)widget);</a>
<a name="ln3264"> </a>
<a name="ln3265">  }</a>
<a name="ln3266"> </a>
<a name="ln3267">  {</a>
<a name="ln3268">    label = gtk_label_new(_(&quot;enable disk backend for thumbnail cache&quot;));</a>
<a name="ln3269">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3270">    labelev = gtk_event_box_new();</a>
<a name="ln3271">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3272">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3273">    widget = gtk_check_button_new();</a>
<a name="ln3274">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;cache_disk_backend&quot;));</a>
<a name="ln3275">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm31), NULL);</a>
<a name="ln3276">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm31), widget);</a>
<a name="ln3277">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3278">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3279">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3280">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if enabled, write thumbnails to disk (.cache/darktable/) when evicted from the memory cache. note that this can take a lot of memory (several gigabytes for 20k images) and will never delete cached thumbnails again. it's safe though to delete these manually, if you want. light table performance will be increased greatly when browsing a lot. to generate all thumbnails of your entire collection offline, run 'darktable-generate-cache'.&quot;), (gchar *)0);</a>
<a name="ln3281">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3282">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3283">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm31), (gpointer)widget);</a>
<a name="ln3284"> </a>
<a name="ln3285">  }</a>
<a name="ln3286"> </a>
<a name="ln3287">  {</a>
<a name="ln3288">    label = gtk_label_new(_(&quot;number of background threads&quot;));</a>
<a name="ln3289">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3290">    labelev = gtk_event_box_new();</a>
<a name="ln3291">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3292">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3293">    gint min = 0;</a>
<a name="ln3294">    gint max = G_MAXINT;</a>
<a name="ln3295">    float factor = 1.0f;</a>
<a name="ln3296">    double tmp;</a>
<a name="ln3297">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3298">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3299">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3300">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3301">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;worker_threads&quot;) * factor);</a>
<a name="ln3302">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm43), NULL);</a>
<a name="ln3303">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm43), widget);</a>
<a name="ln3304">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(2 * factor));</a>
<a name="ln3305">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3306">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3307">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this controls for example how many threads are used to create thumbnails during import. the cache will grow to a maximum of twice this number of full resolution image buffers (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3308">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3309">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3310">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm43), (gpointer)widget);</a>
<a name="ln3311"> </a>
<a name="ln3312">  }</a>
<a name="ln3313"> </a>
<a name="ln3314">  {</a>
<a name="ln3315">    label = gtk_label_new(_(&quot;host memory limit (in MB) for tiling&quot;));</a>
<a name="ln3316">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3317">    labelev = gtk_event_box_new();</a>
<a name="ln3318">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3319">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3320">    gint min = 0;</a>
<a name="ln3321">    gint max = G_MAXINT;</a>
<a name="ln3322">    float factor = 1.0f;</a>
<a name="ln3323">    double tmp;</a>
<a name="ln3324">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3325">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3326">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3327">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3328">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;host_memory_limit&quot;) * factor);</a>
<a name="ln3329">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm49), NULL);</a>
<a name="ln3330">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm49), widget);</a>
<a name="ln3331">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(1500 * factor));</a>
<a name="ln3332">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3333">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3334">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this variable controls the maximum amount of memory (in MB) a module may use during image processing. lower values will force memory hungry modules to process image with increasing number of tiles. setting this to 0 will omit any limit. values below 500 will be treated as 500 (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3335">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3336">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3337">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm49), (gpointer)widget);</a>
<a name="ln3338"> </a>
<a name="ln3339">  }</a>
<a name="ln3340"> </a>
<a name="ln3341">  {</a>
<a name="ln3342">    label = gtk_label_new(_(&quot;minimum amount of memory (in MB) for a single buffer in tiling&quot;));</a>
<a name="ln3343">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3344">    labelev = gtk_event_box_new();</a>
<a name="ln3345">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3346">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3347">    gint min = 0;</a>
<a name="ln3348">    gint max = G_MAXINT;</a>
<a name="ln3349">    min = 2;</a>
<a name="ln3350">    max = 64;</a>
<a name="ln3351">    float factor = 1.0f;</a>
<a name="ln3352">    double tmp;</a>
<a name="ln3353">    tmp = min * (double)factor; min = tmp;</a>
<a name="ln3354">    tmp = max * (double)factor; max = tmp;</a>
<a name="ln3355">    widget = gtk_spin_button_new_with_range(min, max, 1);</a>
<a name="ln3356">    gtk_spin_button_set_digits(GTK_SPIN_BUTTON(widget), 0);</a>
<a name="ln3357">    gtk_spin_button_set_value(GTK_SPIN_BUTTON(widget), dt_conf_get_int(&quot;singlebuffer_limit&quot;) * factor);</a>
<a name="ln3358">    g_signal_connect(G_OBJECT(widget), &quot;value-changed&quot;, G_CALLBACK(preferences_callback_idm55), NULL);</a>
<a name="ln3359">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm55), widget);</a>
<a name="ln3360">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%d'&quot;), (int)(16 * factor));</a>
<a name="ln3361">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3362">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3363">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if set to a positive, non-zero value this variable defines the minimum amount of memory (in MB) that tiling should take for a single image buffer. has precedence over heuristics based on host_memory_limit (needs a restart).&quot;), (gchar *)0);</a>
<a name="ln3364">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3365">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3366">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm55), (gpointer)widget);</a>
<a name="ln3367"> </a>
<a name="ln3368">  }</a>
<a name="ln3369"> </a>
<a name="ln3370">  {</a>
<a name="ln3371">    label = gtk_label_new(_(&quot;activate OpenCL support&quot;));</a>
<a name="ln3372">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3373">    labelev = gtk_event_box_new();</a>
<a name="ln3374">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3375">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3376">    widget = gtk_check_button_new();</a>
<a name="ln3377">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;opencl&quot;));</a>
<a name="ln3378">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm167), NULL);</a>
<a name="ln3379">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm167), widget);</a>
<a name="ln3380">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;TRUE&quot;));</a>
<a name="ln3381">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3382">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3383">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;if found, use OpenCL runtime on your system for improved processing speed. can be switched on and off at any time.&quot;), (gchar *)0);</a>
<a name="ln3384">    GtkWidget *notavailable = gtk_label_new(_(&quot;not available&quot;));</a>
<a name="ln3385">    gtk_widget_set_halign(notavailable, GTK_ALIGN_START);</a>
<a name="ln3386">    gtk_widget_set_sensitive(notavailable, FALSE);</a>
<a name="ln3387">    g_object_set(notavailable, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3388">    gtk_widget_set_sensitive(labelev, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3389">    gtk_widget_set_sensitive(widget, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3390">    if(!dt_capabilities_check(&quot;opencl&quot;))</a>
<a name="ln3391">      g_object_set(labelev, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3392">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3393">    gtk_grid_attach_next_to(GTK_GRID(grid), dt_capabilities_check(&quot;opencl&quot;) ? widget : notavailable, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3394">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm167), (gpointer)widget);</a>
<a name="ln3395"> </a>
<a name="ln3396">  }</a>
<a name="ln3397"> </a>
<a name="ln3398">  {</a>
<a name="ln3399">    label = gtk_label_new(_(&quot;OpenCL scheduling profile&quot;));</a>
<a name="ln3400">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3401">    labelev = gtk_event_box_new();</a>
<a name="ln3402">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3403">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3404">    GtkTreeIter iter;</a>
<a name="ln3405">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3406">    gchar *str = dt_conf_get_string(&quot;opencl_scheduling_profile&quot;);</a>
<a name="ln3407">    gint pos = -1;</a>
<a name="ln3408"> </a>
<a name="ln3409">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3410">        gtk_list_store_set(store, &amp;iter, 0, &quot;default&quot;, 1, C_(&quot;preferences&quot;, &quot;default&quot;), -1);</a>
<a name="ln3411">        if(pos == -1 &amp;&amp; strcmp(str, &quot;default&quot;) == 0)</a>
<a name="ln3412">          pos = 0;</a>
<a name="ln3413">      </a>
<a name="ln3414">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3415">        gtk_list_store_set(store, &amp;iter, 0, &quot;multiple GPUs&quot;, 1, C_(&quot;preferences&quot;, &quot;multiple GPUs&quot;), -1);</a>
<a name="ln3416">        if(pos == -1 &amp;&amp; strcmp(str, &quot;multiple GPUs&quot;) == 0)</a>
<a name="ln3417">          pos = 1;</a>
<a name="ln3418">      </a>
<a name="ln3419">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3420">        gtk_list_store_set(store, &amp;iter, 0, &quot;very fast GPU&quot;, 1, C_(&quot;preferences&quot;, &quot;very fast GPU&quot;), -1);</a>
<a name="ln3421">        if(pos == -1 &amp;&amp; strcmp(str, &quot;very fast GPU&quot;) == 0)</a>
<a name="ln3422">          pos = 2;</a>
<a name="ln3423">      </a>
<a name="ln3424"> </a>
<a name="ln3425">    g_free(str);</a>
<a name="ln3426"> </a>
<a name="ln3427">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3428">    g_object_unref(store);</a>
<a name="ln3429">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3430">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3431">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3432">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3433">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm173), NULL);</a>
<a name="ln3434">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm173), widget);</a>
<a name="ln3435">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;default&quot;));</a>
<a name="ln3436">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3437">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3438">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;defines how preview and full pixelpipe tasks are scheduled on OpenCL enabled systems. default - GPU processes full and CPU processes preview pipe (adaptable by config parameters); multiple GPUs - process both pixelpipes in parallel on two different GPUs; very fast GPU - process both pixelipes sequentially on the GPU.&quot;), (gchar *)0);</a>
<a name="ln3439">    GtkWidget *notavailable = gtk_label_new(_(&quot;not available&quot;));</a>
<a name="ln3440">    gtk_widget_set_halign(notavailable, GTK_ALIGN_START);</a>
<a name="ln3441">    gtk_widget_set_sensitive(notavailable, FALSE);</a>
<a name="ln3442">    g_object_set(notavailable, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3443">    gtk_widget_set_sensitive(labelev, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3444">    gtk_widget_set_sensitive(widget, dt_capabilities_check(&quot;opencl&quot;));</a>
<a name="ln3445">    if(!dt_capabilities_check(&quot;opencl&quot;))</a>
<a name="ln3446">      g_object_set(labelev, &quot;tooltip-text&quot;, _(&quot;not available on this system&quot;), (gchar *)0);</a>
<a name="ln3447">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3448">    gtk_grid_attach_next_to(GTK_GRID(grid), dt_capabilities_check(&quot;opencl&quot;) ? widget : notavailable, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3449">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm173), (gpointer)widget);</a>
<a name="ln3450"> </a>
<a name="ln3451">  }</a>
<a name="ln3452"> </a>
<a name="ln3453">   {</a>
<a name="ln3454">      GtkWidget *seclabel = gtk_label_new(_(&quot;miscellaneous&quot;));</a>
<a name="ln3455">      GtkWidget *lbox = gtk_box_new(GTK_ORIENTATION_HORIZONTAL, 0);</a>
<a name="ln3456">      gtk_box_pack_start(GTK_BOX(lbox), seclabel, FALSE, FALSE, 0);</a>
<a name="ln3457">      gtk_widget_set_halign(seclabel, GTK_ALIGN_CENTER);</a>
<a name="ln3458">      gtk_widget_set_halign(lbox, GTK_ALIGN_CENTER);</a>
<a name="ln3459">      gtk_widget_set_hexpand(lbox, TRUE);</a>
<a name="ln3460">      gtk_widget_set_name(lbox, &quot;pref_section&quot;);</a>
<a name="ln3461">      gtk_grid_attach(GTK_GRID(grid), lbox, 0, line++, 2, 1);</a>
<a name="ln3462">   }</a>
<a name="ln3463"> </a>
<a name="ln3464">  {</a>
<a name="ln3465">    label = gtk_label_new(_(&quot;omit hierarchy in simple tag lists&quot;));</a>
<a name="ln3466">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3467">    labelev = gtk_event_box_new();</a>
<a name="ln3468">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3469">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3470">    widget = gtk_check_button_new();</a>
<a name="ln3471">    gtk_toggle_button_set_active(GTK_TOGGLE_BUTTON(widget), dt_conf_get_bool(&quot;omit_tag_hierarchy&quot;));</a>
<a name="ln3472">    g_signal_connect(G_OBJECT(widget), &quot;toggled&quot;, G_CALLBACK(preferences_callback_idm161), NULL);</a>
<a name="ln3473">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm161), widget);</a>
<a name="ln3474">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;FALSE&quot;));</a>
<a name="ln3475">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3476">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3477">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;when exporting images the hierarchical tags are also added as a simple list of non-hierarchical ones to make them visible to some other programs. when this option is checked darktable will only include their last part and ignore the rest. so 'foo|bar|baz' will only add 'baz'.&quot;), (gchar *)0);</a>
<a name="ln3478">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3479">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3480">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm161), (gpointer)widget);</a>
<a name="ln3481"> </a>
<a name="ln3482">  }</a>
<a name="ln3483"> </a>
<a name="ln3484">  {</a>
<a name="ln3485">    label = gtk_label_new(_(&quot;password storage backend to use&quot;));</a>
<a name="ln3486">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3487">    labelev = gtk_event_box_new();</a>
<a name="ln3488">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3489">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3490">    GtkTreeIter iter;</a>
<a name="ln3491">    GtkListStore *store = gtk_list_store_new(2, G_TYPE_STRING, G_TYPE_STRING);</a>
<a name="ln3492">    gchar *str = dt_conf_get_string(&quot;plugins/pwstorage/pwstorage_backend&quot;);</a>
<a name="ln3493">    gint pos = -1;</a>
<a name="ln3494"> </a>
<a name="ln3495">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3496">        gtk_list_store_set(store, &amp;iter, 0, &quot;auto&quot;, 1, C_(&quot;preferences&quot;, &quot;auto&quot;), -1);</a>
<a name="ln3497">        if(pos == -1 &amp;&amp; strcmp(str, &quot;auto&quot;) == 0)</a>
<a name="ln3498">          pos = 0;</a>
<a name="ln3499">      </a>
<a name="ln3500">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3501">        gtk_list_store_set(store, &amp;iter, 0, &quot;none&quot;, 1, C_(&quot;preferences&quot;, &quot;none&quot;), -1);</a>
<a name="ln3502">        if(pos == -1 &amp;&amp; strcmp(str, &quot;none&quot;) == 0)</a>
<a name="ln3503">          pos = 1;</a>
<a name="ln3504">      if(dt_capabilities_check(&quot;libsecret&quot;)) {</a>
<a name="ln3505">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3506">        gtk_list_store_set(store, &amp;iter, 0, &quot;libsecret&quot;, 1, C_(&quot;preferences&quot;, &quot;libsecret&quot;), -1);</a>
<a name="ln3507">        if(pos == -1 &amp;&amp; strcmp(str, &quot;libsecret&quot;) == 0)</a>
<a name="ln3508">          pos = 2;</a>
<a name="ln3509">      }</a>
<a name="ln3510">          if(dt_capabilities_check(&quot;kwallet&quot;)) {</a>
<a name="ln3511">        gtk_list_store_append(store, &amp;iter);</a>
<a name="ln3512">        gtk_list_store_set(store, &amp;iter, 0, &quot;kwallet&quot;, 1, C_(&quot;preferences&quot;, &quot;kwallet&quot;), -1);</a>
<a name="ln3513">        if(pos == -1 &amp;&amp; strcmp(str, &quot;kwallet&quot;) == 0)</a>
<a name="ln3514">          pos = 3;</a>
<a name="ln3515">      }</a>
<a name="ln3516">          </a>
<a name="ln3517"> </a>
<a name="ln3518">    g_free(str);</a>
<a name="ln3519"> </a>
<a name="ln3520">    widget = gtk_combo_box_new_with_model(GTK_TREE_MODEL(store));</a>
<a name="ln3521">    g_object_unref(store);</a>
<a name="ln3522">    GtkCellRenderer *renderer = gtk_cell_renderer_text_new();</a>
<a name="ln3523">    gtk_cell_layout_pack_start(GTK_CELL_LAYOUT(widget), renderer, TRUE);</a>
<a name="ln3524">    gtk_cell_layout_set_attributes(GTK_CELL_LAYOUT(widget), renderer, &quot;text&quot;, 1, NULL);</a>
<a name="ln3525">    gtk_combo_box_set_active(GTK_COMBO_BOX(widget), pos);</a>
<a name="ln3526">    g_signal_connect(G_OBJECT(widget), &quot;changed&quot;, G_CALLBACK(preferences_callback_idm1168), NULL);</a>
<a name="ln3527">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1168), widget);</a>
<a name="ln3528">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), C_(&quot;preferences&quot;, &quot;auto&quot;));</a>
<a name="ln3529">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3530">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3531">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;the storage backend for password storage: auto, none, libsecret, kwallet&quot;), (gchar *)0);</a>
<a name="ln3532">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3533">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3534">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1168), (gpointer)widget);</a>
<a name="ln3535"> </a>
<a name="ln3536">  }</a>
<a name="ln3537"> </a>
<a name="ln3538">  {</a>
<a name="ln3539">    label = gtk_label_new(_(&quot;executable for playing audio files&quot;));</a>
<a name="ln3540">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3541">    labelev = gtk_event_box_new();</a>
<a name="ln3542">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3543">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3544">    widget = gtk_entry_new();</a>
<a name="ln3545">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln3546">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln3547">    gchar *setting = dt_conf_get_string(&quot;plugins/lighttable/audio_player&quot;);</a>
<a name="ln3548">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln3549">    g_free(setting);</a>
<a name="ln3550">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm1439), NULL);</a>
<a name="ln3551">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm1439), widget);</a>
<a name="ln3552">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;aplay&quot;);</a>
<a name="ln3553">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3554">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3555">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;this external program is used to play audio files some cameras record to keep notes for images&quot;), (gchar *)0);</a>
<a name="ln3556">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3557">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3558">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm1439), (gpointer)widget);</a>
<a name="ln3559"> </a>
<a name="ln3560">  }</a>
<a name="ln3561"> </a>
<a name="ln3562">  gtk_widget_show_all(tab);</a>
<a name="ln3563">}</a>
<a name="ln3564"> </a>
<a name="ln3565">static void</a>
<a name="ln3566">init_tab_session (GtkWidget *dialog, GtkWidget *tab, void (*hardcoded_part)(GtkWidget *grid, int *line))</a>
<a name="ln3567">{</a>
<a name="ln3568">  GtkWidget *widget, *label, *labelev, *viewport;</a>
<a name="ln3569">  GtkWidget *grid = gtk_grid_new();</a>
<a name="ln3570">  gtk_grid_set_row_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln3571">  gtk_grid_set_column_spacing(GTK_GRID(grid), DT_PIXEL_APPLY_DPI(5));</a>
<a name="ln3572">  gtk_grid_set_row_homogeneous(GTK_GRID(grid), TRUE);</a>
<a name="ln3573">  gtk_widget_set_valign(grid, GTK_ALIGN_START);</a>
<a name="ln3574">  int line = 0;</a>
<a name="ln3575">  char tooltip[1024];</a>
<a name="ln3576">  GtkWidget *scroll = gtk_scrolled_window_new(NULL, NULL);</a>
<a name="ln3577">  gtk_scrolled_window_set_policy(GTK_SCROLLED_WINDOW(scroll), GTK_POLICY_NEVER, GTK_POLICY_AUTOMATIC);</a>
<a name="ln3578">  gtk_widget_set_margin_top(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln3579">  gtk_widget_set_margin_bottom(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln3580">  gtk_widget_set_margin_start(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln3581">  gtk_widget_set_margin_end(scroll, DT_PIXEL_APPLY_DPI(20));</a>
<a name="ln3582">  viewport = gtk_viewport_new(NULL, NULL);</a>
<a name="ln3583">  gtk_viewport_set_shadow_type(GTK_VIEWPORT(viewport), GTK_SHADOW_NONE); // doesn't seem to work from gtkrc</a>
<a name="ln3584">  gtk_container_add(GTK_CONTAINER(scroll), viewport);</a>
<a name="ln3585">  gtk_container_add(GTK_CONTAINER(viewport), grid);</a>
<a name="ln3586"> </a>
<a name="ln3587">  if(hardcoded_part)</a>
<a name="ln3588">    (*hardcoded_part)(grid, &amp;line);</a>
<a name="ln3589">  gtk_notebook_append_page(GTK_NOTEBOOK(tab), scroll, gtk_label_new(_(&quot;session options&quot;)));</a>
<a name="ln3590"> </a>
<a name="ln3591">  {</a>
<a name="ln3592">    label = gtk_label_new(_(&quot;base directory naming pattern&quot;));</a>
<a name="ln3593">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3594">    labelev = gtk_event_box_new();</a>
<a name="ln3595">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3596">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3597">    widget = gtk_entry_new();</a>
<a name="ln3598">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln3599">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln3600">    gchar *setting = dt_conf_get_string(&quot;session/base_directory_pattern&quot;);</a>
<a name="ln3601">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln3602">    g_free(setting);</a>
<a name="ln3603">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm543), NULL);</a>
<a name="ln3604">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm543), widget);</a>
<a name="ln3605">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(PICTURES_FOLDER)/Darktable&quot;);</a>
<a name="ln3606">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3607">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3608">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;part of full import path for an import session&quot;), (gchar *)0);</a>
<a name="ln3609">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3610">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3611">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm543), (gpointer)widget);</a>
<a name="ln3612"> </a>
<a name="ln3613">  }</a>
<a name="ln3614"> </a>
<a name="ln3615">  {</a>
<a name="ln3616">    label = gtk_label_new(_(&quot;sub directory naming pattern&quot;));</a>
<a name="ln3617">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3618">    labelev = gtk_event_box_new();</a>
<a name="ln3619">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3620">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3621">    widget = gtk_entry_new();</a>
<a name="ln3622">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln3623">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln3624">    gchar *setting = dt_conf_get_string(&quot;session/sub_directory_pattern&quot;);</a>
<a name="ln3625">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln3626">    g_free(setting);</a>
<a name="ln3627">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm549), NULL);</a>
<a name="ln3628">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm549), widget);</a>
<a name="ln3629">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(YEAR)$(MONTH)$(DAY)_$(JOBCODE)&quot;);</a>
<a name="ln3630">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3631">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3632">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;part of full import path for an import session&quot;), (gchar *)0);</a>
<a name="ln3633">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3634">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3635">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm549), (gpointer)widget);</a>
<a name="ln3636"> </a>
<a name="ln3637">  }</a>
<a name="ln3638"> </a>
<a name="ln3639">  {</a>
<a name="ln3640">    label = gtk_label_new(_(&quot;file naming pattern&quot;));</a>
<a name="ln3641">    gtk_widget_set_halign(label, GTK_ALIGN_START);</a>
<a name="ln3642">    labelev = gtk_event_box_new();</a>
<a name="ln3643">    gtk_widget_add_events(labelev, GDK_BUTTON_PRESS_MASK);</a>
<a name="ln3644">    gtk_container_add(GTK_CONTAINER(labelev), label);</a>
<a name="ln3645">    widget = gtk_entry_new();</a>
<a name="ln3646">		gtk_widget_set_hexpand(widget, TRUE);</a>
<a name="ln3647">		gtk_widget_set_halign(widget, GTK_ALIGN_FILL);</a>
<a name="ln3648">    gchar *setting = dt_conf_get_string(&quot;session/filename_pattern&quot;);</a>
<a name="ln3649">    gtk_entry_set_text(GTK_ENTRY(widget), setting);</a>
<a name="ln3650">    g_free(setting);</a>
<a name="ln3651">    g_signal_connect(G_OBJECT(widget), &quot;activate&quot;, G_CALLBACK(preferences_callback_idm555), NULL);</a>
<a name="ln3652">    g_signal_connect(G_OBJECT(dialog), &quot;response&quot;, G_CALLBACK(preferences_response_callback_idm555), widget);</a>
<a name="ln3653">    snprintf(tooltip, 1024, _(&quot;double click to reset to `%s'&quot;), &quot;$(YEAR)$(MONTH)$(DAY)_$(SEQUENCE).$(FILE_EXTENSION)&quot;);</a>
<a name="ln3654">    g_object_set(labelev,  &quot;tooltip-text&quot;, tooltip, (gchar *)0);</a>
<a name="ln3655">    gtk_event_box_set_visible_window(GTK_EVENT_BOX(labelev), FALSE);</a>
<a name="ln3656">    g_object_set(widget, &quot;tooltip-text&quot;, _(&quot;file naming pattern used for a import session&quot;), (gchar *)0);</a>
<a name="ln3657">    gtk_grid_attach(GTK_GRID(grid), labelev, 0, line++, 1, 1);</a>
<a name="ln3658">    gtk_grid_attach_next_to(GTK_GRID(grid), widget, labelev, GTK_POS_RIGHT, 1, 1);</a>
<a name="ln3659">    g_signal_connect(G_OBJECT(labelev), &quot;button-press-event&quot;, G_CALLBACK(reset_widget_idm555), (gpointer)widget);</a>
<a name="ln3660"> </a>
<a name="ln3661">  }</a>
<a name="ln3662"> </a>
<a name="ln3663">  gtk_widget_show_all(tab);</a>
<a name="ln3664">}</a>
<a name="ln3665"> </a>
<a name="ln3666">#endif</a>

</code></pre>
<div class="balloon" rel="2006"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2174"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2236"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2283"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2770"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2817"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="2984"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3031"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3174"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3411"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>
<div class="balloon" rel="3497"><p><span style="font-size:18px">&uarr;</span> <a href="https://www.viva64.com/en/w/v560/" target="_blank">V560</a> A part of conditional expression is always true: pos == - 1.</p></div>

<link rel="stylesheet" href="highlight.css">
<script src="highlight.pack.js"></script>
<script src="highlightjs-line-numbers.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script>hljs.initLineNumbersOnLoad();</script>
<script>
  $(document).ready(function() {
      $('.balloon').each(function () {
          var bl = $(this);
          var line = bl.attr('rel');
          var text = $('a[name="ln'+line+'"]').text();

          var space_count = 0;
          for(var i = 0; i<text.length; i++){
              var char = text[i];
              if((char !== ' ')&&(char !== '\t'))break;
              if(char === '\t')space_count++;
              space_count++;
          }

          bl.css('margin-left', space_count*8);
          $('a[name="ln'+line+'"]').after(bl);
      });

      window.location = window.location;
  });
</script>
</body>
</html>
